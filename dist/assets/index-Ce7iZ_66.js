function tw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Um(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Wm={exports:{}},ka={},zm={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=Symbol.for("react.element"),rw=Symbol.for("react.portal"),sw=Symbol.for("react.fragment"),iw=Symbol.for("react.strict_mode"),ow=Symbol.for("react.profiler"),aw=Symbol.for("react.provider"),lw=Symbol.for("react.context"),cw=Symbol.for("react.forward_ref"),uw=Symbol.for("react.suspense"),dw=Symbol.for("react.memo"),hw=Symbol.for("react.lazy"),kh=Symbol.iterator;function fw(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var Hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ym=Object.assign,Km={};function us(e,t,n){this.props=e,this.context=t,this.refs=Km,this.updater=n||Hm}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gm(){}Gm.prototype=us.prototype;function ju(e,t,n){this.props=e,this.context=t,this.refs=Km,this.updater=n||Hm}var Cu=ju.prototype=new Gm;Cu.constructor=ju;Ym(Cu,us.prototype);Cu.isPureReactComponent=!0;var Sh=Array.isArray,qm=Object.prototype.hasOwnProperty,Pu={current:null},Qm={key:!0,ref:!0,__self:!0,__source:!0};function Xm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)qm.call(t,r)&&!Qm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ni,type:e,key:i,ref:o,props:s,_owner:Pu.current}}function pw(e,t){return{$$typeof:Ni,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ni}function mw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jh=/\/+/g;function rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mw(""+e.key):t.toString(36)}function wo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ni:case rw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+rl(o,0):r,Sh(s)?(n="",e!=null&&(n=e.replace(jh,"$&/")+"/"),wo(s,t,n,"",function(u){return u})):s!=null&&(Nu(s)&&(s=pw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Sh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+rl(i,a);o+=wo(i,t,n,l,s)}else if(l=fw(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+rl(i,a++),o+=wo(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Wi(e,t,n){if(e==null)return e;var r=[],s=0;return wo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function gw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},bo={transition:null},vw={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:bo,ReactCurrentOwner:Pu};function Jm(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Wi,forEach:function(e,t,n){Wi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wi(e,function(){t++}),t},toArray:function(e){return Wi(e,function(t){return t})||[]},only:function(e){if(!Nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=us;q.Fragment=sw;q.Profiler=ow;q.PureComponent=ju;q.StrictMode=iw;q.Suspense=uw;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw;q.act=Jm;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ym({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Pu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)qm.call(t,l)&&!Qm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ni,type:e.type,key:s,ref:i,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:lw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aw,_context:e},e.Consumer=e};q.createElement=Xm;q.createFactory=function(e){var t=Xm.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:cw,render:e}};q.isValidElement=Nu;q.lazy=function(e){return{$$typeof:hw,_payload:{_status:-1,_result:e},_init:gw}};q.memo=function(e,t){return{$$typeof:dw,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=bo.transition;bo.transition={};try{e()}finally{bo.transition=t}};q.unstable_act=Jm;q.useCallback=function(e,t){return Ye.current.useCallback(e,t)};q.useContext=function(e){return Ye.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};q.useEffect=function(e,t){return Ye.current.useEffect(e,t)};q.useId=function(){return Ye.current.useId()};q.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Ye.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};q.useRef=function(e){return Ye.current.useRef(e)};q.useState=function(e){return Ye.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Ye.current.useTransition()};q.version="18.3.1";zm.exports=q;var b=zm.exports;const I=Um(b),yw=tw({__proto__:null,default:I},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw=b,ww=Symbol.for("react.element"),bw=Symbol.for("react.fragment"),_w=Object.prototype.hasOwnProperty,kw=xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sw={key:!0,ref:!0,__self:!0,__source:!0};function Zm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)_w.call(t,r)&&!Sw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ww,type:e,key:i,ref:o,props:s,_owner:kw.current}}ka.Fragment=bw;ka.jsx=Zm;ka.jsxs=Zm;Wm.exports=ka;var c=Wm.exports,e0={exports:{}},dt={},t0={exports:{}},n0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,O){var L=j.length;j.push(O);e:for(;0<L;){var W=L-1>>>1,V=j[W];if(0<s(V,O))j[W]=O,j[L]=V,L=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var O=j[0],L=j.pop();if(L!==O){j[0]=L;e:for(var W=0,V=j.length,ae=V>>>1;W<ae;){var je=2*(W+1)-1,Wn=j[je],zn=je+1,Ui=j[zn];if(0>s(Wn,L))zn<V&&0>s(Ui,Wn)?(j[W]=Ui,j[zn]=L,W=zn):(j[W]=Wn,j[je]=L,W=je);else if(zn<V&&0>s(Ui,L))j[W]=Ui,j[zn]=L,W=zn;else break e}}return O}function s(j,O){var L=j.sortIndex-O.sortIndex;return L!==0?L:j.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=j)r(u),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(u)}}function _(j){if(w=!1,v(j),!y)if(n(l)!==null)y=!0,Ee(S);else{var O=n(u);O!==null&&M(_,O.startTime-j)}}function S(j,O){y=!1,w&&(w=!1,g(P),P=-1),p=!0;var L=f;try{for(v(O),h=n(l);h!==null&&(!(h.expirationTime>O)||j&&!T());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var V=W(h.expirationTime<=O);O=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),v(O)}else r(l);h=n(l)}if(h!==null)var ae=!0;else{var je=n(u);je!==null&&M(_,je.startTime-O),ae=!1}return ae}finally{h=null,f=L,p=!1}}var k=!1,C=null,P=-1,D=5,E=-1;function T(){return!(e.unstable_now()-E<D)}function F(){if(C!==null){var j=e.unstable_now();E=j;var O=!0;try{O=C(!0,j)}finally{O?Y():(k=!1,C=null)}}else k=!1}var Y;if(typeof m=="function")Y=function(){m(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,U=X.port2;X.port1.onmessage=F,Y=function(){U.postMessage(null)}}else Y=function(){x(F,0)};function Ee(j){C=j,k||(k=!0,Y())}function M(j,O){P=x(function(){j(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,Ee(S))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var L=f;f=O;try{return j()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,O){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var L=f;f=j;try{return O()}finally{f=L}},e.unstable_scheduleCallback=function(j,O,L){var W=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,j){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=L+V,j={id:d++,callback:O,priorityLevel:j,startTime:L,expirationTime:V,sortIndex:-1},L>W?(j.sortIndex=L,t(u,j),n(l)===null&&j===n(u)&&(w?(g(P),P=-1):w=!0,M(_,L-W))):(j.sortIndex=V,t(l,j),y||p||(y=!0,Ee(S))),j},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(j){var O=f;return function(){var L=f;f=O;try{return j.apply(this,arguments)}finally{f=L}}}})(n0);t0.exports=n0;var jw=t0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw=b,ct=jw;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r0=new Set,ni={};function pr(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(ni[e]=t,e=0;e<t.length;e++)r0.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=Object.prototype.hasOwnProperty,Pw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ch={},Ph={};function Nw(e){return rc.call(Ph,e)?!0:rc.call(Ch,e)?!1:Pw.test(e)?Ph[e]=!0:(Ch[e]=!0,!1)}function Ew(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tw(e,t,n,r){if(t===null||typeof t>"u"||Ew(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Eu=/[\-:]([a-z])/g;function Tu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Eu,Tu);Oe[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Eu,Tu);Oe[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Eu,Tu);Oe[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mu(e,t,n,r){var s=Oe.hasOwnProperty(t)?Oe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tw(t,n,s,r)&&(n=null),r||s===null?Nw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sn=Cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zi=Symbol.for("react.element"),jr=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Du=Symbol.for("react.strict_mode"),sc=Symbol.for("react.profiler"),s0=Symbol.for("react.provider"),i0=Symbol.for("react.context"),Ou=Symbol.for("react.forward_ref"),ic=Symbol.for("react.suspense"),oc=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),o0=Symbol.for("react.offscreen"),Nh=Symbol.iterator;function xs(e){return e===null||typeof e!="object"?null:(e=Nh&&e[Nh]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,sl;function Rs(e){if(sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||""}return`
`+sl+e}var il=!1;function ol(e,t){if(!e||il)return"";il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{il=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rs(e):""}function Mw(e){switch(e.tag){case 5:return Rs(e.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return e=ol(e.type,!1),e;case 11:return e=ol(e.type.render,!1),e;case 1:return e=ol(e.type,!0),e;default:return""}}function ac(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case jr:return"Portal";case sc:return"Profiler";case Du:return"StrictMode";case ic:return"Suspense";case oc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i0:return(e.displayName||"Context")+".Consumer";case s0:return(e._context.displayName||"Context")+".Provider";case Ou:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Au:return t=e.displayName||null,t!==null?t:ac(e.type)||"Memo";case fn:t=e._payload,e=e._init;try{return ac(e(t))}catch{}}return null}function Dw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ac(t);case 8:return t===Du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function a0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ow(e){var t=a0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){e._valueTracker||(e._valueTracker=Ow(e))}function l0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=a0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Io(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lc(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Eh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c0(e,t){t=t.checked,t!=null&&Mu(e,"checked",t,!1)}function cc(e,t){c0(e,t);var n=Mn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uc(e,t.type,n):t.hasOwnProperty("defaultValue")&&uc(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Th(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function uc(e,t,n){(t!=="number"||Io(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function Wr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function dc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Ls(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mn(n)}}function u0(e,t){var n=Mn(t.value),r=Mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Dh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yi,h0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yi=Yi||document.createElement("div"),Yi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Aw=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(e){Aw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Us[t]=Us[e]})});function f0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Us.hasOwnProperty(e)&&Us[e]?(""+t).trim():t+"px"}function p0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=f0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Rw=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(e,t){if(t){if(Rw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function pc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function Ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gc=null,zr=null,Hr=null;function Oh(e){if(e=Mi(e)){if(typeof gc!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Na(t),gc(e.stateNode,e.type,t))}}function m0(e){zr?Hr?Hr.push(e):Hr=[e]:zr=e}function g0(){if(zr){var e=zr,t=Hr;if(Hr=zr=null,Oh(e),t)for(e=0;e<t.length;e++)Oh(t[e])}}function v0(e,t){return e(t)}function y0(){}var al=!1;function x0(e,t,n){if(al)return e(t,n);al=!0;try{return v0(e,t,n)}finally{al=!1,(zr!==null||Hr!==null)&&(y0(),g0())}}function si(e,t){var n=e.stateNode;if(n===null)return null;var r=Na(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var vc=!1;if(en)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){vc=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{vc=!1}function Lw(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ws=!1,$o=null,Bo=!1,yc=null,Fw={onError:function(e){Ws=!0,$o=e}};function Iw(e,t,n,r,s,i,o,a,l){Ws=!1,$o=null,Lw.apply(Fw,arguments)}function $w(e,t,n,r,s,i,o,a,l){if(Iw.apply(this,arguments),Ws){if(Ws){var u=$o;Ws=!1,$o=null}else throw Error(N(198));Bo||(Bo=!0,yc=u)}}function mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function w0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ah(e){if(mr(e)!==e)throw Error(N(188))}function Bw(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ah(s),e;if(i===r)return Ah(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function b0(e){return e=Bw(e),e!==null?_0(e):null}function _0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_0(e);if(t!==null)return t;e=e.sibling}return null}var k0=ct.unstable_scheduleCallback,Rh=ct.unstable_cancelCallback,Vw=ct.unstable_shouldYield,Uw=ct.unstable_requestPaint,ye=ct.unstable_now,Ww=ct.unstable_getCurrentPriorityLevel,Lu=ct.unstable_ImmediatePriority,S0=ct.unstable_UserBlockingPriority,Vo=ct.unstable_NormalPriority,zw=ct.unstable_LowPriority,j0=ct.unstable_IdlePriority,Sa=null,Ft=null;function Hw(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Sa,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Gw,Yw=Math.log,Kw=Math.LN2;function Gw(e){return e>>>=0,e===0?32:31-(Yw(e)/Kw|0)|0}var Ki=64,Gi=4194304;function Fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Uo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Fs(a):(i&=o,i!==0&&(r=Fs(i)))}else o=n&~s,o!==0?r=Fs(o):i!==0&&(r=Fs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Et(t),s=1<<n,r|=e[n],t&=~s;return r}function qw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Et(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=qw(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function C0(){var e=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),e}function ll(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ei(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=n}function Xw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Et(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Fu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Et(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var te=0;function P0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var N0,Iu,E0,T0,M0,wc=!1,qi=[],_n=null,kn=null,Sn=null,ii=new Map,oi=new Map,gn=[],Jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(t.pointerId)}}function bs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Mi(t),t!==null&&Iu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zw(e,t,n,r,s){switch(t){case"focusin":return _n=bs(_n,e,t,n,r,s),!0;case"dragenter":return kn=bs(kn,e,t,n,r,s),!0;case"mouseover":return Sn=bs(Sn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ii.set(i,bs(ii.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oi.set(i,bs(oi.get(i)||null,e,t,n,r,s)),!0}return!1}function D0(e){var t=er(e.target);if(t!==null){var n=mr(t);if(n!==null){if(t=n.tag,t===13){if(t=w0(n),t!==null){e.blockedOn=t,M0(e.priority,function(){E0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mc=r,n.target.dispatchEvent(r),mc=null}else return t=Mi(n),t!==null&&Iu(t),e.blockedOn=n,!1;t.shift()}return!0}function Fh(e,t,n){_o(e)&&n.delete(t)}function e1(){wc=!1,_n!==null&&_o(_n)&&(_n=null),kn!==null&&_o(kn)&&(kn=null),Sn!==null&&_o(Sn)&&(Sn=null),ii.forEach(Fh),oi.forEach(Fh)}function _s(e,t){e.blockedOn===t&&(e.blockedOn=null,wc||(wc=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,e1)))}function ai(e){function t(s){return _s(s,e)}if(0<qi.length){_s(qi[0],e);for(var n=1;n<qi.length;n++){var r=qi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&_s(_n,e),kn!==null&&_s(kn,e),Sn!==null&&_s(Sn,e),ii.forEach(t),oi.forEach(t),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)D0(n),n.blockedOn===null&&gn.shift()}var Yr=sn.ReactCurrentBatchConfig,Wo=!0;function t1(e,t,n,r){var s=te,i=Yr.transition;Yr.transition=null;try{te=1,$u(e,t,n,r)}finally{te=s,Yr.transition=i}}function n1(e,t,n,r){var s=te,i=Yr.transition;Yr.transition=null;try{te=4,$u(e,t,n,r)}finally{te=s,Yr.transition=i}}function $u(e,t,n,r){if(Wo){var s=bc(e,t,n,r);if(s===null)yl(e,t,r,zo,n),Lh(e,r);else if(Zw(s,e,t,n,r))r.stopPropagation();else if(Lh(e,r),t&4&&-1<Jw.indexOf(e)){for(;s!==null;){var i=Mi(s);if(i!==null&&N0(i),i=bc(e,t,n,r),i===null&&yl(e,t,r,zo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yl(e,t,r,null,n)}}var zo=null;function bc(e,t,n,r){if(zo=null,e=Ru(r),e=er(e),e!==null)if(t=mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=w0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zo=e,null}function O0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ww()){case Lu:return 1;case S0:return 4;case Vo:case zw:return 16;case j0:return 536870912;default:return 16}default:return 16}}var xn=null,Bu=null,ko=null;function A0(){if(ko)return ko;var e,t=Bu,n=t.length,r,s="value"in xn?xn.value:xn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ko=s.slice(e,1<r?1-r:void 0)}function So(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function Ih(){return!1}function ht(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qi:Ih,this.isPropagationStopped=Ih,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vu=ht(ds),Ti=me({},ds,{view:0,detail:0}),r1=ht(Ti),cl,ul,ks,ja=me({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(cl=e.screenX-ks.screenX,ul=e.screenY-ks.screenY):ul=cl=0,ks=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:ul}}),$h=ht(ja),s1=me({},ja,{dataTransfer:0}),i1=ht(s1),o1=me({},Ti,{relatedTarget:0}),dl=ht(o1),a1=me({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=ht(a1),c1=me({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u1=ht(c1),d1=me({},ds,{data:0}),Bh=ht(d1),h1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p1[e])?!!t[e]:!1}function Uu(){return m1}var g1=me({},Ti,{key:function(e){if(e.key){var t=h1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v1=ht(g1),y1=me({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vh=ht(y1),x1=me({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),w1=ht(x1),b1=me({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),_1=ht(b1),k1=me({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S1=ht(k1),j1=[9,13,27,32],Wu=en&&"CompositionEvent"in window,zs=null;en&&"documentMode"in document&&(zs=document.documentMode);var C1=en&&"TextEvent"in window&&!zs,R0=en&&(!Wu||zs&&8<zs&&11>=zs),Uh=" ",Wh=!1;function L0(e,t){switch(e){case"keyup":return j1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function P1(e,t){switch(e){case"compositionend":return F0(t);case"keypress":return t.which!==32?null:(Wh=!0,Uh);case"textInput":return e=t.data,e===Uh&&Wh?null:e;default:return null}}function N1(e,t){if(Pr)return e==="compositionend"||!Wu&&L0(e,t)?(e=A0(),ko=Bu=xn=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R0&&t.locale!=="ko"?null:t.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E1[e.type]:t==="textarea"}function I0(e,t,n,r){m0(r),t=Ho(t,"onChange"),0<t.length&&(n=new Vu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hs=null,li=null;function T1(e){q0(e,0)}function Ca(e){var t=Tr(e);if(l0(t))return e}function M1(e,t){if(e==="change")return t}var $0=!1;if(en){var hl;if(en){var fl="oninput"in document;if(!fl){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),fl=typeof Hh.oninput=="function"}hl=fl}else hl=!1;$0=hl&&(!document.documentMode||9<document.documentMode)}function Yh(){Hs&&(Hs.detachEvent("onpropertychange",B0),li=Hs=null)}function B0(e){if(e.propertyName==="value"&&Ca(li)){var t=[];I0(t,li,e,Ru(e)),x0(T1,t)}}function D1(e,t,n){e==="focusin"?(Yh(),Hs=t,li=n,Hs.attachEvent("onpropertychange",B0)):e==="focusout"&&Yh()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ca(li)}function A1(e,t){if(e==="click")return Ca(t)}function R1(e,t){if(e==="input"||e==="change")return Ca(t)}function L1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:L1;function ci(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!rc.call(t,s)||!Mt(e[s],t[s]))return!1}return!0}function Kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gh(e,t){var n=Kh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kh(n)}}function V0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?V0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U0(){for(var e=window,t=Io();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Io(e.document)}return t}function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function F1(e){var t=U0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&V0(n.ownerDocument.documentElement,n)){if(r!==null&&zu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Gh(n,i);var o=Gh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var I1=en&&"documentMode"in document&&11>=document.documentMode,Nr=null,_c=null,Ys=null,kc=!1;function qh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kc||Nr==null||Nr!==Io(r)||(r=Nr,"selectionStart"in r&&zu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ys&&ci(Ys,r)||(Ys=r,r=Ho(_c,"onSelect"),0<r.length&&(t=new Vu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function Xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},pl={},W0={};en&&(W0=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Pa(e){if(pl[e])return pl[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in W0)return pl[e]=t[n];return e}var z0=Pa("animationend"),H0=Pa("animationiteration"),Y0=Pa("animationstart"),K0=Pa("transitionend"),G0=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){G0.set(e,t),pr(t,[e])}for(var ml=0;ml<Qh.length;ml++){var gl=Qh[ml],$1=gl.toLowerCase(),B1=gl[0].toUpperCase()+gl.slice(1);Ln($1,"on"+B1)}Ln(z0,"onAnimationEnd");Ln(H0,"onAnimationIteration");Ln(Y0,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(K0,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Xh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$w(r,t,void 0,e),e.currentTarget=null}function q0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Xh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Xh(s,a,u),i=l}}}if(Bo)throw e=yc,Bo=!1,yc=null,e}function le(e,t){var n=t[Nc];n===void 0&&(n=t[Nc]=new Set);var r=e+"__bubble";n.has(r)||(Q0(t,e,2,!1),n.add(r))}function vl(e,t,n){var r=0;t&&(r|=4),Q0(n,e,r,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function ui(e){if(!e[Ji]){e[Ji]=!0,r0.forEach(function(n){n!=="selectionchange"&&(V1.has(n)||vl(n,!1,e),vl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,vl("selectionchange",!1,t))}}function Q0(e,t,n,r){switch(O0(t)){case 1:var s=t1;break;case 4:s=n1;break;default:s=$u}n=s.bind(null,t,n,e),s=void 0,!vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function yl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=er(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}x0(function(){var u=i,d=Ru(n),h=[];e:{var f=G0.get(e);if(f!==void 0){var p=Vu,y=e;switch(e){case"keypress":if(So(n)===0)break e;case"keydown":case"keyup":p=v1;break;case"focusin":y="focus",p=dl;break;case"focusout":y="blur",p=dl;break;case"beforeblur":case"afterblur":p=dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=i1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=w1;break;case z0:case H0:case Y0:p=l1;break;case K0:p=_1;break;case"scroll":p=r1;break;case"wheel":p=S1;break;case"copy":case"cut":case"paste":p=u1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Vh}var w=(t&4)!==0,x=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var m=u,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,g!==null&&(_=si(m,g),_!=null&&w.push(di(m,_,v)))),x)break;m=m.return}0<w.length&&(f=new p(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==mc&&(y=n.relatedTarget||n.fromElement)&&(er(y)||y[tn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?er(y):null,y!==null&&(x=mr(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=$h,_="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Vh,_="onPointerLeave",g="onPointerEnter",m="pointer"),x=p==null?f:Tr(p),v=y==null?f:Tr(y),f=new w(_,m+"leave",p,n,d),f.target=x,f.relatedTarget=v,_=null,er(d)===u&&(w=new w(g,m+"enter",y,n,d),w.target=v,w.relatedTarget=x,_=w),x=_,p&&y)t:{for(w=p,g=y,m=0,v=w;v;v=xr(v))m++;for(v=0,_=g;_;_=xr(_))v++;for(;0<m-v;)w=xr(w),m--;for(;0<v-m;)g=xr(g),v--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=xr(w),g=xr(g)}w=null}else w=null;p!==null&&Jh(h,f,p,w,!1),y!==null&&x!==null&&Jh(h,x,y,w,!0)}}e:{if(f=u?Tr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=M1;else if(zh(f))if($0)S=R1;else{S=O1;var k=D1}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=A1);if(S&&(S=S(e,u))){I0(h,S,n,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&uc(f,"number",f.value)}switch(k=u?Tr(u):window,e){case"focusin":(zh(k)||k.contentEditable==="true")&&(Nr=k,_c=u,Ys=null);break;case"focusout":Ys=_c=Nr=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,qh(h,n,d);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":qh(h,n,d)}var C;if(Wu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Pr?L0(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(R0&&n.locale!=="ko"&&(Pr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Pr&&(C=A0()):(xn=d,Bu="value"in xn?xn.value:xn.textContent,Pr=!0)),k=Ho(u,P),0<k.length&&(P=new Bh(P,e,null,n,d),h.push({event:P,listeners:k}),C?P.data=C:(C=F0(n),C!==null&&(P.data=C)))),(C=C1?P1(e,n):N1(e,n))&&(u=Ho(u,"onBeforeInput"),0<u.length&&(d=new Bh("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}q0(h,t)})}function di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ho(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=si(e,n),i!=null&&r.unshift(di(e,i,s)),i=si(e,t),i!=null&&r.push(di(e,i,s))),e=e.return}return r}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=si(n,i),l!=null&&o.unshift(di(n,l,a))):s||(l=si(n,i),l!=null&&o.push(di(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var U1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function Zh(e){return(typeof e=="string"?e:""+e).replace(U1,`
`).replace(W1,"")}function Zi(e,t,n){if(t=Zh(t),Zh(e)!==t&&n)throw Error(N(425))}function Yo(){}var Sc=null,jc=null;function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(e){return ef.resolve(null).then(e).catch(Y1)}:Pc;function Y1(e){setTimeout(function(){throw e})}function xl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ai(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Rt="__reactFiber$"+hs,hi="__reactProps$"+hs,tn="__reactContainer$"+hs,Nc="__reactEvents$"+hs,K1="__reactListeners$"+hs,G1="__reactHandles$"+hs;function er(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tn]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tf(e);e!==null;){if(n=e[Rt])return n;e=tf(e)}return t}e=n,n=e.parentNode}return null}function Mi(e){return e=e[Rt]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Na(e){return e[hi]||null}var Ec=[],Mr=-1;function Fn(e){return{current:e}}function ce(e){0>Mr||(e.current=Ec[Mr],Ec[Mr]=null,Mr--)}function ie(e,t){Mr++,Ec[Mr]=e.current,e.current=t}var Dn={},Ve=Fn(Dn),Ze=Fn(!1),ar=Dn;function Xr(e,t){var n=e.type.contextTypes;if(!n)return Dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function et(e){return e=e.childContextTypes,e!=null}function Ko(){ce(Ze),ce(Ve)}function nf(e,t,n){if(Ve.current!==Dn)throw Error(N(168));ie(Ve,t),ie(Ze,n)}function X0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,Dw(e)||"Unknown",s));return me({},n,r)}function Go(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dn,ar=Ve.current,ie(Ve,e),ie(Ze,Ze.current),!0}function rf(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=X0(e,t,ar),r.__reactInternalMemoizedMergedChildContext=e,ce(Ze),ce(Ve),ie(Ve,e)):ce(Ze),ie(Ze,n)}var zt=null,Ea=!1,wl=!1;function J0(e){zt===null?zt=[e]:zt.push(e)}function q1(e){Ea=!0,J0(e)}function In(){if(!wl&&zt!==null){wl=!0;var e=0,t=te;try{var n=zt;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Ea=!1}catch(s){throw zt!==null&&(zt=zt.slice(e+1)),k0(Lu,In),s}finally{te=t,wl=!1}}return null}var Dr=[],Or=0,qo=null,Qo=0,mt=[],gt=0,lr=null,Yt=1,Kt="";function Kn(e,t){Dr[Or++]=Qo,Dr[Or++]=qo,qo=e,Qo=t}function Z0(e,t,n){mt[gt++]=Yt,mt[gt++]=Kt,mt[gt++]=lr,lr=e;var r=Yt;e=Kt;var s=32-Et(r)-1;r&=~(1<<s),n+=1;var i=32-Et(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Yt=1<<32-Et(t)+s|n<<s|r,Kt=i+e}else Yt=1<<i|n<<s|r,Kt=e}function Hu(e){e.return!==null&&(Kn(e,1),Z0(e,1,0))}function Yu(e){for(;e===qo;)qo=Dr[--Or],Dr[Or]=null,Qo=Dr[--Or],Dr[Or]=null;for(;e===lr;)lr=mt[--gt],mt[gt]=null,Kt=mt[--gt],mt[gt]=null,Yt=mt[--gt],mt[gt]=null}var lt=null,ot=null,ue=!1,Pt=null;function eg(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ot=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lr!==null?{id:Yt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,ot=null,!0):!1;default:return!1}}function Tc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mc(e){if(ue){var t=ot;if(t){var n=t;if(!sf(e,t)){if(Tc(e))throw Error(N(418));t=jn(n.nextSibling);var r=lt;t&&sf(e,t)?eg(r,n):(e.flags=e.flags&-4097|2,ue=!1,lt=e)}}else{if(Tc(e))throw Error(N(418));e.flags=e.flags&-4097|2,ue=!1,lt=e}}}function of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function eo(e){if(e!==lt)return!1;if(!ue)return of(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cc(e.type,e.memoizedProps)),t&&(t=ot)){if(Tc(e))throw tg(),Error(N(418));for(;t;)eg(e,t),t=jn(t.nextSibling)}if(of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=lt?jn(e.stateNode.nextSibling):null;return!0}function tg(){for(var e=ot;e;)e=jn(e.nextSibling)}function Jr(){ot=lt=null,ue=!1}function Ku(e){Pt===null?Pt=[e]:Pt.push(e)}var Q1=sn.ReactCurrentBatchConfig;function Ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function to(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function af(e){var t=e._init;return t(e._payload)}function ng(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=En(g,m),g.index=0,g.sibling=null,g}function i(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,_){return m===null||m.tag!==6?(m=Pl(v,g.mode,_),m.return=g,m):(m=s(m,v),m.return=g,m)}function l(g,m,v,_){var S=v.type;return S===Cr?d(g,m,v.props.children,_,v.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fn&&af(S)===m.type)?(_=s(m,v.props),_.ref=Ss(g,m,v),_.return=g,_):(_=Mo(v.type,v.key,v.props,null,g.mode,_),_.ref=Ss(g,m,v),_.return=g,_)}function u(g,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Nl(v,g.mode,_),m.return=g,m):(m=s(m,v.children||[]),m.return=g,m)}function d(g,m,v,_,S){return m===null||m.tag!==7?(m=ir(v,g.mode,_,S),m.return=g,m):(m=s(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Pl(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zi:return v=Mo(m.type,m.key,m.props,null,g.mode,v),v.ref=Ss(g,null,m),v.return=g,v;case jr:return m=Nl(m,g.mode,v),m.return=g,m;case fn:var _=m._init;return h(g,_(m._payload),v)}if(Ls(m)||xs(m))return m=ir(m,g.mode,v,null),m.return=g,m;to(g,m)}return null}function f(g,m,v,_){var S=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(g,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zi:return v.key===S?l(g,m,v,_):null;case jr:return v.key===S?u(g,m,v,_):null;case fn:return S=v._init,f(g,m,S(v._payload),_)}if(Ls(v)||xs(v))return S!==null?null:d(g,m,v,_,null);to(g,v)}return null}function p(g,m,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(v)||null,a(m,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zi:return g=g.get(_.key===null?v:_.key)||null,l(m,g,_,S);case jr:return g=g.get(_.key===null?v:_.key)||null,u(m,g,_,S);case fn:var k=_._init;return p(g,m,v,k(_._payload),S)}if(Ls(_)||xs(_))return g=g.get(v)||null,d(m,g,_,S,null);to(m,_)}return null}function y(g,m,v,_){for(var S=null,k=null,C=m,P=m=0,D=null;C!==null&&P<v.length;P++){C.index>P?(D=C,C=null):D=C.sibling;var E=f(g,C,v[P],_);if(E===null){C===null&&(C=D);break}e&&C&&E.alternate===null&&t(g,C),m=i(E,m,P),k===null?S=E:k.sibling=E,k=E,C=D}if(P===v.length)return n(g,C),ue&&Kn(g,P),S;if(C===null){for(;P<v.length;P++)C=h(g,v[P],_),C!==null&&(m=i(C,m,P),k===null?S=C:k.sibling=C,k=C);return ue&&Kn(g,P),S}for(C=r(g,C);P<v.length;P++)D=p(C,g,P,v[P],_),D!==null&&(e&&D.alternate!==null&&C.delete(D.key===null?P:D.key),m=i(D,m,P),k===null?S=D:k.sibling=D,k=D);return e&&C.forEach(function(T){return t(g,T)}),ue&&Kn(g,P),S}function w(g,m,v,_){var S=xs(v);if(typeof S!="function")throw Error(N(150));if(v=S.call(v),v==null)throw Error(N(151));for(var k=S=null,C=m,P=m=0,D=null,E=v.next();C!==null&&!E.done;P++,E=v.next()){C.index>P?(D=C,C=null):D=C.sibling;var T=f(g,C,E.value,_);if(T===null){C===null&&(C=D);break}e&&C&&T.alternate===null&&t(g,C),m=i(T,m,P),k===null?S=T:k.sibling=T,k=T,C=D}if(E.done)return n(g,C),ue&&Kn(g,P),S;if(C===null){for(;!E.done;P++,E=v.next())E=h(g,E.value,_),E!==null&&(m=i(E,m,P),k===null?S=E:k.sibling=E,k=E);return ue&&Kn(g,P),S}for(C=r(g,C);!E.done;P++,E=v.next())E=p(C,g,P,E.value,_),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?P:E.key),m=i(E,m,P),k===null?S=E:k.sibling=E,k=E);return e&&C.forEach(function(F){return t(g,F)}),ue&&Kn(g,P),S}function x(g,m,v,_){if(typeof v=="object"&&v!==null&&v.type===Cr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case zi:e:{for(var S=v.key,k=m;k!==null;){if(k.key===S){if(S=v.type,S===Cr){if(k.tag===7){n(g,k.sibling),m=s(k,v.props.children),m.return=g,g=m;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fn&&af(S)===k.type){n(g,k.sibling),m=s(k,v.props),m.ref=Ss(g,k,v),m.return=g,g=m;break e}n(g,k);break}else t(g,k);k=k.sibling}v.type===Cr?(m=ir(v.props.children,g.mode,_,v.key),m.return=g,g=m):(_=Mo(v.type,v.key,v.props,null,g.mode,_),_.ref=Ss(g,m,v),_.return=g,g=_)}return o(g);case jr:e:{for(k=v.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=s(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Nl(v,g.mode,_),m.return=g,g=m}return o(g);case fn:return k=v._init,x(g,m,k(v._payload),_)}if(Ls(v))return y(g,m,v,_);if(xs(v))return w(g,m,v,_);to(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,v),m.return=g,g=m):(n(g,m),m=Pl(v,g.mode,_),m.return=g,g=m),o(g)):n(g,m)}return x}var Zr=ng(!0),rg=ng(!1),Xo=Fn(null),Jo=null,Ar=null,Gu=null;function qu(){Gu=Ar=Jo=null}function Qu(e){var t=Xo.current;ce(Xo),e._currentValue=t}function Dc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kr(e,t){Jo=e,Gu=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Gu!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(Jo===null)throw Error(N(308));Ar=e,Jo.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var tr=null;function Xu(e){tr===null?tr=[e]:tr.push(e)}function sg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xu(t)):(n.next=s.next,s.next=n),t.interleaved=n,nn(e,r)}function nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function Ju(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ig(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,nn(e,n)}return s=r.interleaved,s===null?(t.next=t,Xu(r)):(t.next=s.next,s.next=t),r.interleaved=t,nn(e,n)}function jo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fu(e,n)}}function lf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zo(e,t,n,r){var s=e.updateQueue;pn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,w=a;switch(f=t,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=me({},h,f);break e;case 2:pn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ur|=o,e.lanes=o,e.memoizedState=h}}function cf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var Di={},It=Fn(Di),fi=Fn(Di),pi=Fn(Di);function nr(e){if(e===Di)throw Error(N(174));return e}function Zu(e,t){switch(ie(pi,t),ie(fi,e),ie(It,Di),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hc(t,e)}ce(It),ie(It,t)}function es(){ce(It),ce(fi),ce(pi)}function og(e){nr(pi.current);var t=nr(It.current),n=hc(t,e.type);t!==n&&(ie(fi,e),ie(It,n))}function ed(e){fi.current===e&&(ce(It),ce(fi))}var he=Fn(0);function ea(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=[];function td(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var Co=sn.ReactCurrentDispatcher,_l=sn.ReactCurrentBatchConfig,cr=0,pe=null,ke=null,Pe=null,ta=!1,Ks=!1,mi=0,X1=0;function Ae(){throw Error(N(321))}function nd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function rd(e,t,n,r,s,i){if(cr=i,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Co.current=e===null||e.memoizedState===null?tb:nb,e=n(r,s),Ks){i=0;do{if(Ks=!1,mi=0,25<=i)throw Error(N(301));i+=1,Pe=ke=null,t.updateQueue=null,Co.current=rb,e=n(r,s)}while(Ks)}if(Co.current=na,t=ke!==null&&ke.next!==null,cr=0,Pe=ke=pe=null,ta=!1,t)throw Error(N(300));return e}function sd(){var e=mi!==0;return mi=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?pe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function bt(){if(ke===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Pe===null?pe.memoizedState:Pe.next;if(t!==null)Pe=t,ke=e;else{if(e===null)throw Error(N(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Pe===null?pe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function gi(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=bt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((cr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,pe.lanes|=d,ur|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Mt(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,pe.lanes|=i,ur|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sl(e){var t=bt(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Mt(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ag(){}function lg(e,t){var n=pe,r=bt(),s=t(),i=!Mt(r.memoizedState,s);if(i&&(r.memoizedState=s,Xe=!0),r=r.queue,id(dg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,vi(9,ug.bind(null,n,r,s,t),void 0,null),Ne===null)throw Error(N(349));cr&30||cg(n,t,s)}return s}function cg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ug(e,t,n,r){t.value=n,t.getSnapshot=r,hg(t)&&fg(e)}function dg(e,t,n){return n(function(){hg(t)&&fg(e)})}function hg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function fg(e){var t=nn(e,1);t!==null&&Tt(t,e,1,-1)}function uf(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t.queue=e,e=e.dispatch=eb.bind(null,pe,e),[t.memoizedState,e]}function vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pg(){return bt().memoizedState}function Po(e,t,n,r){var s=At();pe.flags|=e,s.memoizedState=vi(1|t,n,void 0,r===void 0?null:r)}function Ta(e,t,n,r){var s=bt();r=r===void 0?null:r;var i=void 0;if(ke!==null){var o=ke.memoizedState;if(i=o.destroy,r!==null&&nd(r,o.deps)){s.memoizedState=vi(t,n,i,r);return}}pe.flags|=e,s.memoizedState=vi(1|t,n,i,r)}function df(e,t){return Po(8390656,8,e,t)}function id(e,t){return Ta(2048,8,e,t)}function mg(e,t){return Ta(4,2,e,t)}function gg(e,t){return Ta(4,4,e,t)}function vg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yg(e,t,n){return n=n!=null?n.concat([e]):null,Ta(4,4,vg.bind(null,t,e),n)}function od(){}function xg(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wg(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bg(e,t,n){return cr&21?(Mt(n,t)||(n=C0(),pe.lanes|=n,ur|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function J1(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=_l.transition;_l.transition={};try{e(!1),t()}finally{te=n,_l.transition=r}}function _g(){return bt().memoizedState}function Z1(e,t,n){var r=Nn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kg(e))Sg(t,n);else if(n=sg(e,t,n,r),n!==null){var s=ze();Tt(n,e,r,s),jg(n,t,r)}}function eb(e,t,n){var r=Nn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kg(e))Sg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Mt(a,o)){var l=t.interleaved;l===null?(s.next=s,Xu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=sg(e,t,s,r),n!==null&&(s=ze(),Tt(n,e,r,s),jg(n,t,r))}}function kg(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Sg(e,t){Ks=ta=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fu(e,n)}}var na={readContext:wt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},tb={readContext:wt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:df,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Po(4194308,4,vg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Z1.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:uf,useDebugValue:od,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=uf(!1),t=e[0];return e=J1.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,s=At();if(ue){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Ne===null)throw Error(N(349));cr&30||cg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,df(dg.bind(null,r,i,e),[e]),r.flags|=2048,vi(9,ug.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=At(),t=Ne.identifierPrefix;if(ue){var n=Kt,r=Yt;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=X1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nb={readContext:wt,useCallback:xg,useContext:wt,useEffect:id,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:wg,useReducer:kl,useRef:pg,useState:function(){return kl(gi)},useDebugValue:od,useDeferredValue:function(e){var t=bt();return bg(t,ke.memoizedState,e)},useTransition:function(){var e=kl(gi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:lg,useId:_g,unstable_isNewReconciler:!1},rb={readContext:wt,useCallback:xg,useContext:wt,useEffect:id,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:wg,useReducer:Sl,useRef:pg,useState:function(){return Sl(gi)},useDebugValue:od,useDeferredValue:function(e){var t=bt();return ke===null?t.memoizedState=e:bg(t,ke.memoizedState,e)},useTransition:function(){var e=Sl(gi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:ag,useSyncExternalStore:lg,useId:_g,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Oc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ma={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),s=Nn(e),i=qt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,s),t!==null&&(Tt(t,e,s,r),jo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),s=Nn(e),i=qt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,s),t!==null&&(Tt(t,e,s,r),jo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=Nn(e),s=qt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Cn(e,s,r),t!==null&&(Tt(t,e,r,n),jo(t,e,r))}};function hf(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ci(n,r)||!ci(s,i):!0}function Cg(e,t,n){var r=!1,s=Dn,i=t.contextType;return typeof i=="object"&&i!==null?i=wt(i):(s=et(t)?ar:Ve.current,r=t.contextTypes,i=(r=r!=null)?Xr(e,s):Dn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ma,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ff(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ma.enqueueReplaceState(t,t.state,null)}function Ac(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ju(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=wt(i):(i=et(t)?ar:Ve.current,s.context=Xr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Oc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ma.enqueueReplaceState(s,s.state,null),Zo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var n="",r=t;do n+=Mw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sb=typeof WeakMap=="function"?WeakMap:Map;function Pg(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sa||(sa=!0,Hc=r),Rc(e,t)},n}function Ng(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Rc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rc(e,t),typeof r!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=yb.bind(null,e,t,n),t.then(e,e))}function mf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,Cn(n,t,1))),n.lanes|=1),e)}var ib=sn.ReactCurrentOwner,Xe=!1;function Ue(e,t,n,r){t.child=e===null?rg(t,null,n,r):Zr(t,e.child,n,r)}function vf(e,t,n,r,s){n=n.render;var i=t.ref;return Kr(t,s),r=rd(e,t,n,r,i,s),n=sd(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rn(e,t,s)):(ue&&n&&Hu(t),t.flags|=1,Ue(e,t,r,s),t.child)}function yf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!pd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Eg(e,t,i,r,s)):(e=Mo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(o,r)&&e.ref===t.ref)return rn(e,t,s)}return t.flags|=1,e=En(i,r),e.ref=t.ref,e.return=t,t.child=e}function Eg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ci(i,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,rn(e,t,s)}return Lc(e,t,n,r,s)}function Tg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Lr,it),it|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Lr,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ie(Lr,it),it|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ie(Lr,it),it|=r;return Ue(e,t,s,n),t.child}function Mg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lc(e,t,n,r,s){var i=et(n)?ar:Ve.current;return i=Xr(t,i),Kr(t,s),n=rd(e,t,n,r,i,s),r=sd(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rn(e,t,s)):(ue&&r&&Hu(t),t.flags|=1,Ue(e,t,n,s),t.child)}function xf(e,t,n,r,s){if(et(n)){var i=!0;Go(t)}else i=!1;if(Kr(t,s),t.stateNode===null)No(e,t),Cg(t,n,r),Ac(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wt(u):(u=et(n)?ar:Ve.current,u=Xr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ff(t,o,r,u),pn=!1;var f=t.memoizedState;o.state=f,Zo(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Ze.current||pn?(typeof d=="function"&&(Oc(t,n,d,r),l=t.memoizedState),(a=pn||hf(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ig(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:St(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wt(l):(l=et(n)?ar:Ve.current,l=Xr(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ff(t,o,r,l),pn=!1,f=t.memoizedState,o.state=f,Zo(t,r,o,s);var y=t.memoizedState;a!==h||f!==y||Ze.current||pn?(typeof p=="function"&&(Oc(t,n,p,r),y=t.memoizedState),(u=pn||hf(t,n,u,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Fc(e,t,n,r,i,s)}function Fc(e,t,n,r,s,i){Mg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&rf(t,n,!1),rn(e,t,i);r=t.stateNode,ib.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Zr(t,e.child,null,i),t.child=Zr(t,null,a,i)):Ue(e,t,a,i),t.memoizedState=r.state,s&&rf(t,n,!0),t.child}function Dg(e){var t=e.stateNode;t.pendingContext?nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nf(e,t.context,!1),Zu(e,t.containerInfo)}function wf(e,t,n,r,s){return Jr(),Ku(s),t.flags|=256,Ue(e,t,n,r),t.child}var Ic={dehydrated:null,treeContext:null,retryLane:0};function $c(e){return{baseLanes:e,cachePool:null,transitions:null}}function Og(e,t,n){var r=t.pendingProps,s=he.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ie(he,s&1),e===null)return Mc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Aa(o,r,0,null),e=ir(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$c(n),t.memoizedState=Ic,e):ad(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ob(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=En(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=En(a,i):(i=ir(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?$c(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ic,r}return i=e.child,e=i.sibling,r=En(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ad(e,t){return t=Aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function no(e,t,n,r){return r!==null&&Ku(r),Zr(t,e.child,null,n),e=ad(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ob(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=jl(Error(N(422))),no(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Aa({mode:"visible",children:r.children},s,0,null),i=ir(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Zr(t,e.child,null,o),t.child.memoizedState=$c(o),t.memoizedState=Ic,i);if(!(t.mode&1))return no(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=jl(i,r,void 0),no(e,t,o,r)}if(a=(o&e.childLanes)!==0,Xe||a){if(r=Ne,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,nn(e,s),Tt(r,e,s,-1))}return fd(),r=jl(Error(N(421))),no(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=xb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ot=jn(s.nextSibling),lt=t,ue=!0,Pt=null,e!==null&&(mt[gt++]=Yt,mt[gt++]=Kt,mt[gt++]=lr,Yt=e.id,Kt=e.overflow,lr=t),t=ad(t,r.children),t.flags|=4096,t)}function bf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Dc(e.return,t,n)}function Cl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ag(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ue(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bf(e,n,t);else if(e.tag===19)bf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ie(he,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ea(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Cl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ea(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Cl(t,!0,n,null,i);break;case"together":Cl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function No(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ab(e,t,n){switch(t.tag){case 3:Dg(t),Jr();break;case 5:og(t);break;case 1:et(t.type)&&Go(t);break;case 4:Zu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ie(Xo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ie(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?Og(e,t,n):(ie(he,he.current&1),e=rn(e,t,n),e!==null?e.sibling:null);ie(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ag(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ie(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,Tg(e,t,n)}return rn(e,t,n)}var Rg,Bc,Lg,Fg;Rg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bc=function(){};Lg=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,nr(It.current);var i=null;switch(n){case"input":s=lc(e,s),r=lc(e,r),i=[];break;case"select":s=me({},s,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":s=dc(e,s),r=dc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yo)}fc(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ni.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ni.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&le("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Fg=function(e,t,n,r){n!==r&&(t.flags|=4)};function js(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lb(e,t,n){var r=t.pendingProps;switch(Yu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return et(t.type)&&Ko(),Re(t),null;case 3:return r=t.stateNode,es(),ce(Ze),ce(Ve),td(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(eo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pt!==null&&(Gc(Pt),Pt=null))),Bc(e,t),Re(t),null;case 5:ed(t);var s=nr(pi.current);if(n=t.type,e!==null&&t.stateNode!=null)Lg(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return Re(t),null}if(e=nr(It.current),eo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rt]=t,r[hi]=i,e=(t.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(s=0;s<Is.length;s++)le(Is[s],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":Eh(r,i),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},le("invalid",r);break;case"textarea":Mh(r,i),le("invalid",r)}fc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zi(r.textContent,a,e),s=["children",""+a]):ni.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":Hi(r),Th(r,i,!0);break;case"textarea":Hi(r),Dh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rt]=t,e[hi]=r,Rg(e,t,!1,!1),t.stateNode=e;e:{switch(o=pc(n,r),n){case"dialog":le("cancel",e),le("close",e),s=r;break;case"iframe":case"object":case"embed":le("load",e),s=r;break;case"video":case"audio":for(s=0;s<Is.length;s++)le(Is[s],e);s=r;break;case"source":le("error",e),s=r;break;case"img":case"image":case"link":le("error",e),le("load",e),s=r;break;case"details":le("toggle",e),s=r;break;case"input":Eh(e,r),s=lc(e,r),le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=me({},r,{value:void 0}),le("invalid",e);break;case"textarea":Mh(e,r),s=dc(e,r),le("invalid",e);break;default:s=r}fc(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?p0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&h0(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ri(e,l):typeof l=="number"&&ri(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ni.hasOwnProperty(i)?l!=null&&i==="onScroll"&&le("scroll",e):l!=null&&Mu(e,i,l,o))}switch(n){case"input":Hi(e),Th(e,r,!1);break;case"textarea":Hi(e),Dh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Wr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Wr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)Fg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=nr(pi.current),nr(It.current),eo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(i=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:Zi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Re(t),null;case 13:if(ce(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&ot!==null&&t.mode&1&&!(t.flags&128))tg(),Jr(),t.flags|=98560,i=!1;else if(i=eo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Rt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else Pt!==null&&(Gc(Pt),Pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Se===0&&(Se=3):fd())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return es(),Bc(e,t),e===null&&ui(t.stateNode.containerInfo),Re(t),null;case 10:return Qu(t.type._context),Re(t),null;case 17:return et(t.type)&&Ko(),Re(t),null;case 19:if(ce(he),i=t.memoizedState,i===null)return Re(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)js(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ea(e),o!==null){for(t.flags|=128,js(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ie(he,he.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>ns&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304)}else{if(!r)if(e=ea(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ue)return Re(t),null}else 2*ye()-i.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=he.current,ie(he,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return hd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function cb(e,t){switch(Yu(t),t.tag){case 1:return et(t.type)&&Ko(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),ce(Ze),ce(Ve),td(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ed(t),null;case 13:if(ce(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(he),null;case 4:return es(),null;case 10:return Qu(t.type._context),null;case 22:case 23:return hd(),null;case 24:return null;default:return null}}var ro=!1,Fe=!1,ub=typeof WeakSet=="function"?WeakSet:Set,A=null;function Rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function Vc(e,t,n){try{n()}catch(r){ge(e,t,r)}}var _f=!1;function db(e,t){if(Sc=Wo,e=U0(),zu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jc={focusedElem:e,selectionRange:n},Wo=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,x=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:St(t.type,w),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){ge(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return y=_f,_f=!1,y}function Gs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vc(t,n,i)}s=s.next}while(s!==r)}}function Da(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Uc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ig(e){var t=e.alternate;t!==null&&(e.alternate=null,Ig(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[hi],delete t[Nc],delete t[K1],delete t[G1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $g(e){return e.tag===5||e.tag===3||e.tag===4}function kf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yo));else if(r!==4&&(e=e.child,e!==null))for(Wc(e,t,n),e=e.sibling;e!==null;)Wc(e,t,n),e=e.sibling}function zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zc(e,t,n),e=e.sibling;e!==null;)zc(e,t,n),e=e.sibling}var Te=null,jt=!1;function an(e,t,n){for(n=n.child;n!==null;)Bg(e,t,n),n=n.sibling}function Bg(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Sa,n)}catch{}switch(n.tag){case 5:Fe||Rr(n,t);case 6:var r=Te,s=jt;Te=null,an(e,t,n),Te=r,jt=s,Te!==null&&(jt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(jt?(e=Te,n=n.stateNode,e.nodeType===8?xl(e.parentNode,n):e.nodeType===1&&xl(e,n),ai(e)):xl(Te,n.stateNode));break;case 4:r=Te,s=jt,Te=n.stateNode.containerInfo,jt=!0,an(e,t,n),Te=r,jt=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vc(n,t,o),s=s.next}while(s!==r)}an(e,t,n);break;case 1:if(!Fe&&(Rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ge(n,t,a)}an(e,t,n);break;case 21:an(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,an(e,t,n),Fe=r):an(e,t,n);break;default:an(e,t,n)}}function Sf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ub),t.forEach(function(r){var s=wb.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,jt=!1;break e;case 3:Te=a.stateNode.containerInfo,jt=!0;break e;case 4:Te=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(Te===null)throw Error(N(160));Bg(i,o,s),Te=null,jt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ge(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vg(t,e),t=t.sibling}function Vg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Ot(e),r&4){try{Gs(3,e,e.return),Da(3,e)}catch(w){ge(e,e.return,w)}try{Gs(5,e,e.return)}catch(w){ge(e,e.return,w)}}break;case 1:_t(t,e),Ot(e),r&512&&n!==null&&Rr(n,n.return);break;case 5:if(_t(t,e),Ot(e),r&512&&n!==null&&Rr(n,n.return),e.flags&32){var s=e.stateNode;try{ri(s,"")}catch(w){ge(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&c0(s,i),pc(a,o);var u=pc(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?p0(s,h):d==="dangerouslySetInnerHTML"?h0(s,h):d==="children"?ri(s,h):Mu(s,d,h,u)}switch(a){case"input":cc(s,i);break;case"textarea":u0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Wr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[hi]=i}catch(w){ge(e,e.return,w)}}break;case 6:if(_t(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ge(e,e.return,w)}}break;case 3:if(_t(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(w){ge(e,e.return,w)}break;case 4:_t(t,e),Ot(e);break;case 13:_t(t,e),Ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ud=ye())),r&4&&Sf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||d,_t(t,e),Fe=u):_t(t,e),Ot(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(h=A=d;A!==null;){switch(f=A,p=f.child,f.tag){case 0:case 11:case 14:case 15:Gs(4,f,f.return);break;case 1:Rr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){ge(r,n,w)}}break;case 5:Rr(f,f.return);break;case 22:if(f.memoizedState!==null){Cf(h);continue}}p!==null?(p.return=f,A=p):Cf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=f0("display",o))}catch(w){ge(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ge(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(t,e),Ot(e),r&4&&Sf(e);break;case 21:break;default:_t(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($g(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ri(s,""),r.flags&=-33);var i=kf(e);zc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kf(e);Wc(e,a,o);break;default:throw Error(N(161))}}catch(l){ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hb(e,t,n){A=e,Ug(e)}function Ug(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ro;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Fe;a=ro;var u=Fe;if(ro=o,(Fe=l)&&!u)for(A=s;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?Pf(s):l!==null?(l.return=o,A=l):Pf(s);for(;i!==null;)A=i,Ug(i),i=i.sibling;A=s,ro=a,Fe=u}jf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):jf(e)}}function jf(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Da(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cf(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cf(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ai(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Fe||t.flags&512&&Uc(t)}catch(f){ge(t,t.return,f)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Cf(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Pf(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Da(4,t)}catch(l){ge(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ge(t,s,l)}}var i=t.return;try{Uc(t)}catch(l){ge(t,i,l)}break;case 5:var o=t.return;try{Uc(t)}catch(l){ge(t,o,l)}}}catch(l){ge(t,t.return,l)}if(t===e){A=null;break}var a=t.sibling;if(a!==null){a.return=t.return,A=a;break}A=t.return}}var fb=Math.ceil,ra=sn.ReactCurrentDispatcher,ld=sn.ReactCurrentOwner,yt=sn.ReactCurrentBatchConfig,J=0,Ne=null,be=null,De=0,it=0,Lr=Fn(0),Se=0,yi=null,ur=0,Oa=0,cd=0,qs=null,qe=null,ud=0,ns=1/0,Wt=null,sa=!1,Hc=null,Pn=null,so=!1,wn=null,ia=0,Qs=0,Yc=null,Eo=-1,To=0;function ze(){return J&6?ye():Eo!==-1?Eo:Eo=ye()}function Nn(e){return e.mode&1?J&2&&De!==0?De&-De:Q1.transition!==null?(To===0&&(To=C0()),To):(e=te,e!==0||(e=window.event,e=e===void 0?16:O0(e.type)),e):1}function Tt(e,t,n,r){if(50<Qs)throw Qs=0,Yc=null,Error(N(185));Ei(e,n,r),(!(J&2)||e!==Ne)&&(e===Ne&&(!(J&2)&&(Oa|=n),Se===4&&vn(e,De)),tt(e,r),n===1&&J===0&&!(t.mode&1)&&(ns=ye()+500,Ea&&In()))}function tt(e,t){var n=e.callbackNode;Qw(e,t);var r=Uo(e,e===Ne?De:0);if(r===0)n!==null&&Rh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rh(n),t===1)e.tag===0?q1(Nf.bind(null,e)):J0(Nf.bind(null,e)),H1(function(){!(J&6)&&In()}),n=null;else{switch(P0(r)){case 1:n=Lu;break;case 4:n=S0;break;case 16:n=Vo;break;case 536870912:n=j0;break;default:n=Vo}n=Qg(n,Wg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Wg(e,t){if(Eo=-1,To=0,J&6)throw Error(N(327));var n=e.callbackNode;if(Gr()&&e.callbackNode!==n)return null;var r=Uo(e,e===Ne?De:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=oa(e,r);else{t=r;var s=J;J|=2;var i=Hg();(Ne!==e||De!==t)&&(Wt=null,ns=ye()+500,sr(e,t));do try{gb();break}catch(a){zg(e,a)}while(!0);qu(),ra.current=i,J=s,be!==null?t=0:(Ne=null,De=0,t=Se)}if(t!==0){if(t===2&&(s=xc(e),s!==0&&(r=s,t=Kc(e,s))),t===1)throw n=yi,sr(e,0),vn(e,r),tt(e,ye()),n;if(t===6)vn(e,r);else{if(s=e.current.alternate,!(r&30)&&!pb(s)&&(t=oa(e,r),t===2&&(i=xc(e),i!==0&&(r=i,t=Kc(e,i))),t===1))throw n=yi,sr(e,0),vn(e,r),tt(e,ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:Gn(e,qe,Wt);break;case 3:if(vn(e,r),(r&130023424)===r&&(t=ud+500-ye(),10<t)){if(Uo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pc(Gn.bind(null,e,qe,Wt),t);break}Gn(e,qe,Wt);break;case 4:if(vn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Et(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fb(r/1960))-r,10<r){e.timeoutHandle=Pc(Gn.bind(null,e,qe,Wt),r);break}Gn(e,qe,Wt);break;case 5:Gn(e,qe,Wt);break;default:throw Error(N(329))}}}return tt(e,ye()),e.callbackNode===n?Wg.bind(null,e):null}function Kc(e,t){var n=qs;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=oa(e,t),e!==2&&(t=qe,qe=n,t!==null&&Gc(t)),e}function Gc(e){qe===null?qe=e:qe.push.apply(qe,e)}function pb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~cd,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Et(t),r=1<<n;e[n]=-1,t&=~r}}function Nf(e){if(J&6)throw Error(N(327));Gr();var t=Uo(e,0);if(!(t&1))return tt(e,ye()),null;var n=oa(e,t);if(e.tag!==0&&n===2){var r=xc(e);r!==0&&(t=r,n=Kc(e,r))}if(n===1)throw n=yi,sr(e,0),vn(e,t),tt(e,ye()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gn(e,qe,Wt),tt(e,ye()),null}function dd(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(ns=ye()+500,Ea&&In())}}function dr(e){wn!==null&&wn.tag===0&&!(J&6)&&Gr();var t=J;J|=1;var n=yt.transition,r=te;try{if(yt.transition=null,te=1,e)return e()}finally{te=r,yt.transition=n,J=t,!(J&6)&&In()}}function hd(){it=Lr.current,ce(Lr)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,z1(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(Yu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ko();break;case 3:es(),ce(Ze),ce(Ve),td();break;case 5:ed(r);break;case 4:es();break;case 13:ce(he);break;case 19:ce(he);break;case 10:Qu(r.type._context);break;case 22:case 23:hd()}n=n.return}if(Ne=e,be=e=En(e.current,null),De=it=t,Se=0,yi=null,cd=Oa=ur=0,qe=qs=null,tr!==null){for(t=0;t<tr.length;t++)if(n=tr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}tr=null}return e}function zg(e,t){do{var n=be;try{if(qu(),Co.current=na,ta){for(var r=pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ta=!1}if(cr=0,Pe=ke=pe=null,Ks=!1,mi=0,ld.current=null,n===null||n.return===null){Se=1,yi=t,be=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=De,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=mf(o);if(p!==null){p.flags&=-257,gf(p,o,a,i,t),p.mode&1&&pf(i,u,t),t=p,l=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(l),t.updateQueue=w}else y.add(l);break e}else{if(!(t&1)){pf(i,u,t),fd();break e}l=Error(N(426))}}else if(ue&&a.mode&1){var x=mf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),gf(x,o,a,i,t),Ku(ts(l,a));break e}}i=l=ts(l,a),Se!==4&&(Se=2),qs===null?qs=[i]:qs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Pg(i,l,t);lf(i,g);break e;case 1:a=l;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Pn===null||!Pn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Ng(i,a,t);lf(i,_);break e}}i=i.return}while(i!==null)}Kg(n)}catch(S){t=S,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function Hg(){var e=ra.current;return ra.current=na,e===null?na:e}function fd(){(Se===0||Se===3||Se===2)&&(Se=4),Ne===null||!(ur&268435455)&&!(Oa&268435455)||vn(Ne,De)}function oa(e,t){var n=J;J|=2;var r=Hg();(Ne!==e||De!==t)&&(Wt=null,sr(e,t));do try{mb();break}catch(s){zg(e,s)}while(!0);if(qu(),J=n,ra.current=r,be!==null)throw Error(N(261));return Ne=null,De=0,Se}function mb(){for(;be!==null;)Yg(be)}function gb(){for(;be!==null&&!Vw();)Yg(be)}function Yg(e){var t=qg(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Kg(e):be=t,ld.current=null}function Kg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cb(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,be=null;return}}else if(n=lb(n,t,it),n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Se===0&&(Se=5)}function Gn(e,t,n){var r=te,s=yt.transition;try{yt.transition=null,te=1,vb(e,t,n,r)}finally{yt.transition=s,te=r}return null}function vb(e,t,n,r){do Gr();while(wn!==null);if(J&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Xw(e,i),e===Ne&&(be=Ne=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||so||(so=!0,Qg(Vo,function(){return Gr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=yt.transition,yt.transition=null;var o=te;te=1;var a=J;J|=4,ld.current=null,db(e,n),Vg(n,e),F1(jc),Wo=!!Sc,jc=Sc=null,e.current=n,hb(n),Uw(),J=a,te=o,yt.transition=i}else e.current=n;if(so&&(so=!1,wn=e,ia=s),i=e.pendingLanes,i===0&&(Pn=null),Hw(n.stateNode),tt(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sa)throw sa=!1,e=Hc,Hc=null,e;return ia&1&&e.tag!==0&&Gr(),i=e.pendingLanes,i&1?e===Yc?Qs++:(Qs=0,Yc=e):Qs=0,In(),null}function Gr(){if(wn!==null){var e=P0(ia),t=yt.transition,n=te;try{if(yt.transition=null,te=16>e?16:e,wn===null)var r=!1;else{if(e=wn,wn=null,ia=0,J&6)throw Error(N(331));var s=J;for(J|=4,A=e.current;A!==null;){var i=A,o=i.child;if(A.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:Gs(8,d,i)}var h=d.child;if(h!==null)h.return=d,A=h;else for(;A!==null;){d=A;var f=d.sibling,p=d.return;if(Ig(d),d===u){A=null;break}if(f!==null){f.return=p,A=f;break}A=p}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}A=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,A=o;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,A=g;break e}A=i.return}}var m=e.current;for(A=m;A!==null;){o=A;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,A=v;else e:for(o=m;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Da(9,a)}}catch(S){ge(a,a.return,S)}if(a===o){A=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,A=_;break e}A=a.return}}if(J=s,In(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Sa,e)}catch{}r=!0}return r}finally{te=n,yt.transition=t}}return!1}function Ef(e,t,n){t=ts(n,t),t=Pg(e,t,1),e=Cn(e,t,1),t=ze(),e!==null&&(Ei(e,1,t),tt(e,t))}function ge(e,t,n){if(e.tag===3)Ef(e,e,n);else for(;t!==null;){if(t.tag===3){Ef(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){e=ts(n,e),e=Ng(t,e,1),t=Cn(t,e,1),e=ze(),t!==null&&(Ei(t,1,e),tt(t,e));break}}t=t.return}}function yb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(De&n)===n&&(Se===4||Se===3&&(De&130023424)===De&&500>ye()-ud?sr(e,0):cd|=n),tt(e,t)}function Gg(e,t){t===0&&(e.mode&1?(t=Gi,Gi<<=1,!(Gi&130023424)&&(Gi=4194304)):t=1);var n=ze();e=nn(e,t),e!==null&&(Ei(e,t,n),tt(e,n))}function xb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gg(e,n)}function wb(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Gg(e,n)}var qg;qg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,ab(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,ue&&t.flags&1048576&&Z0(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;No(e,t),e=t.pendingProps;var s=Xr(t,Ve.current);Kr(t,n),s=rd(null,t,r,e,s,n);var i=sd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(r)?(i=!0,Go(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ju(t),s.updater=Ma,t.stateNode=s,s._reactInternals=t,Ac(t,r,e,n),t=Fc(null,t,r,!0,i,n)):(t.tag=0,ue&&i&&Hu(t),Ue(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(No(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=_b(r),e=St(r,e),s){case 0:t=Lc(null,t,r,e,n);break e;case 1:t=xf(null,t,r,e,n);break e;case 11:t=vf(null,t,r,e,n);break e;case 14:t=yf(null,t,r,St(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Lc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),xf(e,t,r,s,n);case 3:e:{if(Dg(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ig(e,t),Zo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ts(Error(N(423)),t),t=wf(e,t,r,n,s);break e}else if(r!==s){s=ts(Error(N(424)),t),t=wf(e,t,r,n,s);break e}else for(ot=jn(t.stateNode.containerInfo.firstChild),lt=t,ue=!0,Pt=null,n=rg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===s){t=rn(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return og(t),e===null&&Mc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Cc(r,s)?o=null:i!==null&&Cc(r,i)&&(t.flags|=32),Mg(e,t),Ue(e,t,o,n),t.child;case 6:return e===null&&Mc(t),null;case 13:return Og(e,t,n);case 4:return Zu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zr(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),vf(e,t,r,s,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ie(Xo,r._currentValue),r._currentValue=o,i!==null)if(Mt(i.value,o)){if(i.children===s.children&&!Ze.current){t=rn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=qt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Dc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ue(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Kr(t,n),s=wt(s),r=r(s),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,s=St(r,t.pendingProps),s=St(r.type,s),yf(e,t,r,s,n);case 15:return Eg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),No(e,t),t.tag=1,et(r)?(e=!0,Go(t)):e=!1,Kr(t,n),Cg(t,r,s),Ac(t,r,s,n),Fc(null,t,r,!0,e,n);case 19:return Ag(e,t,n);case 22:return Tg(e,t,n)}throw Error(N(156,t.tag))};function Qg(e,t){return k0(e,t)}function bb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,r){return new bb(e,t,n,r)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _b(e){if(typeof e=="function")return pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ou)return 11;if(e===Au)return 14}return 2}function En(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")pd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Cr:return ir(n.children,s,i,t);case Du:o=8,s|=8;break;case sc:return e=vt(12,n,t,s|2),e.elementType=sc,e.lanes=i,e;case ic:return e=vt(13,n,t,s),e.elementType=ic,e.lanes=i,e;case oc:return e=vt(19,n,t,s),e.elementType=oc,e.lanes=i,e;case o0:return Aa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s0:o=10;break e;case i0:o=9;break e;case Ou:o=11;break e;case Au:o=14;break e;case fn:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=vt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ir(e,t,n,r){return e=vt(7,e,r,t),e.lanes=n,e}function Aa(e,t,n,r){return e=vt(22,e,r,t),e.elementType=o0,e.lanes=n,e.stateNode={isHidden:!1},e}function Pl(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function Nl(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kb(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function md(e,t,n,r,s,i,o,a,l){return e=new kb(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ju(i),e}function Sb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Xg(e){if(!e)return Dn;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(et(n))return X0(e,n,t)}return t}function Jg(e,t,n,r,s,i,o,a,l){return e=md(n,r,!0,e,s,i,o,a,l),e.context=Xg(null),n=e.current,r=ze(),s=Nn(n),i=qt(r,s),i.callback=t??null,Cn(n,i,s),e.current.lanes=s,Ei(e,s,r),tt(e,r),e}function Ra(e,t,n,r){var s=t.current,i=ze(),o=Nn(s);return n=Xg(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cn(s,t,o),e!==null&&(Tt(e,s,o,i),jo(e,s,o)),o}function aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gd(e,t){Tf(e,t),(e=e.alternate)&&Tf(e,t)}function jb(){return null}var Zg=typeof reportError=="function"?reportError:function(e){console.error(e)};function vd(e){this._internalRoot=e}La.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Ra(e,t,null,null)};La.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Ra(null,e,null,null)}),t[tn]=null}};function La(e){this._internalRoot=e}La.prototype.unstable_scheduleHydration=function(e){if(e){var t=T0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&D0(e)}};function yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mf(){}function Cb(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=aa(o);i.call(u)}}var o=Jg(t,r,e,0,null,!1,!1,"",Mf);return e._reactRootContainer=o,e[tn]=o.current,ui(e.nodeType===8?e.parentNode:e),dr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=aa(l);a.call(u)}}var l=md(e,0,!1,null,null,!1,!1,"",Mf);return e._reactRootContainer=l,e[tn]=l.current,ui(e.nodeType===8?e.parentNode:e),dr(function(){Ra(t,l,n,r)}),l}function Ia(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=aa(o);a.call(l)}}Ra(t,o,e,s)}else o=Cb(n,t,e,s,r);return aa(o)}N0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fs(t.pendingLanes);n!==0&&(Fu(t,n|1),tt(t,ye()),!(J&6)&&(ns=ye()+500,In()))}break;case 13:dr(function(){var r=nn(e,1);if(r!==null){var s=ze();Tt(r,e,1,s)}}),gd(e,1)}};Iu=function(e){if(e.tag===13){var t=nn(e,134217728);if(t!==null){var n=ze();Tt(t,e,134217728,n)}gd(e,134217728)}};E0=function(e){if(e.tag===13){var t=Nn(e),n=nn(e,t);if(n!==null){var r=ze();Tt(n,e,t,r)}gd(e,t)}};T0=function(){return te};M0=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};gc=function(e,t,n){switch(t){case"input":if(cc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Na(r);if(!s)throw Error(N(90));l0(r),cc(r,s)}}}break;case"textarea":u0(e,n);break;case"select":t=n.value,t!=null&&Wr(e,!!n.multiple,t,!1)}};v0=dd;y0=dr;var Pb={usingClientEntryPoint:!1,Events:[Mi,Tr,Na,m0,g0,dd]},Cs={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nb={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b0(e),e===null?null:e.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||jb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{Sa=io.inject(Nb),Ft=io}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pb;dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yd(t))throw Error(N(200));return Sb(e,t,null,n)};dt.createRoot=function(e,t){if(!yd(e))throw Error(N(299));var n=!1,r="",s=Zg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=md(e,1,!1,null,null,n,!1,r,s),e[tn]=t.current,ui(e.nodeType===8?e.parentNode:e),new vd(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=b0(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return dr(e)};dt.hydrate=function(e,t,n){if(!Fa(t))throw Error(N(200));return Ia(null,e,t,!0,n)};dt.hydrateRoot=function(e,t,n){if(!yd(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Zg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Jg(t,null,e,1,n??null,s,!1,i,o),e[tn]=t.current,ui(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new La(t)};dt.render=function(e,t,n){if(!Fa(t))throw Error(N(200));return Ia(null,e,t,!1,n)};dt.unmountComponentAtNode=function(e){if(!Fa(e))throw Error(N(40));return e._reactRootContainer?(dr(function(){Ia(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1};dt.unstable_batchedUpdates=dd;dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fa(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Ia(e,t,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function ev(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ev)}catch(e){console.error(e)}}ev(),e0.exports=dt;var Eb=e0.exports,tv,Df=Eb;tv=Df.createRoot,Df.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi.apply(this,arguments)}var bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bn||(bn={}));const Of="popstate";function Tb(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return qc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:la(s)}return Db(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mb(){return Math.random().toString(36).substr(2,8)}function Af(e,t){return{usr:e.state,key:e.key,idx:t}}function qc(e,t,n,r){return n===void 0&&(n=null),xi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fs(t):t,{state:n,key:t&&t.key||r||Mb()})}function la(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function fs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Db(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bn.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(xi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=bn.Pop;let x=d(),g=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:g})}function f(x,g){a=bn.Push;let m=qc(w.location,x,g);u=d()+1;let v=Af(m,u),_=w.createHref(m);try{o.pushState(v,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:w.location,delta:1})}function p(x,g){a=bn.Replace;let m=qc(w.location,x,g);u=d();let v=Af(m,u),_=w.createHref(m);o.replaceState(v,"",_),i&&l&&l({action:a,location:w.location,delta:0})}function y(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:la(x);return m=m.replace(/ $/,"%20"),xe(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let w={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Of,h),l=x,()=>{s.removeEventListener(Of,h),l=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return o.go(x)}};return w}var Rf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rf||(Rf={}));function Ob(e,t,n){return n===void 0&&(n="/"),Ab(e,t,n,!1)}function Ab(e,t,n,r){let s=typeof t=="string"?fs(t):t,i=xd(s.pathname||"/",n);if(i==null)return null;let o=rv(e);Rb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Yb(i);a=zb(o[l],u,r)}return a}function rv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Tn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rv(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Ub(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of sv(i.path))s(i,o,l)}),t}function sv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=sv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Rb(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wb(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Lb=/^:[\w-]+$/,Fb=3,Ib=2,$b=1,Bb=10,Vb=-2,Lf=e=>e==="*";function Ub(e,t){let n=e.split("/"),r=n.length;return n.some(Lf)&&(r+=Vb),t&&(r+=Ib),n.filter(s=>!Lf(s)).reduce((s,i)=>s+(Lb.test(i)?Fb:i===""?$b:Bb),r)}function Wb(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function zb(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ff({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Ff({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Tn([i,h.pathname]),pathnameBase:Qb(Tn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Tn([i,h.pathnameBase]))}return o}function Ff(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Hb(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Hb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),nv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Yb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Kb(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?fs(e):e;return{pathname:n?n.startsWith("/")?n:Gb(n,t):t,search:Xb(r),hash:Jb(s)}}function Gb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function El(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wd(e,t){let n=qb(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bd(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=fs(e):(s=xi({},e),xe(!s.pathname||!s.pathname.includes("?"),El("?","pathname","search",s)),xe(!s.pathname||!s.pathname.includes("#"),El("#","pathname","hash",s)),xe(!s.search||!s.search.includes("#"),El("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=Kb(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Tn=e=>e.join("/").replace(/\/\/+/g,"/"),Qb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iv=["post","put","patch","delete"];new Set(iv);const e_=["get",...iv];new Set(e_);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wi.apply(this,arguments)}const _d=b.createContext(null),t_=b.createContext(null),$n=b.createContext(null),$a=b.createContext(null),Bn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ov=b.createContext(null);function n_(e,t){let{relative:n}=t===void 0?{}:t;ps()||xe(!1);let{basename:r,navigator:s}=b.useContext($n),{hash:i,pathname:o,search:a}=lv(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Tn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ps(){return b.useContext($a)!=null}function Vn(){return ps()||xe(!1),b.useContext($a).location}function av(e){b.useContext($n).static||b.useLayoutEffect(e)}function on(){let{isDataRoute:e}=b.useContext(Bn);return e?m_():r_()}function r_(){ps()||xe(!1);let e=b.useContext(_d),{basename:t,future:n,navigator:r}=b.useContext($n),{matches:s}=b.useContext(Bn),{pathname:i}=Vn(),o=JSON.stringify(wd(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return av(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=bd(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Tn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function lv(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext($n),{matches:s}=b.useContext(Bn),{pathname:i}=Vn(),o=JSON.stringify(wd(s,r.v7_relativeSplatPath));return b.useMemo(()=>bd(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function s_(e,t){return i_(e,t)}function i_(e,t,n,r){ps()||xe(!1);let{navigator:s}=b.useContext($n),{matches:i}=b.useContext(Bn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Vn(),d;if(t){var h;let x=typeof t=="string"?fs(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||xe(!1),d=x}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Ob(e,{pathname:p}),w=u_(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Tn([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Tn([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&w?b.createElement($a.Provider,{value:{location:wi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bn.Pop}},w):w}function o_(){let e=p_(),t=Zb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const a_=b.createElement(o_,null);class l_ extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Bn.Provider,{value:this.props.routeContext},b.createElement(ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c_(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(_d);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Bn.Provider,{value:t},r)}function u_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,y=!1,w=null,x=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||a_,l&&(u<0&&f===0?(y=!0,x=null):u===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),m=()=>{let v;return p?v=w:y?v=x:h.route.Component?v=b.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,b.createElement(c_,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(l_,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var cv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cv||{}),ca=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ca||{});function d_(e){let t=b.useContext(_d);return t||xe(!1),t}function h_(e){let t=b.useContext(t_);return t||xe(!1),t}function f_(e){let t=b.useContext(Bn);return t||xe(!1),t}function uv(e){let t=f_(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function p_(){var e;let t=b.useContext(ov),n=h_(ca.UseRouteError),r=uv(ca.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function m_(){let{router:e}=d_(cv.UseNavigateStable),t=uv(ca.UseNavigateStable),n=b.useRef(!1);return av(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,wi({fromRouteId:t},i)))},[e,t])}const If={};function g_(e,t){If[t]||(If[t]=!0,console.warn(t))}const $f=(e,t,n)=>g_(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function v_(e,t){e!=null&&e.v7_startTransition||$f("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&!t&&$f("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function y_(e){let{to:t,replace:n,state:r,relative:s}=e;ps()||xe(!1);let{future:i,static:o}=b.useContext($n),{matches:a}=b.useContext(Bn),{pathname:l}=Vn(),u=on(),d=bd(t,wd(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Nt(e){xe(!1)}function x_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=bn.Pop,navigator:i,static:o=!1,future:a}=e;ps()&&xe(!1);let l=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:wi({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=fs(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=r,w=b.useMemo(()=>{let x=xd(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:y},navigationType:s}},[l,d,h,f,p,y,s]);return w==null?null:b.createElement($n.Provider,{value:u},b.createElement($a.Provider,{children:n,value:w}))}function Do(e){let{children:t,location:n}=e;return s_(Qc(t),n)}new Promise(()=>{});function Qc(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let i=[...t,s];if(r.type===b.Fragment){n.push.apply(n,Qc(r.props.children,i));return}r.type!==Nt&&xe(!1),!r.props.index||!r.props.children||xe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qc(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc.apply(this,arguments)}function w_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function b_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function __(e,t){return e.button===0&&(!t||t==="_self")&&!b_(e)}const k_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S_="6";try{window.__reactRouterVersion=S_}catch{}const j_="startTransition",Bf=yw[j_];function Tl(e){let{basename:t,children:n,future:r,window:s}=e,i=b.useRef();i.current==null&&(i.current=Tb({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&Bf?Bf(()=>l(h)):l(h)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>v_(r),[r]),b.createElement(x_,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const C_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dv=b.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=t,f=w_(t,k_),{basename:p}=b.useContext($n),y,w=!1;if(typeof u=="string"&&P_.test(u)&&(y=u,C_))try{let v=new URL(window.location.href),_=u.startsWith("//")?new URL(v.protocol+u):new URL(u),S=xd(_.pathname,p);_.origin===v.origin&&S!=null?u=S+_.search+_.hash:w=!0}catch{}let x=n_(u,{relative:s}),g=N_(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function m(v){r&&r(v),v.defaultPrevented||g(v)}return b.createElement("a",Xc({},f,{href:y||x,onClick:w||i?r:m,ref:n,target:l}))});var Vf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vf||(Vf={}));var Uf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Uf||(Uf={}));function N_(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=on(),u=Vn(),d=lv(e,{relative:o});return b.useCallback(h=>{if(__(h,n)){h.preventDefault();let f=r!==void 0?r:la(u)===la(d);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,e,i,o,a])}function E_(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function Ba(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Jc=e=>Array.isArray(e);function hv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function bi(e){return typeof e=="string"||Array.isArray(e)}function Wf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function kd(e,t,n,r){if(typeof t=="function"){const[s,i]=Wf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Wf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Va(e,t,n){const r=e.getProps();return kd(r,t,n!==void 0?n:r.custom,e)}const Sd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jd=["initial",...Sd],Oi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gr=new Set(Oi),Qt=e=>e*1e3,Xt=e=>e/1e3,T_={type:"spring",stiffness:500,damping:25,restSpeed:10},M_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),D_={type:"keyframes",duration:.8},O_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A_=(e,{keyframes:t})=>t.length>2?D_:gr.has(e)?e.startsWith("scale")?M_(t[1]):T_:O_;function Cd(e,t){return e?e[t]||e.default||e:void 0}const R_={skipAnimations:!1,useManualTiming:!1},L_=e=>e!==null;function Ua(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(L_),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const $e=e=>e;function F_(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const p=h&&r?t:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,s&&(s=!1,l.process(u))}};return l}const oo=["read","resolveKeyframes","update","preRender","render","postRender"],I_=40;function fv(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=oo.reduce((g,m)=>(g[m]=F_(i),g),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,I_),1),s.timestamp=g,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},y=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:oo.reduce((g,m)=>{const v=o[m];return g[m]=(_,S=!1,k=!1)=>(n||y(),v.schedule(_,S,k)),g},{}),cancel:g=>{for(let m=0;m<oo.length;m++)o[oo[m]].cancel(g)},state:s,steps:o}}const{schedule:re,cancel:On,state:Me,steps:Ml}=fv(typeof requestAnimationFrame<"u"?requestAnimationFrame:$e,!0),pv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,$_=1e-7,B_=12;function V_(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=pv(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>$_&&++a<B_);return o}function Ai(e,t,n,r){if(e===t&&n===r)return $e;const s=i=>V_(i,0,1,e,n);return i=>i===0||i===1?i:pv(s(i),t,r)}const mv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gv=e=>t=>1-e(1-t),vv=Ai(.33,1.53,.69,.99),Pd=gv(vv),yv=mv(Pd),xv=e=>(e*=2)<1?.5*Pd(e):.5*(2-Math.pow(2,-10*(e-1))),Nd=e=>1-Math.sin(Math.acos(e)),wv=gv(Nd),bv=mv(Nd),_v=e=>/^0[^.\s]+$/u.test(e);function U_(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||_v(e):!0}let Zc=$e;const kv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Sv=e=>t=>typeof t=="string"&&t.startsWith(e),jv=Sv("--"),W_=Sv("var(--"),Ed=e=>W_(e)?z_.test(e.split("/*")[0].trim()):!1,z_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,H_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y_(e){const t=H_.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Cv(e,t,n=1){const[r,s]=Y_(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return kv(o)?parseFloat(o):o}return Ed(s)?Cv(s,t,n+1):s}const An=(e,t,n)=>n>t?t:n<e?e:n,ms={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_i={...ms,transform:e=>An(0,1,e)},ao={...ms,default:1},Ri=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),un=Ri("deg"),$t=Ri("%"),$=Ri("px"),K_=Ri("vh"),G_=Ri("vw"),zf={...$t,parse:e=>$t.parse(e)/100,transform:e=>$t.transform(e*100)},q_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Hf=e=>e===ms||e===$,Yf=(e,t)=>parseFloat(e.split(", ")[t]),Kf=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Yf(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Yf(i[1],e):0}},Q_=new Set(["x","y","z"]),X_=Oi.filter(e=>!Q_.has(e));function J_(e){const t=[];return X_.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const rs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Kf(4,13),y:Kf(5,14)};rs.translateX=rs.x;rs.translateY=rs.y;const Pv=e=>t=>t.test(e),Z_={test:e=>e==="auto",parse:e=>e},Nv=[ms,$,$t,un,G_,K_,Z_],Gf=e=>Nv.find(Pv(e)),or=new Set;let eu=!1,tu=!1;function Ev(){if(tu){const e=Array.from(or).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=J_(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tu=!1,eu=!1,or.forEach(e=>e.complete()),or.clear()}function Tv(){or.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tu=!0)})}function ek(){Tv(),Ev()}class Td{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(or.add(this),eu||(eu=!0,re.read(Tv),re.resolveKeyframes(Ev))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),or.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,or.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Xs=e=>Math.round(e*1e5)/1e5,Md=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tk(e){return e==null}const nk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dd=(e,t)=>n=>!!(typeof n=="string"&&nk.test(n)&&n.startsWith(e)||t&&!tk(n)&&Object.prototype.hasOwnProperty.call(n,t)),Mv=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Md);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},rk=e=>An(0,255,e),Dl={...ms,transform:e=>Math.round(rk(e))},rr={test:Dd("rgb","red"),parse:Mv("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Dl.transform(e)+", "+Dl.transform(t)+", "+Dl.transform(n)+", "+Xs(_i.transform(r))+")"};function sk(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const nu={test:Dd("#"),parse:sk,transform:rr.transform},Fr={test:Dd("hsl","hue"),parse:Mv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+$t.transform(Xs(t))+", "+$t.transform(Xs(n))+", "+Xs(_i.transform(r))+")"},Le={test:e=>rr.test(e)||nu.test(e)||Fr.test(e),parse:e=>rr.test(e)?rr.parse(e):Fr.test(e)?Fr.parse(e):nu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rr.transform(e):Fr.transform(e)},ik=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ok(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Md))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(ik))===null||n===void 0?void 0:n.length)||0)>0}const Dv="number",Ov="color",ak="var",lk="var(",qf="${}",ck=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ki(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(ck,l=>(Le.test(l)?(r.color.push(i),s.push(Ov),n.push(Le.parse(l))):l.startsWith(lk)?(r.var.push(i),s.push(ak),n.push(l)):(r.number.push(i),s.push(Dv),n.push(parseFloat(l))),++i,qf)).split(qf);return{values:n,split:a,indexes:r,types:s}}function Av(e){return ki(e).values}function Rv(e){const{split:t,types:n}=ki(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===Dv?i+=Xs(s[o]):a===Ov?i+=Le.transform(s[o]):i+=s[o]}return i}}const uk=e=>typeof e=="number"?0:e;function dk(e){const t=Av(e);return Rv(e)(t.map(uk))}const Rn={test:ok,parse:Av,createTransformer:Rv,getAnimatableNone:dk},hk=new Set(["brightness","contrast","saturate","opacity"]);function fk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Md)||[];if(!r)return e;const s=n.replace(r,"");let i=hk.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const pk=/\b([a-z-]*)\(.*?\)/gu,ru={...Rn,getAnimatableNone:e=>{const t=e.match(pk);return t?t.map(fk).join(" "):e}},mk={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,backgroundPositionX:$,backgroundPositionY:$},gk={rotate:un,rotateX:un,rotateY:un,rotateZ:un,scale:ao,scaleX:ao,scaleY:ao,scaleZ:ao,skew:un,skewX:un,skewY:un,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:_i,originX:zf,originY:zf,originZ:$},Qf={...ms,transform:Math.round},Od={...mk,...gk,zIndex:Qf,size:$,fillOpacity:_i,strokeOpacity:_i,numOctaves:Qf},vk={...Od,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:ru,WebkitFilter:ru},Ad=e=>vk[e];function Lv(e,t){let n=Ad(e);return n!==ru&&(n=Rn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const yk=new Set(["auto","none","0"]);function xk(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!yk.has(i)&&ki(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Lv(n,s)}class Fv extends Td{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Ed(u))){const d=Cv(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!q_.has(r)||t.length!==2)return;const[s,i]=t,o=Gf(s),a=Gf(i);if(o!==a)if(Hf(o)&&Hf(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)U_(t[s])&&r.push(s);r.length&&xk(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=rs[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Rd(e){return typeof e=="function"}let Oo;function wk(){Oo=void 0}const Bt={now:()=>(Oo===void 0&&Bt.set(Me.isProcessing||R_.useManualTiming?Me.timestamp:performance.now()),Oo),set:e=>{Oo=e,queueMicrotask(wk)}},Xf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Rn.test(e)||e==="0")&&!e.startsWith("url("));function bk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function _k(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Xf(s,t),a=Xf(i,t);return!o||!a?!1:bk(e)||(n==="spring"||Rd(n))&&r}const kk=40;class Iv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Bt.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ek(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Bt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!_k(t,r,s,i))if(o)this.options.duration=0;else{l==null||l(Ua(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function $v(e,t){return t?e*(1e3/t):0}const Sk=5;function Bv(e,t,n){const r=Math.max(t-Sk,0);return $v(n-e(r),t-r)}const Ol=.001,jk=.01,Ck=10,Pk=.05,Nk=1;function Ek({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,o=1-t;o=An(Pk,Nk,o),e=An(jk,Ck,Xt(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,p=su(u,o),y=Math.exp(-h);return Ol-f/p*y},i=u=>{const h=u*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-h),w=su(Math.pow(u,2),o);return(-s(u)+Ol>0?-1:1)*((f-p)*y)/w}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Ol+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=Mk(s,i,a);if(e=Qt(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Tk=12;function Mk(e,t,n){let r=n;for(let s=1;s<Tk;s++)r=r-e(r)/t(r);return r}function su(e,t){return e*Math.sqrt(1-t*t)}const Dk=["duration","bounce"],Ok=["stiffness","damping","mass"];function Jf(e,t){return t.some(n=>e[n]!==void 0)}function Ak(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Jf(e,Ok)&&Jf(e,Dk)){const n=Ek(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function Vv({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=Ak({...r,velocity:-Xt(r.velocity||0)}),p=h||0,y=l/(2*Math.sqrt(a*u)),w=i-s,x=Xt(Math.sqrt(a/u)),g=Math.abs(w)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let m;if(y<1){const v=su(x,y);m=_=>{const S=Math.exp(-y*x*_);return i-S*((p+y*x*w)/v*Math.sin(v*_)+w*Math.cos(v*_))}}else if(y===1)m=v=>i-Math.exp(-x*v)*(w+(p+x*w)*v);else{const v=x*Math.sqrt(y*y-1);m=_=>{const S=Math.exp(-y*x*_),k=Math.min(v*_,300);return i-S*((p+y*x*w)*Math.sinh(k)+v*w*Math.cosh(k))/v}}return{calculatedDuration:f&&d||null,next:v=>{const _=m(v);if(f)o.done=v>=d;else{let S=0;y<1&&(S=v===0?Qt(p):Bv(m,v,_));const k=Math.abs(S)<=n,C=Math.abs(i-_)<=t;o.done=k&&C}return o.value=o.done?i:_,o}}}function Zf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=P=>a!==void 0&&P<a||l!==void 0&&P>l,y=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let w=n*t;const x=h+w,g=o===void 0?x:o(x);g!==x&&(w=g-h);const m=P=>-w*Math.exp(-P/r),v=P=>g+m(P),_=P=>{const D=m(P),E=v(P);f.done=Math.abs(D)<=u,f.value=f.done?g:E};let S,k;const C=P=>{p(f.value)&&(S=P,k=Vv({keyframes:[f.value,y(f.value)],velocity:Bv(v,P,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:P=>{let D=!1;return!k&&S===void 0&&(D=!0,_(P),C(P)),S!==void 0&&P>=S?k.next(P-S):(!D&&_(P),f)}}}const Rk=Ai(.42,0,1,1),Lk=Ai(0,0,.58,1),Uv=Ai(.42,0,.58,1),Fk=e=>Array.isArray(e)&&typeof e[0]!="number",Ld=e=>Array.isArray(e)&&typeof e[0]=="number",ep={linear:$e,easeIn:Rk,easeInOut:Uv,easeOut:Lk,circIn:Nd,circInOut:bv,circOut:wv,backIn:Pd,backInOut:yv,backOut:vv,anticipate:xv},tp=e=>{if(Ld(e)){Zc(e.length===4);const[t,n,r,s]=e;return Ai(t,n,r,s)}else if(typeof e=="string")return Zc(ep[e]!==void 0),ep[e];return e},Ik=(e,t)=>n=>t(e(n)),Jt=(...e)=>e.reduce(Ik),ss=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},fe=(e,t,n)=>e+(t-e)*n;function Al(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $k({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Al(l,a,e+1/3),i=Al(l,a,e),o=Al(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ua(e,t){return n=>n>0?t:e}const Rl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Bk=[nu,rr,Fr],Vk=e=>Bk.find(t=>t.test(e));function np(e){const t=Vk(e);if(!t)return!1;let n=t.parse(e);return t===Fr&&(n=$k(n)),n}const rp=(e,t)=>{const n=np(e),r=np(t);if(!n||!r)return ua(e,t);const s={...n};return i=>(s.red=Rl(n.red,r.red,i),s.green=Rl(n.green,r.green,i),s.blue=Rl(n.blue,r.blue,i),s.alpha=fe(n.alpha,r.alpha,i),rr.transform(s))},iu=new Set(["none","hidden"]);function Uk(e,t){return iu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Wk(e,t){return n=>fe(e,t,n)}function Fd(e){return typeof e=="number"?Wk:typeof e=="string"?Ed(e)?ua:Le.test(e)?rp:Yk:Array.isArray(e)?Wv:typeof e=="object"?Le.test(e)?rp:zk:ua}function Wv(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Fd(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function zk(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Fd(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Hk(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const Yk=(e,t)=>{const n=Rn.createTransformer(t),r=ki(e),s=ki(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?iu.has(e)&&!s.values.length||iu.has(t)&&!r.values.length?Uk(e,t):Jt(Wv(Hk(r,s),s.values),n):ua(e,t)};function zv(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fe(e,t,n):Fd(e)(e,t)}function Kk(e,t,n){const r=[],s=n||zv,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||$e:t;a=Jt(l,a)}r.push(a)}return r}function Gk(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Zc(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Kk(t,r,s),a=o.length,l=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=ss(e[d],e[d+1],u);return o[d](h)};return n?u=>l(An(e[0],e[i-1],u)):l}function qk(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ss(0,t,r);e.push(fe(n,1,s))}}function Qk(e){const t=[0];return qk(t,e.length-1),t}function Xk(e,t){return e.map(n=>n*t)}function Jk(e,t){return e.map(()=>t||Uv).splice(0,e.length-1)}function da({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Fk(r)?r.map(tp):tp(r),i={done:!1,value:t[0]},o=Xk(n&&n.length===t.length?n:Qk(t),e),a=Gk(o,t,{ease:Array.isArray(s)?s:Jk(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const sp=2e4;function Zk(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<sp;)t+=n,r=e.next(t);return t>=sp?1/0:t}const eS=e=>{const t=({timestamp:n})=>e(n);return{start:()=>re.update(t,!0),stop:()=>On(t),now:()=>Me.isProcessing?Me.timestamp:Bt.now()}},tS={decay:Zf,inertia:Zf,tween:da,keyframes:da,spring:Vv},nS=e=>e/100;class Id extends Iv{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Td,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Rd(n)?n:tS[n]||da;let l,u;a!==da&&typeof t[0]!="number"&&(l=Jt(nS,zv(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Zk(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:y,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),m=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let v=this.currentTime,_=i;if(p){const P=Math.min(this.currentTime,d)/h;let D=Math.floor(P),E=P%1;!E&&P>=1&&(E=1),E===1&&D--,D=Math.min(D,p+1),!!(D%2)&&(y==="reverse"?(E=1-E,w&&(E-=w/h)):y==="mirror"&&(_=o)),v=An(0,1,E)*h}const S=m?{done:!1,value:l[0]}:_.next(v);a&&(S.value=a(S.value));let{done:k}=S;!m&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return C&&s!==void 0&&(S.value=Ua(l,this.options,s)),x&&x(S.value),C&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Xt(t.calculatedDuration):0}get time(){return Xt(this.currentTime)}set time(t){t=Qt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Xt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=eS,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const rS=new Set(["opacity","clipPath","filter","transform"]),sS=10,iS=(e,t)=>{let n="";const r=Math.max(Math.round(t/sS),2);for(let s=0;s<r;s++)n+=e(ss(0,r-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function $d(e){let t;return()=>(t===void 0&&(t=e()),t)}const oS={linearEasing:void 0};function aS(e,t){const n=$d(e);return()=>{var r;return(r=oS[t])!==null&&r!==void 0?r:n()}}const ha=aS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Hv(e){return!!(typeof e=="function"&&ha()||!e||typeof e=="string"&&(e in ou||ha())||Ld(e)||Array.isArray(e)&&e.every(Hv))}const $s=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ou={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$s([0,.65,.55,1]),circOut:$s([.55,0,1,.45]),backIn:$s([.31,.01,.66,-.59]),backOut:$s([.33,1.53,.69,.99])};function Yv(e,t){if(e)return typeof e=="function"&&ha()?iS(e,t):Ld(e)?$s(e):Array.isArray(e)?e.map(n=>Yv(n,t)||ou.easeOut):ou[e]}function lS(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=Yv(a,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function ip(e,t){e.timeline=t,e.onfinish=null}const cS=$d(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fa=10,uS=2e4;function dS(e){return Rd(e.type)||e.type==="spring"||!Hv(e.ease)}function hS(e,t){const n=new Id({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<uS;)r=n.sample(i),s.push(r.value),i+=fa;return{times:void 0,keyframes:s,duration:i-fa,ease:"linear"}}const Kv={anticipate:xv,backInOut:yv,circInOut:bv};function fS(e){return e in Kv}class op extends Iv{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Fv(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:i,ease:o,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&ha()&&fS(o)&&(o=Kv[o]),dS(this.options)){const{onComplete:f,onUpdate:p,motionValue:y,element:w,...x}=this.options,g=hS(t,x);t=g.keyframes,t.length===1&&(t[1]=t[0]),s=g.duration,i=g.times,o=g.ease,a="keyframes"}const h=lS(l.owner.current,u,t,{...this.options,duration:s,times:i,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(ip(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(Ua(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:i,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Xt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Xt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return $e;const{animation:r}=n;ip(r,t)}return $e}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,y=new Id({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),w=Qt(this.time);u.setWithVelocity(y.sample(w-fa).value,y.sample(w).value,fa)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;return cS()&&r&&rS.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const pS=$d(()=>window.ScrollTimeline!==void 0);class mS{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>pS()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function gS({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Bd=(e,t,n,r={},s,i)=>o=>{const a=Cd(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Qt(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};gS(a)||(d={...d,...A_(e,d)}),d.duration&&(d.duration=Qt(d.duration)),d.repeatDelay&&(d.repeatDelay=Qt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Ua(d.keyframes,a);if(f!==void 0)return re.update(()=>{d.onUpdate(f),d.onComplete()}),new mS([])}return!i&&op.supports(d)?new op(d):new Id(d)},vS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),yS=e=>Jc(e)?e[e.length-1]||0:e;function Vd(e,t){e.indexOf(t)===-1&&e.push(t)}function Ud(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Wd{constructor(){this.subscriptions=[]}add(t){return Vd(this.subscriptions,t),()=>Ud(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ap=30,xS=e=>!isNaN(parseFloat(e));class wS{constructor(t,n={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Bt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Bt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Wd);const r=this.events[t].add(n);return t==="change"?()=>{r(),re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ap)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ap);return $v(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Si(e,t){return new wS(e,t)}function bS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Si(n))}function _S(e,t){const n=Va(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=yS(i[o]);bS(e,o,a)}}const zd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kS="framerAppearId",Gv="data-"+zd(kS);function qv(e){return e.props[Gv]}const Ie=e=>!!(e&&e.getVelocity);function SS(e){return!!(Ie(e)&&e.add)}function au(e,t){const n=e.getValue("willChange");if(SS(n))return n.add(t)}function jS({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Qv(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&jS(d,h))continue;const y={delay:n,...Cd(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const g=qv(e);if(g){const m=window.MotionHandoffAnimation(g,h,re);m!==null&&(y.startTime=m,w=!0)}}au(e,h),f.start(Bd(h,f,p,e.shouldReduceMotion&&gr.has(h)?{type:!1}:y,e,w));const x=f.animation;x&&u.push(x)}return a&&Promise.all(u).then(()=>{re.update(()=>{a&&_S(e,a)})}),u}function lu(e,t,n={}){var r;const s=Va(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Qv(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return CS(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function CS(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(PS).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(lu(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function PS(e,t){return e.sortNodePosition(t)}function NS(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>lu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=lu(e,t,n);else{const s=typeof t=="function"?Va(e,t,n.custom):t;r=Promise.all(Qv(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const ES=jd.length;function Xv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Xv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ES;n++){const r=jd[n],s=e.props[r];(bi(s)||s===!1)&&(t[r]=s)}return t}const TS=[...Sd].reverse(),MS=Sd.length;function DS(e){return t=>Promise.all(t.map(({animation:n,options:r})=>NS(e,n,r)))}function OS(e){let t=DS(e),n=lp(),r=!0;const s=l=>(u,d)=>{var h;const f=Va(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:y,...w}=f;u={...u,...w,...y}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,d=Xv(e.parent)||{},h=[],f=new Set;let p={},y=1/0;for(let x=0;x<MS;x++){const g=TS[x],m=n[g],v=u[g]!==void 0?u[g]:d[g],_=bi(v),S=g===l?m.isActive:null;S===!1&&(y=x);let k=v===d[g]&&v!==u[g]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),m.protectedKeys={...p},!m.isActive&&S===null||!v&&!m.prevProp||Ba(v)||typeof v=="boolean")continue;const C=AS(m.prevProp,v);let P=C||g===l&&m.isActive&&!k&&_||x>y&&_,D=!1;const E=Array.isArray(v)?v:[v];let T=E.reduce(s(g),{});S===!1&&(T={});const{prevResolvedValues:F={}}=m,Y={...F,...T},X=M=>{P=!0,f.has(M)&&(D=!0,f.delete(M)),m.needsAnimating[M]=!0;const j=e.getValue(M);j&&(j.liveStyle=!1)};for(const M in Y){const j=T[M],O=F[M];if(p.hasOwnProperty(M))continue;let L=!1;Jc(j)&&Jc(O)?L=!hv(j,O):L=j!==O,L?j!=null?X(M):f.add(M):j!==void 0&&f.has(M)?X(M):m.protectedKeys[M]=!0}m.prevProp=v,m.prevResolvedValues=T,m.isActive&&(p={...p,...T}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(k&&C)||D)&&h.push(...E.map(M=>({animation:M,options:{type:g}})))}if(f.size){const x={};f.forEach(g=>{const m=e.getBaseTarget(g),v=e.getValue(g);v&&(v.liveStyle=!0),x[g]=m??null}),h.push({animation:x})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=lp(),r=!0}}}function AS(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hv(t,e):!1}function Hn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lp(){return{animate:Hn(!0),whileInView:Hn(),whileHover:Hn(),whileTap:Hn(),whileDrag:Hn(),whileFocus:Hn(),exit:Hn()}}class Un{constructor(t){this.isMounted=!1,this.node=t}update(){}}class RS extends Un{constructor(t){super(t),t.animationState||(t.animationState=OS(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ba(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let LS=0;class FS extends Un{constructor(){super(...arguments),this.id=LS++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const IS={animation:{Feature:RS},exit:{Feature:FS}},Jv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Wa(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const $S=e=>t=>Jv(t)&&e(t,Wa(t));function Gt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Zt(e,t,n,r){return Gt(e,t,$S(n),r)}const cp=(e,t)=>Math.abs(e-t);function BS(e,t){const n=cp(e.x,t.x),r=cp(e.y,t.y);return Math.sqrt(n**2+r**2)}class Zv{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Fl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=BS(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:y}=h,{timestamp:w}=Me;this.history.push({...y,timestamp:w});const{onStart:x,onMove:g}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ll(f,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Fl(h.type==="pointercancel"?this.lastMoveEventInfo:Ll(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),y&&y(h,x)},!Jv(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Wa(t),a=Ll(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Me;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Fl(a,this.history)),this.removeListeners=Jt(Zt(this.contextWindow,"pointermove",this.handlePointerMove),Zt(this.contextWindow,"pointerup",this.handlePointerUp),Zt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),On(this.updatePoint)}}function Ll(e,t){return t?{point:t(e.point)}:e}function up(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fl({point:e},t){return{point:e,delta:up(e,ey(t)),offset:up(e,VS(t)),velocity:US(t,.1)}}function VS(e){return e[0]}function ey(e){return e[e.length-1]}function US(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=ey(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Qt(t)));)n--;if(!r)return{x:0,y:0};const i=Xt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ty(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const dp=ty("dragHorizontal"),hp=ty("dragVertical");function ny(e){let t=!1;if(e==="y")t=hp();else if(e==="x")t=dp();else{const n=dp(),r=hp();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function ry(){const e=ny(!0);return e?(e(),!1):!0}function Ir(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const sy=1e-4,WS=1-sy,zS=1+sy,iy=.01,HS=0-iy,YS=0+iy;function ut(e){return e.max-e.min}function KS(e,t,n){return Math.abs(e-t)<=n}function fp(e,t,n,r=.5){e.origin=r,e.originPoint=fe(t.min,t.max,e.origin),e.scale=ut(n)/ut(t),e.translate=fe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=WS&&e.scale<=zS||isNaN(e.scale))&&(e.scale=1),(e.translate>=HS&&e.translate<=YS||isNaN(e.translate))&&(e.translate=0)}function Js(e,t,n,r){fp(e.x,t.x,n.x,r?r.originX:void 0),fp(e.y,t.y,n.y,r?r.originY:void 0)}function pp(e,t,n){e.min=n.min+t.min,e.max=e.min+ut(t)}function GS(e,t,n){pp(e.x,t.x,n.x),pp(e.y,t.y,n.y)}function mp(e,t,n){e.min=t.min-n.min,e.max=e.min+ut(t)}function Zs(e,t,n){mp(e.x,t.x,n.x),mp(e.y,t.y,n.y)}function qS(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?fe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?fe(n,e,r.max):Math.min(e,n)),e}function gp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function QS(e,{top:t,left:n,bottom:r,right:s}){return{x:gp(e.x,n,s),y:gp(e.y,t,r)}}function vp(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function XS(e,t){return{x:vp(e.x,t.x),y:vp(e.y,t.y)}}function JS(e,t){let n=.5;const r=ut(e),s=ut(t);return s>r?n=ss(t.min,t.max-r,e.min):r>s&&(n=ss(e.min,e.max-s,t.min)),An(0,1,n)}function ZS(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const cu=.35;function ej(e=cu){return e===!1?e=0:e===!0&&(e=cu),{x:yp(e,"left","right"),y:yp(e,"top","bottom")}}function yp(e,t,n){return{min:xp(e,t),max:xp(e,n)}}function xp(e,t){return typeof e=="number"?e:e[t]||0}const wp=()=>({translate:0,scale:1,origin:0,originPoint:0}),$r=()=>({x:wp(),y:wp()}),bp=()=>({min:0,max:0}),ve=()=>({x:bp(),y:bp()});function pt(e){return[e("x"),e("y")]}function oy({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function tj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Il(e){return e===void 0||e===1}function uu({scale:e,scaleX:t,scaleY:n}){return!Il(e)||!Il(t)||!Il(n)}function qn(e){return uu(e)||ay(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ay(e){return _p(e.x)||_p(e.y)}function _p(e){return e&&e!=="0%"}function pa(e,t,n){const r=e-n,s=t*r;return n+s}function kp(e,t,n,r,s){return s!==void 0&&(e=pa(e,s,r)),pa(e,n,r)+t}function du(e,t=0,n=1,r,s){e.min=kp(e.min,t,n,r,s),e.max=kp(e.max,t,n,r,s)}function ly(e,{x:t,y:n}){du(e.x,t.translate,t.scale,t.originPoint),du(e.y,n.translate,n.scale,n.originPoint)}const Sp=.999999999999,jp=1.0000000000001;function rj(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Vr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ly(e,o)),r&&qn(i.latestValues)&&Vr(e,i.latestValues))}t.x<jp&&t.x>Sp&&(t.x=1),t.y<jp&&t.y>Sp&&(t.y=1)}function Br(e,t){e.min=e.min+t,e.max=e.max+t}function Cp(e,t,n,r,s=.5){const i=fe(e.min,e.max,s);du(e,t,n,i,r)}function Vr(e,t){Cp(e.x,t.x,t.scaleX,t.scale,t.originX),Cp(e.y,t.y,t.scaleY,t.scale,t.originY)}function cy(e,t){return oy(nj(e.getBoundingClientRect(),t))}function sj(e,t,n){const r=cy(e,n),{scroll:s}=t;return s&&(Br(r.x,s.offset.x),Br(r.y,s.offset.y)),r}const uy=({current:e})=>e?e.ownerDocument.defaultView:null,ij=new WeakMap;class oj{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wa(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:y}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ny(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pt(x=>{let g=this.getAxisMotionValue(x).get()||0;if($t.test(g)){const{projection:m}=this.visualElement;if(m&&m.layout){const v=m.layout.layoutBox[x];v&&(g=ut(v)*(parseFloat(g)/100))}}this.originPoint[x]=g}),y&&re.postRender(()=>y(d,h)),au(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:y,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=aj(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>pt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Zv(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:uy(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&re.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!lo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=qS(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Ir(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=QS(s.layoutBox,n):this.constraints=!1,this.elastic=ej(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&pt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ZS(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ir(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=sj(r,s.root,this.visualElement.getTransformPagePoint());let o=XS(s.layout.layoutBox,i);if(n){const a=n(tj(o));this.hasMutatedConstraints=!!a,a&&(o=oy(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=pt(d=>{if(!lo(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return au(this.visualElement,t),r.start(Bd(t,r,0,n,this.visualElement,!1))}stopAnimation(){pt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){pt(n=>{const{drag:r}=this.getProps();if(!lo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-fe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ir(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};pt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=JS({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pt(o=>{if(!lo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(fe(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;ij.set(this.visualElement,this);const t=this.visualElement.current,n=Zt(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ir(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),re.read(r);const o=Gt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(pt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=cu,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function lo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function aj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class lj extends Un{constructor(t){super(t),this.removeGroupControls=$e,this.removeListeners=$e,this.controls=new oj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$e}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pp=e=>(t,n)=>{e&&re.postRender(()=>e(t,n))};class cj extends Un{constructor(){super(...arguments),this.removePointerDownListener=$e}onPointerDown(t){this.session=new Zv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Pp(t),onStart:Pp(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&re.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Zt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const za=b.createContext(null);function uj(){const e=b.useContext(za);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=b.useId();b.useEffect(()=>r(s),[]);const i=b.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,i]:[!0]}const Hd=b.createContext({}),dy=b.createContext({}),Ao={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Np(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ps={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=Np(e,t.target.x),r=Np(e,t.target.y);return`${n}% ${r}%`}},dj={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Rn.parse(e);if(s.length>5)return r;const i=Rn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=fe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},ma={};function hj(e){Object.assign(ma,e)}const{schedule:Yd,cancel:sD}=fv(queueMicrotask,!1);class fj extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;hj(pj),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ao.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||re.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hy(e){const[t,n]=uj(),r=b.useContext(Hd);return c.jsx(fj,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(dy),isPresent:t,safeToRemove:n})}const pj={borderRadius:{...Ps,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ps,borderTopRightRadius:Ps,borderBottomLeftRadius:Ps,borderBottomRightRadius:Ps,boxShadow:dj},fy=["TopLeft","TopRight","BottomLeft","BottomRight"],mj=fy.length,Ep=e=>typeof e=="string"?parseFloat(e):e,Tp=e=>typeof e=="number"||$.test(e);function gj(e,t,n,r,s,i){s?(e.opacity=fe(0,n.opacity!==void 0?n.opacity:1,vj(r)),e.opacityExit=fe(t.opacity!==void 0?t.opacity:1,0,yj(r))):i&&(e.opacity=fe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<mj;o++){const a=`border${fy[o]}Radius`;let l=Mp(t,a),u=Mp(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Tp(l)===Tp(u)?(e[a]=Math.max(fe(Ep(l),Ep(u),r),0),($t.test(u)||$t.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=fe(t.rotate||0,n.rotate||0,r))}function Mp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vj=py(0,.5,wv),yj=py(.5,.95,$e);function py(e,t,n){return r=>r<e?0:r>t?1:n(ss(e,t,r))}function Dp(e,t){e.min=t.min,e.max=t.max}function ft(e,t){Dp(e.x,t.x),Dp(e.y,t.y)}function Op(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ap(e,t,n,r,s){return e-=t,e=pa(e,1/n,r),s!==void 0&&(e=pa(e,1/s,r)),e}function xj(e,t=0,n=1,r=.5,s,i=e,o=e){if($t.test(t)&&(t=parseFloat(t),t=fe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=fe(i.min,i.max,r);e===i&&(a-=t),e.min=Ap(e.min,t,n,a,s),e.max=Ap(e.max,t,n,a,s)}function Rp(e,t,[n,r,s],i,o){xj(e,t[n],t[r],t[s],t.scale,i,o)}const wj=["x","scaleX","originX"],bj=["y","scaleY","originY"];function Lp(e,t,n,r){Rp(e.x,t,wj,n?n.x:void 0,r?r.x:void 0),Rp(e.y,t,bj,n?n.y:void 0,r?r.y:void 0)}function Fp(e){return e.translate===0&&e.scale===1}function my(e){return Fp(e.x)&&Fp(e.y)}function Ip(e,t){return e.min===t.min&&e.max===t.max}function _j(e,t){return Ip(e.x,t.x)&&Ip(e.y,t.y)}function $p(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function gy(e,t){return $p(e.x,t.x)&&$p(e.y,t.y)}function Bp(e){return ut(e.x)/ut(e.y)}function Vp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class kj{constructor(){this.members=[]}add(t){Vd(this.members,t),t.scheduleRender()}remove(t){if(Ud(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sj(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const jj=(e,t)=>e.depth-t.depth;class Cj{constructor(){this.children=[],this.isDirty=!1}add(t){Vd(this.children,t),this.isDirty=!0}remove(t){Ud(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jj),this.isDirty=!1,this.children.forEach(t)}}function Ro(e){const t=Ie(e)?e.get():e;return vS(t)?t.toValue():t}function Pj(e,t){const n=Bt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(On(r),e(i-t))};return re.read(r,!0),()=>On(r)}function Nj(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Ej(e,t,n){const r=Ie(e)?e:Si(e);return r.start(Bd("",r,t,n)),r.animation}const Qn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Bs=typeof window<"u"&&window.MotionDebug!==void 0,$l=["","X","Y","Z"],Tj={visibility:"hidden"},Up=1e3;let Mj=0;function Bl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function vy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=qv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&vy(r)}function yy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Mj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bs&&(Qn.totalNodes=Qn.resolvedTargetDeltas=Qn.recalculatedProjection=0),this.nodes.forEach(Aj),this.nodes.forEach($j),this.nodes.forEach(Bj),this.nodes.forEach(Rj),Bs&&window.MotionDebug.record(Qn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Wd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Nj(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Pj(f,250),Ao.hasAnimatedSinceResize&&(Ao.hasAnimatedSinceResize=!1,this.nodes.forEach(zp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||Hj,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),m=!this.targetLayout||!gy(this.targetLayout,y)||p,v=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const _={...Cd(w,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||zp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,On(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wp);return}this.isUpdating||this.nodes.forEach(Fj),this.isUpdating=!1,this.nodes.forEach(Ij),this.nodes.forEach(Dj),this.nodes.forEach(Oj),this.clearAllSnapshots();const a=Bt.now();Me.delta=An(0,1e3/60,a-Me.timestamp),Me.timestamp=a,Me.isProcessing=!0,Ml.update.process(Me),Ml.preRender.process(Me),Ml.render.process(Me),Me.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Lj),this.sharedNodes.forEach(Uj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!my(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||qn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Yj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return ve();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Kj))){const{scroll:d}=this.root;d&&(Br(l.x,d.offset.x),Br(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=ve();if(ft(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ft(l,o),Br(l.x,h.offset.x),Br(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=ve();ft(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Vr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),qn(d.latestValues)&&Vr(l,d.latestValues)}return qn(this.latestValues)&&Vr(l,this.latestValues),l}removeTransform(o){const a=ve();ft(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!qn(u.latestValues))continue;uu(u.latestValues)&&u.updateSnapshot();const d=ve(),h=u.measurePageBox();ft(d,h),Lp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return qn(this.latestValues)&&Lp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Me.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Me.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Zs(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ft(this.target,this.layout.layoutBox),ly(this.target,this.targetDelta)):ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Zs(this.relativeTargetOrigin,this.target,p.target),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bs&&Qn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||uu(this.parent.latestValues)||ay(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Me.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ft(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;rj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ve());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Op(this.prevProjectionDelta.x,this.projectionDelta.x),Op(this.prevProjectionDelta.y,this.projectionDelta.y)),Js(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Vp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Bs&&Qn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$r(),this.projectionDelta=$r(),this.projectionDeltaWithTransform=$r()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=$r();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ve(),p=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=p!==y,x=this.getStack(),g=!x||x.members.length<=1,m=!!(w&&!g&&this.options.crossfade===!0&&!this.path.some(zj));this.animationProgress=0;let v;this.mixTargetDelta=_=>{const S=_/1e3;Hp(h.x,o.x,S),Hp(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wj(this.relativeTarget,this.relativeTargetOrigin,f,S),v&&_j(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ve()),ft(v,this.relativeTarget)),w&&(this.animationValues=d,gj(d,u,this.latestValues,S,m,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(On(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{Ao.hasAnimatedSinceResize=!0,this.currentAnimation=Ej(0,Up,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Up),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&xy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ve();const h=ut(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=ut(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ft(a,l),Vr(a,d),Js(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new kj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Bl("z",o,u,this.animationValues);for(let d=0;d<$l.length;d++)Bl(`rotate${$l[d]}`,o,u,this.animationValues),Bl(`skew${$l[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Tj;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ro(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Ro(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!qn(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Sj(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in ma){if(f[w]===void 0)continue;const{correct:x,applyTo:g}=ma[w],m=u.transform==="none"?f[w]:x(f[w],h);if(g){const v=g.length;for(let _=0;_<v;_++)u[g[_]]=m}else u[w]=m}return this.options.layoutId&&(u.pointerEvents=h===this?Ro(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Wp),this.root.sharedNodes.clear()}}}function Dj(e){e.updateLayout()}function Oj(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?pt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=ut(f);f.min=r[h].min,f.max=f.min+p}):xy(i,n.layoutBox,r)&&pt(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=ut(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=$r();Js(a,r,n.layoutBox);const l=$r();o?Js(l,e.applyTransform(s,!0),n.measuredBox):Js(l,r,n.layoutBox);const u=!my(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const y=ve();Zs(y,n.layoutBox,f.layoutBox);const w=ve();Zs(w,r,p.layoutBox),gy(y,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Aj(e){Bs&&Qn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Rj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Lj(e){e.clearSnapshot()}function Wp(e){e.clearMeasurements()}function Fj(e){e.isLayoutDirty=!1}function Ij(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function $j(e){e.resolveTargetDelta()}function Bj(e){e.calcProjection()}function Vj(e){e.resetSkewAndRotation()}function Uj(e){e.removeLeadSnapshot()}function Hp(e,t,n){e.translate=fe(t.translate,0,n),e.scale=fe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Yp(e,t,n,r){e.min=fe(t.min,n.min,r),e.max=fe(t.max,n.max,r)}function Wj(e,t,n,r){Yp(e.x,t.x,n.x,r),Yp(e.y,t.y,n.y,r)}function zj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Hj={duration:.45,ease:[.4,0,.1,1]},Kp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Gp=Kp("applewebkit/")&&!Kp("chrome/")?Math.round:$e;function qp(e){e.min=Gp(e.min),e.max=Gp(e.max)}function Yj(e){qp(e.x),qp(e.y)}function xy(e,t,n){return e==="position"||e==="preserve-aspect"&&!KS(Bp(t),Bp(n),.2)}function Kj(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Gj=yy({attachResizeListener:(e,t)=>Gt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vl={current:void 0},wy=yy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vl.current){const e=new Gj({});e.mount(window),e.setOptions({layoutScroll:!0}),Vl.current=e}return Vl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),qj={pan:{Feature:cj},drag:{Feature:lj,ProjectionNode:wy,MeasureLayout:hy}};function Qp(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd",s=(i,o)=>{if(i.pointerType==="touch"||ry())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const l=a[r];l&&re.postRender(()=>l(i,o))};return Zt(e.current,n,s,{passive:!e.getProps()[r]})}class Qj extends Un{mount(){this.unmount=Jt(Qp(this.node,!0),Qp(this.node,!1))}unmount(){}}class Xj extends Un{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jt(Gt(this.node.current,"focus",()=>this.onFocus()),Gt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const by=(e,t)=>t?e===t?!0:by(e,t.parentElement):!1;function Ul(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Wa(n))}class Jj extends Un{constructor(){super(...arguments),this.removeStartListeners=$e,this.removeEndListeners=$e,this.removeAccessibleListeners=$e,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Zt(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!by(this.node.current,a.target)?d:u;f&&re.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Zt(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Jt(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ul("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&re.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Gt(this.node.current,"keyup",o),Ul("down",(a,l)=>{this.startPress(a,l)})},n=Gt(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ul("cancel",(i,o)=>this.cancelPress(i,o))},s=Gt(this.node.current,"blur",r);this.removeAccessibleListeners=Jt(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&re.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ry()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&re.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Zt(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Gt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jt(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hu=new WeakMap,Wl=new WeakMap,Zj=e=>{const t=hu.get(e.target);t&&t(e)},eC=e=>{e.forEach(Zj)};function tC({root:e,...t}){const n=e||document;Wl.has(n)||Wl.set(n,{});const r=Wl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(eC,{root:e,...t})),r[s]}function nC(e,t,n){const r=tC(t);return hu.set(e,n),r.observe(e),()=>{hu.delete(e),r.unobserve(e)}}const rC={some:0,all:1};class sC extends Un{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:rC[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return nC(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(iC(t,n))&&this.startObserver()}unmount(){}}function iC({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const oC={inView:{Feature:sC},tap:{Feature:Jj},focus:{Feature:Xj},hover:{Feature:Qj}},aC={layout:{ProjectionNode:wy,MeasureLayout:hy}},Kd=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ha=b.createContext({}),Gd=typeof window<"u",_y=Gd?b.useLayoutEffect:b.useEffect,ky=b.createContext({strict:!1});function lC(e,t,n,r,s){var i,o;const{visualElement:a}=b.useContext(Ha),l=b.useContext(ky),u=b.useContext(za),d=b.useContext(Kd).reducedMotion,h=b.useRef();r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=b.useContext(dy);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&cC(h.current,n,s,p);const y=b.useRef(!1);b.useInsertionEffect(()=>{f&&y.current&&f.update(n,u)});const w=n[Gv],x=b.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return _y(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Yd.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,w)}),x.current=!1))}),f}function cC(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Sy(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ir(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Sy(e){if(e)return e.options.allowProjection!==!1?e.projection:Sy(e.parent)}function uC(e,t,n){return b.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ir(n)&&(n.current=r))},[t])}function Ya(e){return Ba(e.animate)||jd.some(t=>bi(e[t]))}function jy(e){return!!(Ya(e)||e.variants)}function dC(e,t){if(Ya(e)){const{initial:n,animate:r}=e;return{initial:n===!1||bi(n)?n:void 0,animate:bi(r)?r:void 0}}return e.inherit!==!1?t:{}}function hC(e){const{initial:t,animate:n}=dC(e,b.useContext(Ha));return b.useMemo(()=>({initial:t,animate:n}),[Xp(t),Xp(n)])}function Xp(e){return Array.isArray(e)?e.join(" "):e}const Jp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},is={};for(const e in Jp)is[e]={isEnabled:t=>Jp[e].some(n=>!!t[n])};function fC(e){for(const t in e)is[t]={...is[t],...e[t]}}const pC=Symbol.for("motionComponentSymbol");function mC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&fC(e);function i(a,l){let u;const d={...b.useContext(Kd),...a,layoutId:gC(a)},{isStatic:h}=d,f=hC(a),p=r(a,h);if(!h&&Gd){vC();const y=yC(d);u=y.MeasureLayout,f.visualElement=lC(s,p,d,t,y.ProjectionNode)}return c.jsxs(Ha.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,a,uC(p,f.visualElement,l),p,h,f.visualElement)]})}const o=b.forwardRef(i);return o[pC]=s,o}function gC({layoutId:e}){const t=b.useContext(Hd).id;return t&&e!==void 0?t+"-"+e:e}function vC(e,t){b.useContext(ky).strict}function yC(e){const{drag:t,layout:n}=is;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qd(e){return typeof e!="string"||e.includes("-")?!1:!!(xC.indexOf(e)>-1||/[A-Z]/u.test(e))}function Cy(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Py=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ny(e,t,n,r){Cy(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Py.has(s)?s:zd(s),t.attrs[s])}function Ey(e,{layout:t,layoutId:n}){return gr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ma[e]||e==="opacity")}function Qd(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Ie(s[o])||t.style&&Ie(t.style[o])||Ey(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function Ty(e,t,n){const r=Qd(e,t,n);for(const s in e)if(Ie(e[s])||Ie(t[s])){const i=Oi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function Xd(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}function wC({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:bC(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const My=e=>(t,n)=>{const r=b.useContext(Ha),s=b.useContext(za),i=()=>wC(e,t,r,s);return n?i():Xd(i)};function bC(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Ro(i[f]);let{initial:o,animate:a}=e;const l=Ya(e),u=jy(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Ba(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const y=kd(e,f[p]);if(y){const{transitionEnd:w,transition:x,...g}=y;for(const m in g){let v=g[m];if(Array.isArray(v)){const _=d?v.length-1:0;v=v[_]}v!==null&&(s[m]=v)}for(const m in w)s[m]=w[m]}}}return s}const Jd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Dy=()=>({...Jd(),attrs:{}}),Oy=(e,t)=>t&&typeof e=="number"?t.transform(e):e,_C={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kC=Oi.length;function SC(e,t,n){let r="",s=!0;for(let i=0;i<kC;i++){const o=Oi[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Oy(a,Od[o]);if(!l){s=!1;const d=_C[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Zd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(gr.has(l)){o=!0;continue}else if(jv(l)){s[l]=u;continue}else{const d=Oy(u,Od[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=SC(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}function Zp(e,t,n){return typeof e=="string"?e:$.transform(t+n*e)}function jC(e,t,n){const r=Zp(t,e.x,e.width),s=Zp(n,e.y,e.height);return`${r} ${s}`}const CC={offset:"stroke-dashoffset",array:"stroke-dasharray"},PC={offset:"strokeDashoffset",array:"strokeDasharray"};function NC(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?CC:PC;e[i.offset]=$.transform(-r);const o=$.transform(t),a=$.transform(n);e[i.array]=`${o} ${a}`}function eh(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(Zd(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:y}=e;f.transform&&(y&&(p.transform=f.transform),delete f.transform),y&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=jC(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&NC(f,o,a,l,!1)}const th=e=>typeof e=="string"&&e.toLowerCase()==="svg",EC={useVisualState:My({scrapeMotionValuesFromProps:Ty,createRenderState:Dy,onMount:(e,t,{renderState:n,latestValues:r})=>{re.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),re.render(()=>{eh(n,r,th(t.tagName),e.transformTemplate),Ny(t,n)})}})},TC={useVisualState:My({scrapeMotionValuesFromProps:Qd,createRenderState:Jd})};function Ay(e,t,n){for(const r in t)!Ie(t[r])&&!Ey(r,n)&&(e[r]=t[r])}function MC({transformTemplate:e},t){return b.useMemo(()=>{const n=Jd();return Zd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function DC(e,t){const n=e.style||{},r={};return Ay(r,n,e),Object.assign(r,MC(e,t)),r}function OC(e,t){const n={},r=DC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const AC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ga(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||AC.has(e)}let Ry=e=>!ga(e);function RC(e){e&&(Ry=t=>t.startsWith("on")?!ga(t):e(t))}try{RC(require("@emotion/is-prop-valid").default)}catch{}function LC(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Ry(s)||n===!0&&ga(s)||!t&&!ga(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function FC(e,t,n,r){const s=b.useMemo(()=>{const i=Dy();return eh(i,t,th(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Ay(i,e.style,e),s.style={...i,...s.style}}return s}function IC(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(qd(n)?FC:OC)(r,i,o,n),u=LC(r,typeof n=="string",e),d=n!==b.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=b.useMemo(()=>Ie(h)?h.get():h,[h]);return b.createElement(n,{...d,children:f})}}function $C(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...qd(r)?EC:TC,preloadedFeatures:e,useRender:IC(s),createVisualElement:t,Component:r};return mC(o)}}const fu={current:null},Ly={current:!1};function BC(){if(Ly.current=!0,!!Gd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fu.current=e.matches;e.addListener(t),t()}else fu.current=!1}function VC(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ie(s))e.addValue(r,s);else if(Ie(i))e.addValue(r,Si(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Si(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const em=new WeakMap,UC=[...Nv,Le,Rn],WC=e=>UC.find(Pv(e)),tm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zC{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Td,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Bt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,re.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ya(n),this.isVariantNode=jy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];l[f]!==void 0&&Ie(p)&&p.set(l[f],!1)}}mount(t){this.current=t,em.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ly.current||BC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){em.delete(this.current),this.projection&&this.projection.unmount(),On(this.notifyUpdate),On(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=gr.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in is){const n=is[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<tm.length;r++){const s=tm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=VC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Si(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(kv(s)||_v(s))?s=parseFloat(s):!WC(s)&&Rn.test(n)&&(s=Lv(t,n)),this.setBaseTarget(t,Ie(s)?s.get():s)),Ie(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=kd(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ie(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Wd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Fy extends zC{constructor(){super(...arguments),this.KeyframeResolver=Fv}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}}function HC(e){return window.getComputedStyle(e)}class YC extends Fy{constructor(){super(...arguments),this.type="html",this.renderInstance=Cy}readValueFromInstance(t,n){if(gr.has(n)){const r=Ad(n);return r&&r.default||0}else{const r=HC(t),s=(jv(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return cy(t,n)}build(t,n,r){Zd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Qd(t,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ie(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class KC extends Fy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gr.has(n)){const r=Ad(n);return r&&r.default||0}return n=Py.has(n)?n:zd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ty(t,n,r)}build(t,n,r){eh(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){Ny(t,n,r,s)}mount(t){this.isSVGTag=th(t.tagName),super.mount(t)}}const GC=(e,t)=>qd(e)?new KC(t):new YC(t,{allowProjection:e!==b.Fragment}),qC=$C({...IS,...oC,...qj,...aC},GC),G=E_(qC);class QC extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function XC({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=b.useContext(Kd);return b.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(QC,{isPresent:t,childRef:r,sizeRef:s,children:b.cloneElement(e,{ref:r})})}const JC=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Xd(ZC),l=b.useId(),u=b.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=b.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return b.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),b.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(XC,{isPresent:n,children:e})),c.jsx(za.Provider,{value:d,children:e})};function ZC(){return new Map}const co=e=>e.key||"";function nm(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const Vt=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=b.useMemo(()=>nm(e),[e]),l=a.map(co),u=b.useRef(!0),d=b.useRef(a),h=Xd(()=>new Map),[f,p]=b.useState(a),[y,w]=b.useState(a);_y(()=>{u.current=!1,d.current=a;for(let m=0;m<y.length;m++){const v=co(y[m]);l.includes(v)?h.delete(v):h.get(v)!==!0&&h.set(v,!1)}},[y,l.length,l.join("-")]);const x=[];if(a!==f){let m=[...a];for(let v=0;v<y.length;v++){const _=y[v],S=co(_);l.includes(S)||(m.splice(v,0,_),x.push(_))}o==="wait"&&x.length&&(m=x),w(nm(m)),p(a);return}const{forceRender:g}=b.useContext(Hd);return c.jsx(c.Fragment,{children:y.map(m=>{const v=co(m),_=a===y||l.includes(v),S=()=>{if(h.has(v))h.set(v,!0);else return;let k=!0;h.forEach(C=>{C||(k=!1)}),k&&(g==null||g(),w(d.current),s&&s())};return c.jsx(JC,{isPresent:_,initial:!u.current||r?void 0:!1,custom:_?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:_?void 0:S,children:m},v)})})},e2="modulepreload",t2=function(e){return"/"+e},rm={},os=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=t2(l),l in rm)return;rm[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":e2,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},n2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>os(async()=>{const{default:r}=await Promise.resolve().then(()=>gs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class nh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class r2 extends nh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class s2 extends nh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class i2 extends nh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pu||(pu={}));var o2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class a2{constructor(t,{headers:n={},customFetch:r,region:s=pu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=n2(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return o2(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new r2(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new s2(d);if(!d.ok)throw new i2(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Qe={},rh={},Ka={},Li={},Ga={},qa={},l2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},as=l2();const c2=as.fetch,Iy=as.fetch.bind(as),$y=as.Headers,u2=as.Request,d2=as.Response,gs=Object.freeze(Object.defineProperty({__proto__:null,Headers:$y,Request:u2,Response:d2,default:Iy,fetch:c2},Symbol.toStringTag,{value:"Module"})),h2=nw(gs);var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});class f2 extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}Qa.default=f2;var By=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qa,"__esModule",{value:!0});const p2=By(h2),m2=By(Qa);let g2=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=p2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&w===""?(f=204,p="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new m2.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}};qa.default=g2;var v2=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ga,"__esModule",{value:!0});const y2=v2(qa);let x2=class extends y2.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ga.default=x2;var w2=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Li,"__esModule",{value:!0});const b2=w2(Ga);let _2=class extends b2.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Li.default=_2;var k2=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ka,"__esModule",{value:!0});const Ns=k2(Li);let S2=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ns.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ns.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ns.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ns.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ns.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ka.default=S2;var Xa={},Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.version=void 0;Ja.version="0.0.0-automated";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.DEFAULT_HEADERS=void 0;const j2=Ja;Xa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${j2.version}`};var Vy=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rh,"__esModule",{value:!0});const C2=Vy(Ka),P2=Vy(Li),N2=Xa;let E2=class Uy{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},N2.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new C2.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Uy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new P2.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};rh.default=E2;var vs=xt&&xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const Wy=vs(rh);Qe.PostgrestClient=Wy.default;const zy=vs(Ka);Qe.PostgrestQueryBuilder=zy.default;const Hy=vs(Li);Qe.PostgrestFilterBuilder=Hy.default;const Yy=vs(Ga);Qe.PostgrestTransformBuilder=Yy.default;const Ky=vs(qa);Qe.PostgrestBuilder=Ky.default;const Gy=vs(Qa);Qe.PostgrestError=Gy.default;var T2=Qe.default={PostgrestClient:Wy.default,PostgrestQueryBuilder:zy.default,PostgrestFilterBuilder:Hy.default,PostgrestTransformBuilder:Yy.default,PostgrestBuilder:Ky.default,PostgrestError:Gy.default};const{PostgrestClient:M2,PostgrestQueryBuilder:uD,PostgrestFilterBuilder:dD,PostgrestTransformBuilder:hD,PostgrestBuilder:fD}=T2,D2="2.10.7",O2={"X-Client-Info":`realtime-js/${D2}`},A2="1.0.0",qy=1e4,R2=1e3;var qr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qr||(qr={}));var st;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(st||(st={}));var Ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ct||(Ct={}));var mu;(function(e){e.websocket="websocket"})(mu||(mu={}));var Zn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zn||(Zn={}));class L2{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Qy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(se||(se={}));const sm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=F2(o,e,t,s),i),{})},F2=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Xy(i,o):gu(o)},Xy=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return V2(t,n)}switch(e){case se.bool:return I2(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return $2(t);case se.json:case se.jsonb:return B2(t);case se.timestamp:return U2(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return gu(t);default:return gu(t)}},gu=e=>e,I2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},B2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},V2=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Xy(t,a))}return e},U2=e=>typeof e=="string"?e.replace(" ","T"):e,Jy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class zl{constructor(t,n,r={},s=qy){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var im;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(im||(im={}));class ei{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ei.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ei.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),y=d.filter(x=>p.indexOf(x.presence_ref)<0),w=h.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var om;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(om||(om={}));var am;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(am||(am={}));var lm;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lm||(lm={}));class sh{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new zl(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Qy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ei(this),this.broadcastEndpointURL=Jy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t&&t("CHANNEL_ERROR",d)),this._onClose(()=>t&&t("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:d})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){t&&t("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<p;w++){const x=f[w],{filter:{event:g,schema:m,table:v,filter:_}}=x,S=d&&d[w];if(S&&S.event===g&&S.schema===m&&S.table===v&&S.filter===_)y.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t("SUBSCRIBED");return}}).receive("error",d=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new zl(this,Ct.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new zl(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Ct;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,w,x;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,w,x,g,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:x,commit_timestamp:g,type:m,errors:v}=y;f=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(y))}p.callback(f,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&sh.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ct.close,{},t)}_onError(t){this._on(Ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sm(t.columns,t.old_record)),n}}const W2=()=>{},z2=typeof WebSocket<"u",H2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y2{constructor(t,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=O2,this.params={},this.timeout=qy,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=W2,this.conn=null,this.sendBuffer=[],this.serializer=new L2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>os(async()=>{const{default:l}=await Promise.resolve().then(()=>gs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${mu.websocket}`,this.httpEndpoint=Jy(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(z2){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new K2(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),os(async()=>{const{default:t}=await import("./browser-Cyp6zsHk.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qr.connecting:return Zn.Connecting;case qr.open:return Zn.Open;case qr.closing:return Zn.Closing;default:return Zn.Closed}}isConnected(){return this.connectionState()===Zn.Open}channel(t,n={config:{}}){const r=new sh(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Ct.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:A2}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(R2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([H2],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class K2{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=qr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class ih extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class G2 extends ih{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vu extends ih{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var q2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Zy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>os(async()=>{const{default:r}=await Promise.resolve().then(()=>gs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Q2=()=>q2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield os(()=>Promise.resolve().then(()=>gs),void 0)).Response:Response}),yu=e=>{if(Array.isArray(e))return e.map(n=>yu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=yu(r)}),t};var vr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Hl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X2=(e,t,n)=>vr(void 0,void 0,void 0,function*(){const r=yield Q2();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new G2(Hl(s),e.status||500))}).catch(s=>{t(new vu(Hl(s),s))}):t(new vu(Hl(e),e))}),J2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Fi(e,t,n,r,s,i){return vr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,J2(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>X2(l,a,r))})})}function va(e,t,n,r){return vr(this,void 0,void 0,function*(){return Fi(e,"GET",t,n,r)})}function mn(e,t,n,r,s){return vr(this,void 0,void 0,function*(){return Fi(e,"POST",t,r,s,n)})}function Z2(e,t,n,r,s){return vr(this,void 0,void 0,function*(){return Fi(e,"PUT",t,r,s,n)})}function eP(e,t,n,r){return vr(this,void 0,void 0,function*(){return Fi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ex(e,t,n,r,s){return vr(this,void 0,void 0,function*(){return Fi(e,"DELETE",t,r,s,n)})}var Ge=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const tP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nP{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Zy(s)}uploadOrUpdate(t,n,r,s){return Ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},cm),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:cm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield mn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ih("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield mn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ge(this,void 0,void 0,function*(){try{const s=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}download(t,n){return Ge(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield va(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ce(a))return{data:null,error:a};throw a}})}info(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield va(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yu(r),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}exists(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield eP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ce(r)&&r instanceof vu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield ex(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tP),n),{prefix:t||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const rP="2.7.1",sP={"X-Client-Info":`storage-js/${rP}`};var wr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class iP{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},sP),n),this.fetch=Zy(r)}listBuckets(){return wr(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ce(t))return{data:null,error:t};throw t}})}getBucket(t){return wr(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return wr(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return wr(this,void 0,void 0,function*(){try{return{data:yield Z2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}emptyBucket(t){return wr(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(t){return wr(this,void 0,void 0,function*(){try{return{data:yield ex(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}}class oP extends iP{constructor(t,n={},r){super(t,n,r)}from(t){return new nP(this.url,this.headers,t,this.fetch)}}const aP="2.46.1";let Vs="";typeof Deno<"u"?Vs="deno":typeof document<"u"?Vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vs="react-native":Vs="node";const lP={"X-Client-Info":`supabase-js-${Vs}/${aP}`},cP={headers:lP},uP={schema:"public"},dP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hP={};var fP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const pP=e=>{let t;return e?t=e:typeof fetch>"u"?t=Iy:t=fetch,(...n)=>t(...n)},mP=()=>typeof Headers>"u"?$y:Headers,gP=(e,t,n)=>{const r=pP(n),s=mP();return(i,o)=>fP(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var vP=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function yP(e){return e.replace(/\/$/,"")}function xP(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>vP(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const tx="2.65.1",wP="http://localhost:9999",bP="supabase.auth.token",_P={"X-Client-Info":`gotrue-js/${tx}`},um=10,xu="X-Supabase-Api-Version",nx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function kP(e){return Math.round(Date.now()/1e3)+e}function SP(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kt=()=>typeof document<"u",Yn={tested:!1,writable:!1},ti=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yn.tested)return Yn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yn.tested=!0,Yn.writable=!0}catch{Yn.tested=!0,Yn.writable=!1}return Yn.writable};function Yl(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const rx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>os(async()=>{const{default:r}=await Promise.resolve().then(()=>gs);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},jP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",sx=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},uo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ho=async(e,t)=>{await e.removeItem(t)};function CP(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)o=t.indexOf(e.charAt(d++)),a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Za{constructor(){this.promise=new Za.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Za.promiseConstructor=Promise;function dm(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(CP(r))}async function PP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function NP(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function EP(e){return("0"+e.toString(16)).substr(-2)}function TP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,EP).join("")}async function MP(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function DP(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function OP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await MP(e);return DP(n)}async function br(e,t,n=!1){const r=TP();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await sx(e,`${t}-code-verifier`,s);const i=await OP(r);return[i,r===i?"plain":"s256"]}const AP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RP(e){const t=e.headers.get(xu);if(!t||!t.match(AP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class oh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class LP extends oh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function FP(e){return K(e)&&e.name==="AuthApiError"}class ix extends oh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class yr extends oh{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class dn extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IP(e){return K(e)&&e.name==="AuthSessionMissingError"}class Kl extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fo extends yr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class po extends yr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hm extends yr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wu extends yr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Gl(e){return K(e)&&e.name==="AuthRetryableFetchError"}class fm extends yr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var $P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Xn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BP=[502,503,504];async function pm(e){var t;if(!jP(e))throw new wu(Xn(e),0);if(BP.includes(e.status))throw new wu(Xn(e),e.status);let n;try{n=await e.json()}catch(i){throw new ix(Xn(i),i)}let r;const s=RP(e);if(s&&s.getTime()>=nx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new fm(Xn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new dn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new fm(Xn(n),e.status,n.weak_password.reasons);throw new LP(Xn(n),e.status||500,r)}const VP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Q(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[xu]||(i[xu]=nx["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await UP(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function UP(e,t,n,r,s,i){const o=VP(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new wu(Xn(l),0)}if(a.ok||await pm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await pm(l)}}function hn(e){var t;let n=null;YP(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=kP(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function mm(e){const t=hn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WP(e){return{data:e,error:null}}function zP(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=$P(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function HP(e){return e}function YP(e){return e.access_token&&e.refresh_token&&e.expires_in}var KP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class GP{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=rx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=KP(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zP,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:HP});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:yn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:yn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}const qP={getItem:e=>ti()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ti()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ti()&&globalThis.localStorage.removeItem(e)}};function gm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function QP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _r={debug:!!(globalThis&&ti()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ox extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class XP extends ox{}async function JP(e,t,n){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),_r.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw _r.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new XP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_r.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}QP();const ZP={url:wP,storageKey:bP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_P,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Es=30*1e3,vm=3;async function ym(e,t,n){return await n()}class ji{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ji.nextInstanceID,ji.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ZP),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new GP({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=rx(s.fetch),this.lock=s.lock||ym,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:kt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=JP:this.lock=ym,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ti()?this.storage=qP:(this.memoryStorage={},this.storage=gm(this.memoryStorage)):(this.memoryStorage={},this.storage=gm(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=kt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return K(t)?{error:t}:{error:new ix("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:hn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await br(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:hn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:hn})}else throw new fo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mm})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mm})}else throw new fo("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Kl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await uo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:hn});if(await ho(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Kl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:hn}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Kl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await br(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new fo("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:hn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await br(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:WP})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new dn;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new fo("You must provide either an email or phone number and a type")}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yn})})}catch(n){if(K(n))return IP(n)&&(await this._removeSession(),await ho(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new dn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await br(this.storage,this.storageKey));const{data:u,error:d}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:yn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return dm(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=dm(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(K(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new dn;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!kt())throw new po("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new po("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new hm("Not a valid PKCE flow url.");const n=Yl(window.location.href);if(t){if(!n.code)throw new hm("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(n.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new po(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=n;if(!i||!a||!o||!u)throw new po("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=Es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:n.type},error:null}}catch(n){if(K(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=Yl(window.location.href);return!!(kt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Yl(window.location.href),n=await uo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(FP(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ho(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=SP(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await br(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return kt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await NP(async s=>(s>0&&await PP(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Gl(i)&&Date.now()+o-r<Es})}catch(r){if(this._debug(n,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await uo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+um;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${um}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Gl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Za;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new dn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),K(i)){const o={session:null,error:i};return Gl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sx(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ho(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Es);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Es}ms, refresh threshold is ${vm} ticks`),s<=vm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ox)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await br(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}ji.nextInstanceID=0;const eN=ji;class tN extends eN{constructor(t){super(t)}}var nN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class rN{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=yP(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:uP,realtime:hP,auth:Object.assign(Object.assign({},dP),{storageKey:l}),global:cP},d=xP(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=gP(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new M2(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new a2(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new oP(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return nN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tN({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new Y2(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sN=(e,t,n)=>new rN(e,t,n),iN="https://guquxpxxycfmmlqajdyw.supabase.co",oN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd1cXV4cHh4eWNmbW1scWFqZHl3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE5MzczOTYsImV4cCI6MjA0NzUxMzM5Nn0.CaOsAbm7eALs22atCPtsaGSWc5h6QZ8ly8Bar_O3N8Y",R=sN(iN,oN,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Timezone":"Europe/Lisbon"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),aN=`               
         
                   
                   
                 
                     `,lN=`  
  
        
        
        
        

        
   
       
       
     
         `;function cN({onComplete:e}){const[t,n]=b.useState([]),[r,s]=b.useState(0),[i,o]=b.useState(0),[a,l]=b.useState([]),u=b.useRef(null),[d,h]=b.useState({width:0,height:0}),[f,p]=b.useState(!1),[y,w]=b.useState(""),[x,g]=b.useState(""),[m,v]=b.useState(null),[_,S]=b.useState(!1);b.useState(()=>Math.random()<.33);const k=on(),C=window.innerWidth<768;b.useEffect(()=>{const D=()=>{if(u.current){const{width:E,height:T}=u.current.getBoundingClientRect();h({width:Math.floor(E/12),height:Math.floor(T/20)})}};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),b.useEffect(()=>{n((C?lN:aN).split(`
`))},[C]),b.useEffect(()=>{if(d.width===0||d.height===0)return;const D=[],E=d.width*2+d.height*2,F=1500/E;for(let U=0;U<d.width;U++)D.push("");for(let U=0;U<d.height;U++)D.push("");for(let U=0;U<d.width;U++)D.push("");for(let U=0;U<d.height;U++)D.push("");D[0]="",D[d.width-1]="",D[d.width+d.height-1]="",D[d.width*2+d.height-1]="";let Y=0;const X=setInterval(()=>{Y<E?(l(U=>[...U,D[Y]]),Y++,Y===E&&setTimeout(()=>p(!0),500)):clearInterval(X)},F);return()=>clearInterval(X)},[d]),b.useEffect(()=>{if(t.length===0||r>=t.length)return;const D=t[r];if(i>=D.length){setTimeout(()=>{s(T=>T+1),o(0)},100);return}const E=setTimeout(()=>{o(T=>T+1)},7);return()=>clearTimeout(E)},[t,r,i]),b.useEffect(()=>{r>=t.length&&t.length>0&&setTimeout(e,500)},[r,t.length,e]);const P=async D=>{D.preventDefault(),v(null),S(!0);try{const{data:E,error:T}=await R.auth.signInWithPassword({email:y,password:x});if(T&&T.message.includes("Invalid login credentials")){const{data:F,error:Y}=await R.auth.signUp({email:y,password:x,options:{data:{has_applied:!1}}});if(Y)throw Y;if(F!=null&&F.user){const{error:X}=await R.from("profiles").insert([{id:F.user.id,email:F.user.email,credits:0}]);if(X)throw X}}else if(T)throw T}catch(E){console.error("Error:",E),v(E instanceof Error?E.message:"An unexpected error occurred")}finally{S(!1)}};return c.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full h-[95vh] max-w-[1000px] relative flex items-center justify-center",ref:u,children:[c.jsx("div",{onClick:()=>k("/retro2"),className:"absolute top-0 right-0 w-[30px] h-[30px] cursor-default z-50",style:{opacity:0}}),a.map((D,E)=>c.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.05},className:"absolute font-mono text-[#FFBF00] text-xl",style:{...uN(E,d),transform:"translate(-50%, -50%)"},children:D},E)),c.jsx(Vt,{children:f&&c.jsx(G.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-full max-w-[400px] p-8",children:c.jsxs("div",{className:"bg-black p-8",children:[c.jsx("div",{className:"flex items-center justify-center gap-3 mb-8",children:c.jsx("h1",{className:"text-base sm:text-xl font-mono text-[#FFBF00] whitespace-nowrap",children:"create / remember"})}),c.jsxs("form",{onSubmit:P,className:"space-y-6",children:[c.jsx("div",{className:"w-full",children:c.jsx("div",{className:"relative w-full",children:c.jsx("input",{type:"email",value:y,onChange:D=>w(D.target.value),className:"w-full min-w-[200px] bg-black text-[#FFBF00] border-2 border-[#FFBF00]/30 p-3 font-mono focus:outline-none focus:ring-2 focus:ring-[#FFBF00]/50 placeholder-[#FFBF00]/30",style:{clipPath:`polygon(
                              0 4px, 4px 4px, 4px 0,
                              calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                              100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                              calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                              0 calc(100% - 4px)
                            )`},placeholder:"email",required:!0,autoComplete:"off",spellCheck:"false"})})}),c.jsx("div",{className:"w-full",children:c.jsx("div",{className:"relative w-full",children:c.jsx("input",{type:"password",value:x,onChange:D=>g(D.target.value),className:"w-full min-w-[200px] bg-black text-[#FFBF00] border-2 border-[#FFBF00]/30 p-3 font-mono focus:outline-none focus:ring-2 focus:ring-[#FFBF00]/50 placeholder-[#FFBF00]/30",style:{clipPath:`polygon(
                              0 4px, 4px 4px, 4px 0,
                              calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                              100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                              calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                              0 calc(100% - 4px)
                            )`},placeholder:"password",required:!0})})}),m&&c.jsx("div",{className:"font-mono text-red-500 text-sm",children:m}),c.jsx("button",{type:"submit",disabled:_,className:"w-full bg-[#FFBF00] text-black p-3 font-mono hover:bg-[#FFBF00]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{clipPath:`polygon(
                          0 4px, 4px 4px, 4px 0,
                          calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                          100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                          calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                          0 calc(100% - 4px)
                        )`},children:_?"Processing...":"enter"})]})]})})})})]})})}function uN(e,t={width:0,height:0}){const{width:n,height:r}=t;return e<n?{left:`${e/n*100}%`,top:"0"}:e<n+r?{right:"0",top:`${(e-n)/r*100}%`}:e<n*2+r?{right:`${(e-(n+r))/n*100}%`,bottom:"0"}:{left:"0",bottom:`${(e-(n*2+r))/r*100}%`}}function dN(){return c.jsx(cN,{})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Z=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>b.createElement("svg",{ref:d,...hN,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${fN(e)}`,a].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=Z("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Z("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=Z("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Z("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Z("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=Z("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=Z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Z("ZapOff",[["polyline",{points:"12.41 6.75 13 2 10.57 4.92",key:"122m05"}],["polyline",{points:"18.57 12.91 21 10 15.66 10",key:"16r43o"}],["polyline",{points:"8 8 3 14 12 14 11 22 16 16",key:"tmh4bc"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function ON({status:e="pending"}){return c.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:c.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full bg-white rounded-2xl shadow-sm border border-stone-200 p-8",children:c.jsxs("div",{className:"flex flex-col items-center text-center space-y-6",children:[c.jsx(hx,{className:"w-12 h-12 text-emerald-900"}),c.jsx("h1",{className:"text-3xl font-display font-light text-stone-900",children:e==="pending"?"Application Pending":"Application Not Accepted"}),c.jsx("p",{className:"text-stone-600 leading-relaxed",children:e==="pending"?"Thank you for applying to The Garden. Your application is currently being reviewed. We'll notify you by email once a decision has been made.":"Unfortunately, your application was not accepted at this time. We appreciate your interest in The Garden and wish you the best in your journey."}),c.jsx("button",{onClick:()=>R.auth.signOut(),className:"w-full bg-emerald-900 text-white py-3 px-6 rounded-lg hover:bg-emerald-800 transition-colors",children:"Sign Out"})]})})})}function H(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function nt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ne(e,t){const n=H(e);return isNaN(t)?nt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function We(e,t){const n=H(e);if(isNaN(t))return nt(e,NaN);if(!t)return n;const r=n.getDate(),s=nt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function AN(e,t){const n=+H(e);return nt(e,n+t)}const lh=6048e5,RN=864e5,px=6e4,ch=36e5;function mx(e,t){return AN(e,t*ch)}let LN={};function ys(){return LN}function Be(e,t){var a,l,u,d;const n=ys(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=H(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function fr(e){return Be(e,{weekStartsOn:1})}function gx(e){const t=H(e),n=t.getFullYear(),r=nt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=fr(r),i=nt(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=fr(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function ls(e){const t=H(e);return t.setHours(0,0,0,0),t}function xa(e){const t=H(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Lt(e,t){const n=ls(e),r=ls(t),s=+n-xa(n),i=+r-xa(r);return Math.round((s-i)/RN)}function FN(e){const t=gx(e),n=nt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),fr(n)}function wa(e,t){const n=t*7;return ne(e,n)}function IN(e,t){return We(e,t*12)}function $N(e){let t;return e.forEach(function(n){const r=H(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function BN(e){let t;return e.forEach(n=>{const r=H(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Je(e,t){const n=ls(e),r=ls(t);return+n==+r}function uh(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function VN(e){if(!uh(e)&&typeof e!="number")return!1;const t=H(e);return!isNaN(Number(t))}function Ci(e,t){const n=H(e),r=H(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function UN(e,t,n){const r=Be(e,n),s=Be(t,n),i=+r-xa(r),o=+s-xa(s);return Math.round((i-o)/lh)}function dh(e){const t=H(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function xm(e,t){const n=H(e.start),r=H(e.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let a=1;const l=[];for(;+o<=i;)l.push(H(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return s?l.reverse():l}function He(e){const t=H(e);return t.setDate(1),t.setHours(0,0,0,0),t}function vx(e){const t=H(e),n=nt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function tl(e,t){var a,l,u,d;const n=ys(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=H(e),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function yx(e){return tl(e,{weekStartsOn:1})}const WN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zN=(e,t,n)=>{let r;const s=WN[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ql(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const HN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GN={date:ql({formats:HN,defaultWidth:"full"}),time:ql({formats:YN,defaultWidth:"full"}),dateTime:ql({formats:KN,defaultWidth:"full"})},qN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QN=(e,t,n,r)=>qN[e];function Ts(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const XN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rE=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sE={ordinalNumber:rE,era:Ts({values:XN,defaultWidth:"wide"}),quarter:Ts({values:JN,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ts({values:ZN,defaultWidth:"wide"}),day:Ts({values:eE,defaultWidth:"wide"}),dayPeriod:Ts({values:tE,defaultWidth:"wide",formattingValues:nE,defaultFormattingWidth:"wide"})};function Ms(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?oE(a,h=>h.test(o)):iE(a,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function iE(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function oE(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function aE(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const lE=/^(\d+)(th|st|nd|rd)?/i,cE=/\d+/i,uE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dE={any:[/^b/i,/^(a|c)/i]},hE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fE={any:[/1/i,/2/i,/3/i,/4/i]},pE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wE={ordinalNumber:aE({matchPattern:lE,parsePattern:cE,valueCallback:e=>parseInt(e,10)}),era:Ms({matchPatterns:uE,defaultMatchWidth:"wide",parsePatterns:dE,defaultParseWidth:"any"}),quarter:Ms({matchPatterns:hE,defaultMatchWidth:"wide",parsePatterns:fE,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ms({matchPatterns:pE,defaultMatchWidth:"wide",parsePatterns:mE,defaultParseWidth:"any"}),day:Ms({matchPatterns:gE,defaultMatchWidth:"wide",parsePatterns:vE,defaultParseWidth:"any"}),dayPeriod:Ms({matchPatterns:yE,defaultMatchWidth:"any",parsePatterns:xE,defaultParseWidth:"any"})},xx={code:"en-US",formatDistance:zN,formatLong:GN,formatRelative:QN,localize:sE,match:wE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bE(e){const t=H(e);return Lt(t,vx(t))+1}function wx(e){const t=H(e),n=+fr(t)-+FN(t);return Math.round(n/lh)+1}function bx(e,t){var d,h,f,p;const n=H(e),r=n.getFullYear(),s=ys(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=nt(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Be(o,t),l=nt(e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Be(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function _E(e,t){var a,l,u,d;const n=ys(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=bx(e,t),i=nt(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Be(i,t)}function _x(e,t){const n=H(e),r=+Be(n,t)-+_E(n,t);return Math.round(r/lh)+1}function ee(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ln={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ee(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ee(n+1,2)},d(e,t){return ee(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ee(e.getHours()%12||12,t.length)},H(e,t){return ee(e.getHours(),t.length)},m(e,t){return ee(e.getMinutes(),t.length)},s(e,t){return ee(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ee(s,t.length)}},kr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wm={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ln.y(e,t)},Y:function(e,t,n,r){const s=bx(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return ee(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):ee(i,t.length)},R:function(e,t){const n=gx(e);return ee(n,t.length)},u:function(e,t){const n=e.getFullYear();return ee(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ee(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ee(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ln.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ee(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=_x(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ee(s,t.length)},I:function(e,t,n){const r=wx(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ee(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ln.d(e,t)},D:function(e,t,n){const r=bE(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ee(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ee(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ee(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ee(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=kr.noon:r===0?s=kr.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=kr.evening:r>=12?s=kr.afternoon:r>=4?s=kr.morning:s=kr.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ln.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ln.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ee(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ee(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ln.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ln.s(e,t)},S:function(e,t){return ln.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return _m(r);case"XXXX":case"XX":return Jn(r);case"XXXXX":case"XXX":default:return Jn(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return _m(r);case"xxxx":case"xx":return Jn(r);case"xxxxx":case"xxx":default:return Jn(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bm(r,":");case"OOOO":default:return"GMT"+Jn(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bm(r,":");case"zzzz":default:return"GMT"+Jn(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ee(r,t.length)},T:function(e,t,n){const r=e.getTime();return ee(r,t.length)}};function bm(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+ee(i,2)}function _m(e,t){return e%60===0?(e>0?"-":"+")+ee(Math.abs(e)/60,2):Jn(e,t)}function Jn(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ee(Math.trunc(r/60),2),i=ee(r%60,2);return n+s+t+i}const km=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kx=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},kE=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return km(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",km(r,t)).replace("{{time}}",kx(s,t))},SE={p:kx,P:kE},jE=/^D+$/,CE=/^Y+$/,PE=["D","DD","YY","YYYY"];function NE(e){return jE.test(e)}function EE(e){return CE.test(e)}function TE(e,t,n){const r=ME(e,t,n);if(console.warn(r),PE.includes(e))throw new RangeError(r)}function ME(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const DE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AE=/^'([^]*?)'?$/,RE=/''/g,LE=/[a-zA-Z]/;function z(e,t,n){var d,h,f,p,y,w,x,g;const r=ys(),s=(n==null?void 0:n.locale)??r.locale??xx,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((w=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((g=(x=r.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??0,a=H(e);if(!VN(a))throw new RangeError("Invalid time value");let l=t.match(OE).map(m=>{const v=m[0];if(v==="p"||v==="P"){const _=SE[v];return _(m,s.formatLong)}return m}).join("").match(DE).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const v=m[0];if(v==="'")return{isToken:!1,value:FE(m)};if(wm[v])return{isToken:!0,value:m};if(v.match(LE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(m=>{if(!m.isToken)return m.value;const v=m.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&EE(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&NE(v))&&TE(v,t,String(e));const _=wm[v[0]];return _(a,v,s.localize,u)}).join("")}function FE(e){const t=e.match(AE);return t?t[1].replace(RE,"'"):e}function IE(e){const t=H(e),n=t.getFullYear(),r=t.getMonth(),s=nt(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function $E(e){return Math.trunc(+H(e)/1e3)}function BE(e){const t=H(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function VE(e,t){return UN(BE(e),He(e),t)+1}function ba(e,t){const n=H(e),r=H(t);return n.getTime()>r.getTime()}function hh(e,t){const n=H(e),r=H(t);return+n<+r}function UE(e,t,n){var h,f;const r=ys(),s=r.weekStartsOn??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,i=H(e),o=i.getDay(),l=(t%7+7)%7,u=7-s,d=(l+u)%7-(o+u)%7;return ne(i,d)}function Sr(e,t,n){const r=Be(e,n),s=Be(t,n);return+r==+s}function fh(e,t){const n=H(e),r=H(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function WE(e,t){const n=H(e),r=H(t);return n.getFullYear()===r.getFullYear()}function Sm(e,t){const n=+H(e),[r,s]=[+H(t.start),+H(t.end)].sort((i,o)=>i-o);return n>=r&&n<=s}function Ql(e,t){return ne(e,-t)}function Ur(e,t){const r=KE(e);let s;if(r.date){const l=GE(r.date,2);s=qE(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=QE(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=XE(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+a)}const mo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},zE=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,HE=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,YE=/^([+-])(\d{2})(?::?(\d{2}))?$/;function KE(e){const t={},n=e.split(mo.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],mo.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mo.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=mo.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function GE(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function qE(e,t){if(t===null)return new Date(NaN);const n=e.match(zE);if(!n)return new Date(NaN);const r=!!n[4],s=Ds(n[1]),i=Ds(n[2])-1,o=Ds(n[3]),a=Ds(n[4]),l=Ds(n[5])-1;if(r)return nT(t,a,l)?JE(t,a,l):new Date(NaN);{const u=new Date(0);return!eT(t,i,o)||!tT(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Ds(e){return e?parseInt(e):1}function QE(e){const t=e.match(HE);if(!t)return NaN;const n=Xl(t[1]),r=Xl(t[2]),s=Xl(t[3]);return rT(n,r,s)?n*ch+r*px+s*1e3:NaN}function Xl(e){return e&&parseFloat(e.replace(",","."))||0}function XE(e){if(e==="Z")return 0;const t=e.match(YE);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return sT(r,s)?n*(r*ch+s*px):NaN}function JE(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const ZE=[31,null,31,30,31,30,31,31,30,31,30,31];function Sx(e){return e%400===0||e%4===0&&e%100!==0}function eT(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(ZE[t]||(Sx(e)?29:28))}function tT(e,t){return t>=1&&t<=(Sx(e)?366:365)}function nT(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function rT(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function sT(e,t){return t>=0&&t<=59}function Jl(e,t){const n=H(e),r=n.getFullYear(),s=n.getDate(),i=nt(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=IE(i);return n.setMonth(t,Math.min(s,o)),n}function jm(e,t){const n=H(e);return isNaN(+n)?nt(e,NaN):(n.setFullYear(t),n)}async function Cm(e,t,n,r,s){const{data:{user:i}}=await R.auth.getUser();if(!i)throw new Error("User not authenticated");try{const{data:o,error:a}=await R.from("accommodations").select(`
        *,
        parent:parent_accommodation_id (
          id,
          title,
          inventory_count,
          is_fungible,
          is_unlimited
        )
      `).eq("id",e).single();if(a)throw a;if(!o)throw new Error("Accommodation not found");if(s){const{data:l,error:u}=await R.rpc("create_manual_booking",{p_accommodation_id:e,p_check_in:t.toISOString(),p_check_out:n.toISOString(),p_email:i.email,p_total_price:r});if(u)throw u;return l}}catch(o){throw console.error("Error creating booking:",o),o}}async function iT(){try{const{data:{user:e}}=await R.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:n}=await R.from("booking_details").select("*").eq("user_id",e.id).order("check_in",{ascending:!1});if(n)throw n;return t}catch(e){throw console.error("Error fetching user bookings:",e),e}}function Ii(){const[e,t]=b.useState(null);return b.useEffect(()=>{R.auth.getSession().then(({data:{session:r}})=>{t(r)});const{data:{subscription:n}}=R.auth.onAuthStateChange((r,s)=>{t(s)});return()=>n.unsubscribe()},[]),e}function oT(){var l;const[e,t]=I.useState([]),[n,r]=I.useState(!0),[s,i]=I.useState(null),o=Ii();I.useEffect(()=>{a()},[]);const a=async()=>{try{r(!0);const u=await iT();t(u||[])}catch(u){console.error("Error loading bookings:",u),i(u instanceof Error?u.message:"Failed to load bookings")}finally{r(!1)}};return n?c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900"})})}):s?c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:c.jsx("div",{className:"bg-rose-50 text-rose-600 p-4 rounded-lg",children:s})}):c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[c.jsx("div",{className:"flex justify-between items-start mb-8",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-display font-light text-stone-900 mb-2",children:"My Account"}),c.jsx("div",{className:"text-stone-600",children:c.jsx("p",{children:(l=o==null?void 0:o.user)==null?void 0:l.email})})]})}),e.length===0?c.jsx("div",{className:"text-center text-stone-600",children:"No bookings found. Book your first stay!"}):c.jsx("div",{className:"space-y-6",children:e.map(u=>{var d,h,f,p,y;return c.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-xl shadow-sm border border-stone-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-display font-light mb-2",children:((d=u.accommodations)==null?void 0:d.title)||u.accommodation_title||"Accommodation"}),c.jsx("p",{className:"text-stone-600 mb-4",children:((h=u.accommodations)==null?void 0:h.location)||u.accommodation_location||"The Garden"}),c.jsxs("div",{className:"space-y-1 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"text-stone-500",children:"Check-in:"})," ",z(new Date(u.check_in),"PPP")]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-stone-500",children:"Check-out:"})," ",z(new Date(u.check_out),"PPP")]}),c.jsxs("p",{children:[c.jsx("span",{className:"text-stone-500",children:"Total Price:"})," ","",u.total_price]}),c.jsxs("a",{href:"https://gardening.notion.site/Welcome-to-The-Garden-2684f446b48e4b43b3f003d7fca33664?pvs=4",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-emerald-600 hover:text-emerald-700 transition-colors mt-2",children:["Welcome Guide",c.jsx(ux,{className:"w-3 h-3"})]})]})]}),(((f=u.accommodations)==null?void 0:f.image_url)||u.accommodation_image)&&c.jsx("img",{src:((p=u.accommodations)==null?void 0:p.image_url)||u.accommodation_image,alt:((y=u.accommodations)==null?void 0:y.title)||u.accommodation_title,className:"w-32 h-32 object-cover rounded-lg"})]})},u.id)})})]})}function jx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=jx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pi(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=jx(e))&&(r&&(r+=" "),r+=t);return r}function aT({week:e,weekStart:t,weekEnd:n,index:r,isSelected:s,isConsecutive:i,isEdge:o,isFirstSelected:a,isSelectable:l,onClick:u,selectedWeeksCount:d=0}){return c.jsxs(G.button,{onClick:u,className:Pi("relative p-4 bg-white border-2 transition-all duration-300","aspect-[1.5] shadow-sm hover:shadow-md","pixel-corners",s&&"border-emerald-600 shadow-lg",!s&&i&&"border-emerald-600/20",!s&&!i&&"border-stone-200",!l&&"opacity-50 cursor-not-allowed"),whileHover:l?{scale:1.02}:void 0,whileTap:l?{scale:.98}:void 0,children:[c.jsx("div",{className:"text-center flex flex-col justify-center h-full",children:s?o?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-2xl font-display mb-1",children:z(a?t:n,"MMM d")}),c.jsx("div",{className:"font-mono text-sm text-emerald-700 font-medium",children:a?d>1?"Arrival":` ${z(n,"MMM d")}`:"Departure"})]}):null:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-2xl font-display mb-1",children:z(t,"MMM d")}),c.jsxs("div",{className:"font-mono text-sm text-stone-500 flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:c.jsx("path",{d:"M4 12h16m0 0l-6-6m6 6l-6 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),c.jsx("span",{children:z(ne(t,6),"MMM d")})]})]})}),s&&!o&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"connecting-line left"}),c.jsx("div",{className:"connecting-line right"}),c.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",preserveAspectRatio:"none",viewBox:"0 0 100 30",children:c.jsx("path",{d:"M 0 15 Q 25 5, 50 15 T 100 15",className:"squiggle-path",stroke:"rgb(5, 150, 105)",strokeWidth:"2",fill:"none",vectorEffect:"non-scaling-stroke"})})]}),c.jsx("div",{className:Pi("absolute bottom-0 left-0 right-0 transition-all duration-300",s?"bg-emerald-600/40 h-1.5":"bg-stone-200/40")})]})}function lT({weeks:e,selectedWeeks:t,onToggleWeek:n,isConsecutiveWeek:r,isFirstOrLastSelected:s,currentMonth:i,isMobile:o=!1}){return c.jsx("div",{className:Pi("grid gap-4",o?"grid-cols-3":"grid-cols-4"),children:e.map(a=>{const l=t.some(h=>a.getTime()===h.getTime()),u=t.length>0&&a.getTime()===t[0].getTime();return c.jsx(aT,{week:a,weekStart:a,weekEnd:ne(a,6),index:e.indexOf(a),isSelected:l,isConsecutive:r(a),isEdge:s(a),isFirstSelected:u,isSelectable:!0,onClick:()=>n(a),selectedWeeksCount:t.length},a.toISOString())})})}function Cx(e){const t=e.getMonth();return e.getFullYear(),t<=4||t>=10?.4:t===5||t===9?.15:0}function cT(e){if(e<3)return 0;const t=.1,r=Math.min(e-3,7)*.015;return Math.min(t+r,.2)}function Px(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null),o=b.useCallback(async()=>{try{i(null);const{data:a,error:l}=await R.from("accommodations").select(`
          *,
          parent:parent_accommodation_id (
            id,
            title,
            inventory_count,
            is_unlimited,
            is_fungible
          )
        `).is("parent_accommodation_id",null).order("price",{ascending:!0});if(l)throw l;t(a||[])}catch(a){console.error("Error loading accommodations:",a),i(a instanceof Error?a:new Error("Failed to load accommodations"))}finally{r(!1)}},[]);return b.useEffect(()=>{o();const a=R.channel("accommodations_changes").on("postgres_changes",{event:"*",schema:"public",table:"accommodations"},()=>{o()}).subscribe();return()=>{a.unsubscribe()}},[o]),{accommodations:e,loading:n,error:s,refresh:o}}function uT(){const[e,t]=b.useState({}),[n,r]=b.useState(!1),[s,i]=b.useState(null),o=b.useCallback(async(a,l)=>{if(!(!a||!l))try{r(!0),i(null);const{data:u,error:d}=await R.from("accommodations").select(`
          *,
          parent:parent_accommodation_id (
            id,
            title,
            inventory_count,
            is_unlimited,
            is_fungible
          )
        `).is("parent_accommodation_id",null);if(d)throw d;const{data:h,error:f}=await R.from("bookings").select(`
          id,
          accommodation_id,
          check_in,
          check_out
        `).eq("status","confirmed").or(`check_in.lte.${l.toISOString()},check_out.gt.${a.toISOString()}`);if(f)throw f;const p={};u==null||u.forEach(y=>{if(y.is_unlimited){p[y.id]=999;return}if(y.is_fungible){let w=0;const x=new Date(a);for(;x<=l;){const g=(h==null?void 0:h.filter(m=>{const v=new Date(m.check_in),_=new Date(m.check_out);return m.accommodation_id===y.id&&x>=v&&x<_}).length)||0;w=Math.max(w,g),x.setDate(x.getDate()+1)}p[y.id]=Math.max(0,y.inventory_count-w)}else{const w=h==null?void 0:h.some(x=>{const g=new Date(x.check_in),m=new Date(x.check_out);return x.accommodation_id===y.id&&g<l&&m>a});p[y.id]=w?-1:1}}),t(p)}catch(u){console.error("Error checking availability:",u),i(u instanceof Error?u:new Error("Failed to check availability"))}finally{r(!1)}},[]);return{availabilityMap:e,loading:n,error:s,checkAvailability:o}}function ph(){const{accommodations:e,loading:t,error:n,refresh:r}=Px(),{availabilityMap:s,loading:i,error:o,checkAvailability:a}=uT(),[l,u]=b.useState(!0),[d,h]=b.useState(null),[f,p]=b.useState({});b.useEffect(()=>{u(t||i),h(n||o)},[t,i,n,o]);const y=b.useCallback(async(g,m)=>{if(!(!g||!m))try{const{data:v,error:_}=await R.from("bookings").select(`
          accommodation_id,
          check_in,
          check_out,
          accommodations!inner (
            id,
            parent_accommodation_id
          )
        `).eq("status","confirmed").or(`check_in.lte.${m.toISOString()},check_out.gt.${g.toISOString()}`);if(_)throw _;const S={};e.filter(k=>k.is_fungible&&!k.is_unlimited).forEach(k=>{S[k.id]={}}),v==null||v.forEach(k=>{const C=k.accommodations.parent_accommodation_id;C&&S[C]&&xm({start:new Date(k.check_in),end:new Date(k.check_out)}).forEach(D=>{const E=D.toISOString().split("T")[0];S[C][E]=(S[C][E]||0)+1})}),p(S),await a(g,ne(m,6))}catch(v){console.error("Error checking availability:",v),h(v instanceof Error?v:new Error("Failed to check availability"))}},[a,e]),w=b.useCallback((g,m,v)=>{const _=xm({start:m,end:v});let S=0;return _.forEach(k=>{var D;const C=k.toISOString().split("T")[0],P=((D=f[g])==null?void 0:D[C])||0;S=Math.max(S,P)}),S},[f]),x=b.useCallback(async(g,m,v)=>{if(!m||!v)return!1;try{if(g.is_unlimited)return!0;if(g.is_fungible&&!g.is_unlimited)return w(g.id,m,v)<g.inventory_count;const{data:_}=await R.from("bookings").select("*").eq("accommodation_id",g.id).eq("status","confirmed").or(`check_in.lte.${v.toISOString()},check_out.gt.${m.toISOString()}`);return!(_!=null&&_.length)}catch(_){return console.error("Error checking availability:",_),!1}},[w]);return{accommodations:e,loading:l,error:d,checkAvailability:y,availabilityMap:s,getMaxOccupancy:w,isAccommodationAvailable:x,refresh:r}}const dT={"6-Bed Dorm":'90200cm (3579") - Single',"3-Bed Dorm":'90200cm (3579") - Single',"A-Frame Pod":'140200cm (5579") - Double',"Microcabin Left":'140200cm (5579") - Double',"Microcabin Middle":'140200cm (5579") - Double',"Microcabin Right":'140200cm (5579") - Double',"Writer's Room":'135200cm (5379") - Double',"Valleyview Room":'160200cm (6379") - Queen',"The Hearth":'180200cm (7179") - King',"Master's Suite":'160200cm (6379") - Queen',"2.2 Meter Tipi":'90200cm (3579") - Single',"4 Meter Bell Tent":'140200cm (5579") - Double',"5m Bell Tent":'160200cm (6379") - Queen',"Your Own Tent":"Bring your own","Van Parking":"Bring your own","I'm staying with someone else / +1":"N/A"},hT=["Microcabin Left","Microcabin Middle","Microcabin Right","6-Bed Dorm","3-Bed Dorm","Writer's Room","Valleyview Room","The Hearth","Master's Suite"],fT=["Writer's Room","The Hearth","Valleyview Room","Master's Suite"];function pT({accommodations:e,selectedAccommodation:t,onSelectAccommodation:n,selectedWeeks:r,currentMonth:s}){const{checkAvailability:i,getMaxOccupancy:o,isAccommodationAvailable:a}=ph(),[l,u]=b.useState({}),d=y=>fT.includes(y),h=y=>hT.includes(y);b.useEffect(()=>{if(r.length>0){const y=r[0],w=r[r.length-1];i(y,w),f(y,w)}},[r,i]);const f=async(y,w)=>{const x={};for(const g of e)g.parent_accommodation_id||(x[g.id]=await a(g,y,w));u(x)},p=e.filter(y=>{if(y.parent_accommodation_id)return!1;const w=r.length>0?r[0]:new Date,x=w.getMonth(),g=w.getDate();return!(!((x>3||x===3&&g>=15)&&(x<8||x===8&&g<=1))&&(y.type==="Bell Tent"||y.type==="Tipi"||y.title==="Your Own Tent"))}).sort((y,w)=>y.price===0&&w.price!==0?1:y.price!==0&&w.price===0?-1:0);return c.jsxs("div",{className:"mt-0",children:[c.jsx("h2",{className:"text-2xl font-serif font-light text-stone-900 mb-6 text-center",children:"Select Your Accommodation"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(y=>{const w=r.length>0?r.reduce((_,S)=>_+Cx(S),0)/r.length:0,x=w>0,g=Math.round(y.price*(1-w));let m=y.inventory_count;if(y.is_fungible&&!y.is_unlimited&&r.length>0){const _=o(y.id,r[0],r[r.length-1]);m=y.inventory_count-_}const v=r.length===0?!1:l[y.id]??!0;return c.jsxs(G.button,{onClick:()=>v&&n(y.id),className:Pi("relative overflow-hidden transition-all duration-300",t===y.id?"border-2 border-emerald-600 shadow-lg transform -translate-y-1":"border-2 border-stone-200 hover:border-emerald-600/20",y.price===0&&"md:col-span-1 lg:col-span-1",!v&&r.length>0&&"opacity-50 cursor-not-allowed",r.length===0&&"opacity-50 cursor-not-allowed"),whileHover:v?{scale:1.02}:void 0,whileTap:v?{scale:.98}:void 0,children:[c.jsxs("div",{className:"aspect-[4/3] relative",children:[c.jsx("img",{src:y.image_url,alt:y.title,className:Pi("absolute inset-0 w-full h-full object-cover",!v&&r.length>0&&"grayscale")}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),y.type.includes("Dorm")&&r.length>0&&c.jsxs("div",{className:"absolute top-4 left-4 bg-black/80 text-white px-3 py-1 rounded-full text-sm",children:[m," ",m===1?"bed":"beds"," available"]}),c.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[d(y.title)?c.jsxs("div",{className:"group relative",children:[c.jsx(TN,{className:"w-5 h-5 text-white"}),c.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 p-2 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:"Dedicated 1000Mbps internet connection shared between seven guest house rooms"})]}):c.jsxs("div",{className:"group relative",children:[c.jsx(EN,{className:"w-5 h-5 text-white/70"}),c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-32 p-2 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:["No WiFi available",y.title==="A-Frame Pod"&&c.jsx("span",{className:"block mt-1",children:"Cabin being built nearby"})]})]}),h(y.title)?c.jsxs("div",{className:"group relative",children:[c.jsx(DN,{className:"w-5 h-5 text-white"}),c.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 p-2 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:"Electrical outlets available"})]}):c.jsxs("div",{className:"group relative",children:[c.jsx(MN,{className:"w-5 h-5 text-white/70"}),c.jsx("div",{className:"absolute right-0 top-full mt-2 w-32 p-2 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:"No electricity"})]}),c.jsxs("div",{className:"group relative",children:[c.jsx(lx,{className:"w-5 h-5 text-white"}),c.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 p-2 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:dT[y.title]})]}),y.title==="Master's Suite"&&c.jsxs("div",{className:"group relative",children:[c.jsx(pN,{className:"w-5 h-5 text-white"}),c.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 p-2 bg-black/90 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:"Ensuite bathroom (needs remodeling, price adjusted)"})]})]}),r.length===0?c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:c.jsx("p",{className:"text-white font-display text-xl",children:"Select Dates"})}):!v&&c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:c.jsx("p",{className:"text-white font-display text-xl",children:"Not Available"})})]}),c.jsxs("div",{className:"p-4 bg-white",children:[c.jsx("h3",{className:"text-xl font-serif",children:y.title}),c.jsx("div",{className:"mt-2",children:y.price===0?c.jsx("p",{className:"text-emerald-700 font-medium",children:"Free"}):x?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-emerald-700 font-medium",children:["",g,"/week",c.jsx("span",{className:"text-stone-400 text-sm ml-2",children:""}),c.jsxs("span",{className:"text-stone-400 line-through text-sm ml-2",children:["",y.price]})]}),c.jsx("p",{className:"text-sm text-emerald-600 mt-1",children:"Slower season rate"})]}):c.jsxs("p",{className:"text-stone-600",children:["",y.price," per week"]})})]})]},y.id)})})]})}function mT(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{o();const d=R.channel("scheduling_rules_changes").on("postgres_changes",{event:"*",schema:"public",table:"scheduling_rules"},()=>{o()}).subscribe();return()=>{d.unsubscribe()}},[]);const o=async()=>{try{r(!0);const{data:d,error:h}=await R.from("scheduling_rules").select("*").order("start_date",{ascending:!0});if(h)throw h;t(d||[])}catch(d){console.error("Error loading scheduling rules:",d),i(d instanceof Error?d:new Error("Failed to load scheduling rules"))}finally{r(!1)}},a=d=>{var f;const h=e.find(p=>Sm(d,{start:Ur(p.start_date),end:Ur(p.end_date)}));return h?!!(h.is_blocked||(f=h.blocked_dates)!=null&&f.includes(z(d,"yyyy-MM-dd"))):!1};return{rules:e,loading:n,error:s,isDateBlocked:a,getArrivalDepartureForDate:d=>{const h=e.find(f=>Sm(d,{start:Ur(f.start_date),end:Ur(f.end_date)}));return{arrival:(h==null?void 0:h.arrival_day)||"tuesday",departure:(h==null?void 0:h.departure_day)||"monday"}},isWeekAvailable:d=>!a(d),refresh:o}}var Nx="https://js.stripe.com/v3",gT=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Pm="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",vT=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Nx,'"]')),n=0;n<t.length;n++){var r=t[n];if(gT.test(r.src))return r}return null},Nm=function(t){var n="",r=document.createElement("script");r.src="".concat(Nx).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},yT=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:n})},Os=null,go=null,vo=null,xT=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},wT=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},bT=function(t){return Os!==null?Os:(Os=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(Pm),window.Stripe){n(window.Stripe);return}try{var s=vT();if(s&&t)console.warn(Pm);else if(!s)s=Nm(t);else if(s&&vo!==null&&go!==null){var i;s.removeEventListener("load",vo),s.removeEventListener("error",go),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=Nm(t)}vo=wT(n,r),go=xT(r),s.addEventListener("load",vo),s.addEventListener("error",go)}catch(o){r(o);return}}),Os.catch(function(n){return Os=null,Promise.reject(n)}))},_T=function(t,n,r){if(t===null)return null;var s=t.apply(void 0,n);return yT(s,r),s},As,Ex=!1,Tx=function(){return As||(As=bT(null).catch(function(t){return As=null,Promise.reject(t)}),As)};Promise.resolve().then(function(){return Tx()}).catch(function(e){Ex||console.warn(e)});var Mx=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ex=!0;var s=Date.now();return Tx().then(function(i){return _T(i,n,s)})},Dx={exports:{}},kT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ST=kT,jT=ST;function Ox(){}function Ax(){}Ax.resetWarningCache=Ox;var CT=function(){function e(r,s,i,o,a,l){if(l!==jT){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ax,resetWarningCache:Ox};return n.PropTypes=n,n};Dx.exports=CT();var PT=Dx.exports;const de=Um(PT);function Em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Em(Object(n),!0).forEach(function(r){Rx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lo(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lo=function(t){return typeof t}:Lo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function Rx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lx(e,t){return NT(e)||ET(e,t)||TT(e,t)||MT()}function NT(e){if(Array.isArray(e))return e}function ET(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,o,a;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));s=!0);}catch(l){i=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw a}}return r}}function TT(e,t){if(e){if(typeof e=="string")return Mm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mm(e,t)}}function Mm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rt=function(t,n,r){var s=!!r,i=I.useRef(r);I.useEffect(function(){i.current=r},[r]),I.useEffect(function(){if(!s||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(n,o),function(){t.off(n,o)}},[s,n,t,i])},_u=function(t){var n=I.useRef(t);return I.useEffect(function(){n.current=t},[t]),n.current},cs=function(t){return t!==null&&Lo(t)==="object"},DT=function(t){return cs(t)&&typeof t.then=="function"},OT=function(t){return cs(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Dm="[object Object]",AT=function e(t,n){if(!cs(t)||!cs(n))return t===n;var r=Array.isArray(t),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(t)===Dm,o=Object.prototype.toString.call(n)===Dm;if(i!==o)return!1;if(!i&&!r)return t===n;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},d=0;d<a.length;d+=1)u[a[d]]=!0;for(var h=0;h<l.length;h+=1)u[l[h]]=!0;var f=Object.keys(u);if(f.length!==a.length)return!1;var p=t,y=n,w=function(g){return e(p[g],y[g])};return f.every(w)},RT=function(t,n,r){return cs(t)?Object.keys(t).reduce(function(s,i){var o=!cs(n)||!AT(t[i],n[i]);return r.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):o?Tm(Tm({},s||{}),{},Rx({},i,t[i])):s},null):null},Fx="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Om=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fx;if(t===null||OT(t))return t;throw new Error(n)},LT=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fx;if(DT(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return Om(s,n)})};var r=Om(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},FT=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.9.0"}),t.registerAppInfo({name:"react-stripe-js",version:"2.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},Ix=I.createContext(null);Ix.displayName="ElementsContext";var IT=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t};de.any,de.object;de.func.isRequired;var $x=I.createContext(null);$x.displayName="CheckoutSdkContext";var $T=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},BT=I.createContext(null);BT.displayName="CheckoutContext";de.any,de.shape({clientSecret:de.string.isRequired,elementsOptions:de.object}).isRequired;var Am=function(t){var n=I.useContext($x),r=I.useContext(Ix);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?$T(n,t):IT(r,t)},VT=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},_e=function(t,n){var r="".concat(VT(t),"Element"),s=function(l){var u=l.id,d=l.className,h=l.options,f=h===void 0?{}:h,p=l.onBlur,y=l.onFocus,w=l.onReady,x=l.onChange,g=l.onEscape,m=l.onClick,v=l.onLoadError,_=l.onLoaderStart,S=l.onNetworksChange,k=l.onConfirm,C=l.onCancel,P=l.onShippingAddressChange,D=l.onShippingRateChange,E=Am("mounts <".concat(r,">")),T="elements"in E?E.elements:null,F="checkoutSdk"in E?E.checkoutSdk:null,Y=I.useState(null),X=Lx(Y,2),U=X[0],Ee=X[1],M=I.useRef(null),j=I.useRef(null);rt(U,"blur",p),rt(U,"focus",y),rt(U,"escape",g),rt(U,"click",m),rt(U,"loaderror",v),rt(U,"loaderstart",_),rt(U,"networkschange",S),rt(U,"confirm",k),rt(U,"cancel",C),rt(U,"shippingaddresschange",P),rt(U,"shippingratechange",D),rt(U,"change",x);var O;w&&(t==="expressCheckout"?O=w:O=function(){w(U)}),rt(U,"ready",O),I.useLayoutEffect(function(){if(M.current===null&&j.current!==null&&(T||F)){var W=null;F?W=F.createElement(t,f):T&&(W=T.create(t,f)),M.current=W,Ee(W),W&&W.mount(j.current)}},[T,F,f]);var L=_u(f);return I.useEffect(function(){if(M.current){var W=RT(f,L,["paymentRequest"]);W&&"update"in M.current&&M.current.update(W)}},[f,L]),I.useLayoutEffect(function(){return function(){if(M.current&&typeof M.current.destroy=="function")try{M.current.destroy(),M.current=null}catch{}}},[]),I.createElement("div",{id:u,className:d,ref:j})},i=function(l){Am("mounts <".concat(r,">"));var u=l.id,d=l.className;return I.createElement("div",{id:u,className:d})},o=n?i:s;return o.propTypes={id:de.string,className:de.string,onChange:de.func,onBlur:de.func,onFocus:de.func,onReady:de.func,onEscape:de.func,onClick:de.func,onLoadError:de.func,onLoaderStart:de.func,onNetworksChange:de.func,onConfirm:de.func,onCancel:de.func,onShippingAddressChange:de.func,onShippingRateChange:de.func,options:de.object},o.displayName=r,o.__elementType=t,o},we=typeof window>"u",mh=I.createContext(null);mh.displayName="EmbeddedCheckoutProviderContext";var Bx=function(){var t=I.useContext(mh);if(!t)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return t},UT="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",WT=function(t){var n=t.stripe,r=t.options,s=t.children,i=I.useMemo(function(){return LT(n,UT)},[n]),o=I.useRef(null),a=I.useRef(null),l=I.useState({embeddedCheckout:null}),u=Lx(l,2),d=u[0],h=u[1];I.useEffect(function(){if(!(a.current||o.current)){var y=function(x){a.current||o.current||(a.current=x,o.current=a.current.initEmbeddedCheckout(r).then(function(g){h({embeddedCheckout:g})}))};i.tag==="async"&&!a.current&&(r.clientSecret||r.fetchClientSecret)?i.stripePromise.then(function(w){w&&y(w)}):i.tag==="sync"&&!a.current&&(r.clientSecret||r.fetchClientSecret)&&y(i.stripe)}},[i,r,d,a]),I.useEffect(function(){return function(){d.embeddedCheckout?(o.current=null,d.embeddedCheckout.destroy()):o.current&&o.current.then(function(){o.current=null,d.embeddedCheckout&&d.embeddedCheckout.destroy()})}},[d.embeddedCheckout]),I.useEffect(function(){FT(a)},[a]);var f=_u(n);I.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[f,n]);var p=_u(r);return I.useEffect(function(){if(p!=null){if(r==null){console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");return}r.clientSecret===void 0&&r.fetchClientSecret===void 0&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),p.clientSecret!=null&&r.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),p.fetchClientSecret!=null&&r.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),p.onComplete!=null&&r.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),p.onShippingDetailsChange!=null&&r.onShippingDetailsChange!==p.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),p.onLineItemsChange!=null&&r.onLineItemsChange!==p.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[p,r]),I.createElement(mh.Provider,{value:d},s)},zT=function(t){var n=t.id,r=t.className,s=Bx(),i=s.embeddedCheckout,o=I.useRef(!1),a=I.useRef(null);return I.useLayoutEffect(function(){return!o.current&&i&&a.current!==null&&(i.mount(a.current),o.current=!0),function(){if(o.current&&i)try{i.unmount(),o.current=!1}catch{}}},[i]),I.createElement("div",{ref:a,id:n,className:r})},HT=function(t){var n=t.id,r=t.className;return Bx(),I.createElement("div",{id:n,className:r})},YT=we?HT:zT;_e("auBankAccount",we);_e("card",we);_e("cardNumber",we);_e("cardExpiry",we);_e("cardCvc",we);_e("fpxBank",we);_e("iban",we);_e("idealBank",we);_e("p24Bank",we);_e("epsBank",we);_e("payment",we);_e("expressCheckout",we);_e("currencySelector",we);_e("paymentRequestButton",we);_e("linkAuthentication",we);_e("address",we);_e("shippingAddress",we);_e("paymentMethodMessaging",we);_e("affirmMessage",we);_e("afterpayClearpayMessage",we);const KT=Mx("pk_live_51KRJB4Gi5eXNGIkHhMGff7jQ8QGHbyk93UyQkK1IsjtYWFCYuLIKpJqiThkmhbHq5G0IhjoUvtfuFpD3Vo0xXMMK00ZoyckXfF");function Vx({total:e,authToken:t,description:n,onSuccess:r}){const i={fetchClientSecret:b.useCallback(()=>fetch("https://guquxpxxycfmmlqajdyw.supabase.co/functions/v1/stripe-webhook",{method:"POST",mode:"cors",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify({total:e,description:n})}).then(o=>o.json()).then(o=>{if(o.clientSecret)return o.clientSecret;throw new Error("Failed to create checkout session")}),[e,t,n]),onComplete:()=>{r&&r()}};return c.jsx("div",{id:"checkout",className:"w-full",children:c.jsx(WT,{stripe:KT,options:i,children:c.jsx(YT,{})})})}function GT({selectedWeeks:e,selectedAccommodation:t,baseRate:n,onClearWeeks:r,onClearAccommodation:s}){var W;const[i,o]=b.useState(!1),[a,l]=b.useState(null),[u,d]=b.useState(!1),[h,f]=b.useState(""),{getArrivalDepartureForDate:p}=mT(),{checkAvailability:y,availabilityMap:w}=ph(),x=on(),g=Ii(),m=((W=g==null?void 0:g.user)==null?void 0:W.email)==="andre@thegarden.pt";I.useEffect(()=>{R.auth.getSession().then(V=>{var je,Wn;const ae=(Wn=(je=V==null?void 0:V.data)==null?void 0:je.session)==null?void 0:Wn.access_token;ae&&ae!==""&&f(ae)})},[]);const v=async()=>{if(!t||e.length===0)return!1;const V=e[0],ae=ne(e[e.length-1],6);await y(V,ae);const je=w[t.id];return t.is_unlimited||(t.is_fungible?je>0:je!==-1)};if(e.length===0&&!t)return null;const _=e.length,S=(t==null?void 0:t.price)||0,k=e.length>0?e.reduce((V,ae)=>V+Cx(ae),0)/e.length:0,C=cT(_),P=S*(1-k),D=e.some(V=>{const ae=V.getMonth(),je=V.getFullYear();return ae===11&&je===2024})?190:n,E=D+Math.round(P),T=E*_,F=Math.round(T*C),Y=Math.round(T-F),X=async()=>{if(t){o(!0),l(null);try{const V=e[0],ae=ne(e[e.length-1],6);await Cm(t.id,V,ae,Y,!0),r(),s(),d(!1),x("/confirmation",{state:{booking:{checkIn:V,checkOut:ae,accommodation:t.title,totalPrice:Y,guests:1}}})}catch(V){l(V instanceof Error?V.message:"Failed to create booking")}finally{o(!1)}}},U=async()=>{l(null);try{if(!await v()){l("Selected accommodation is no longer available for these dates");return}d(!0)}catch(V){l(V instanceof Error?V.message:"Failed to validate availability")}},Ee=async()=>{if(t){o(!0),l(null);try{const V=e[0],ae=ne(e[e.length-1],6);await Cm(t.id,V,ae,Y,!0),r(),s(),x("/confirmation",{state:{booking:{checkIn:V,checkOut:ae,accommodation:t.title,totalPrice:Y,guests:1}}})}catch(V){l(V instanceof Error?V.message:"Failed to create booking")}finally{o(!1)}}},M=e[0],j=e[e.length-1],O=M?p(M):null,L=j?p(j):null;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"lg:sticky lg:z-50",style:{position:"-webkit-sticky",position:"sticky",top:"calc(4.5rem + 1px)",height:"fit-content",maxHeight:"calc(100vh - 4.5rem - 2rem)",overflowY:"auto"},children:c.jsxs("div",{className:"bg-white p-8 pixel-corners",children:[c.jsx("h2",{className:"text-2xl font-serif font-light text-stone-900 mb-4",children:"Summary of Stay"}),a&&c.jsxs("div",{className:"mb-4 p-3 bg-rose-50 text-rose-600 rounded-lg flex justify-between items-center",children:[c.jsx("span",{children:a}),c.jsx("button",{onClick:()=>l(null),children:c.jsx(at,{className:"w-4 h-4"})})]}),e.length>0&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"font-medium",children:[_," weeks"]}),c.jsx("button",{onClick:r,className:"text-stone-400 hover:text-stone-600",children:c.jsx(at,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"space-y-2 text-stone-600",children:[c.jsxs("div",{className:"text-lg font-serif",children:[z(M,"MMM d"),"  ",z(ne(j,6),"MMM d")]}),c.jsxs("div",{className:"text-sm",children:["Check-in ",(O==null?void 0:O.arrival.charAt(0).toUpperCase())+(O==null?void 0:O.arrival.slice(1))," 3-6PM"]}),c.jsxs("div",{className:"text-sm",children:["Check-out ",(L==null?void 0:L.departure.charAt(0).toUpperCase())+(L==null?void 0:L.departure.slice(1))," 12PM"]})]})]}),t&&c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("h3",{className:"font-medium",children:t.title}),c.jsx("button",{onClick:s,className:"text-stone-400 hover:text-stone-600",children:c.jsx(at,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"grid grid-cols-[1fr,auto,1fr] items-center gap-2 font-mono text-base",children:[c.jsxs("div",{className:"text-right",children:["",D]}),c.jsx("div",{className:"text-center text-stone-400",children:"+"}),c.jsx("div",{children:(t==null?void 0:t.price)===0?"Free":`${Math.round(P)}`}),c.jsx("div",{className:"text-right text-stone-500",children:"food & facilities"}),c.jsx("div",{}),c.jsx("div",{className:"text-stone-500",children:"accommodation"})]}),c.jsxs("div",{className:"border-t border-stone-200 pt-4",children:[c.jsxs("div",{className:"flex justify-between text-stone-600 mb-4",children:[c.jsxs("span",{children:["",E,"  ",_," weeks"]}),c.jsxs("span",{children:["",T]})]}),C>0&&c.jsxs("div",{className:"flex justify-between text-emerald-600 mb-4",children:[c.jsxs("span",{children:[Math.round(C*100),"% duration discount"]}),c.jsxs("span",{children:["-",F]})]}),c.jsxs("div",{className:"flex justify-between text-xl font-serif border-t border-stone-200 pt-4",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["",Y]})]})]}),c.jsx(G.button,{onClick:U,disabled:!t||i,className:"w-full bg-emerald-900 text-white py-3 rounded-lg hover:bg-emerald-800 transition-colors disabled:bg-stone-300 disabled:cursor-not-allowed font-serif text-lg pixel-corners",whileHover:{scale:1.02},whileTap:{scale:.98},children:i?"Processing...":"Confirm"}),m&&c.jsx(G.button,{onClick:Ee,disabled:!t||i,className:"w-full bg-rose-600 text-white py-3 rounded-lg hover:bg-rose-700 transition-colors disabled:bg-stone-300 disabled:cursor-not-allowed font-serif text-lg pixel-corners",whileHover:{scale:1.02},whileTap:{scale:.98},children:i?"Processing...":"Admin Confirm (No Payment)"})]})]})}),c.jsx(Vt,{children:u&&c.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60]",children:c.jsxs(G.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-lg max-w-xl w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-serif",children:"Complete Payment"}),c.jsx("button",{onClick:()=>d(!1),className:"text-stone-400 hover:text-stone-600",children:c.jsx(at,{className:"w-6 h-6"})})]}),h&&t&&c.jsx(Vx,{authToken:h,total:Y,description:`${t.title} for ${_} weeks`,onSuccess:X})]})})})]})}function qT({isOpen:e,onClose:t}){return c.jsx(Vt,{children:e&&c.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(G.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-serif",children:"Hold Your Horses!"}),c.jsx("button",{onClick:t,className:"text-stone-400 hover:text-stone-600",children:c.jsx(at,{className:"w-5 h-5"})})]}),c.jsx("p",{className:"text-stone-600 mb-6",children:"You may only spend 3 months at the Garden every 6 months. Give the rest of the world a chance "}),c.jsx("button",{onClick:t,className:"w-full bg-emerald-900 text-white py-2 transition-colors hover:bg-emerald-800",children:"Cool"})]})})})}var B=function(){return B=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},B.apply(this,arguments)};function QT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Ux(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function $i(e){return e.mode==="multiple"}function Bi(e){return e.mode==="range"}function nl(e){return e.mode==="single"}var XT={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function JT(e,t){return z(e,"LLLL y",t)}function ZT(e,t){return z(e,"d",t)}function e4(e,t){return z(e,"LLLL",t)}function t4(e){return"".concat(e)}function n4(e,t){return z(e,"cccccc",t)}function r4(e,t){return z(e,"yyyy",t)}var s4=Object.freeze({__proto__:null,formatCaption:JT,formatDay:ZT,formatMonthCaption:e4,formatWeekNumber:t4,formatWeekdayName:n4,formatYearCaption:r4}),i4=function(e,t,n){return z(e,"do MMMM (EEEE)",n)},o4=function(){return"Month: "},a4=function(){return"Go to next month"},l4=function(){return"Go to previous month"},c4=function(e,t){return z(e,"cccc",t)},u4=function(e){return"Week n. ".concat(e)},d4=function(){return"Year: "},h4=Object.freeze({__proto__:null,labelDay:i4,labelMonthDropdown:o4,labelNext:a4,labelPrevious:l4,labelWeekNumber:u4,labelWeekday:c4,labelYearDropdown:d4});function f4(){var e="buttons",t=XT,n=xx,r={},s={},i=1,o={},a=new Date;return{captionLayout:e,classNames:t,formatters:s4,labels:h4,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function p4(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=He(r):t&&(i=new Date(t,0,1)),s?o=dh(s):n&&(o=new Date(n,11,31)),{fromDate:i?ls(i):void 0,toDate:o?ls(o):void 0}}var Wx=b.createContext(void 0);function m4(e){var t,n=e.initialProps,r=f4(),s=p4(n),i=s.fromDate,o=s.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(nl(n)||$i(n)||Bi(n))&&(l=n.onSelect);var u=B(B(B({},r),n),{captionLayout:a,classNames:B(B({},r.classNames),n.classNames),components:B({},n.components),formatters:B(B({},r.formatters),n.formatters),fromDate:i,labels:B(B({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:B(B({},r.modifiers),n.modifiers),modifiersClassNames:B(B({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:B(B({},r.styles),n.styles),toDate:o});return c.jsx(Wx.Provider,{value:u,children:e.children})}function oe(){var e=b.useContext(Wx);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function zx(e){var t=oe(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return c.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function g4(e){return c.jsx("svg",B({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Hx(e){var t,n,r=e.onChange,s=e.value,i=e.children,o=e.caption,a=e.className,l=e.style,u=oe(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:g4;return c.jsxs("div",{className:a,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),c.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,c.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function v4(e){var t,n=oe(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return c.jsx(c.Fragment,{});if(!s)return c.jsx(c.Fragment,{});var h=[];if(WE(r,s))for(var f=He(r),p=r.getMonth();p<=s.getMonth();p++)h.push(Jl(f,p));else for(var f=He(new Date),p=0;p<=11;p++)h.push(Jl(f,p));var y=function(x){var g=Number(x.target.value),m=Jl(He(e.displayMonth),g);e.onChange(m)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Hx;return c.jsx(w,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:o}),children:h.map(function(x){return c.jsx("option",{value:x.getMonth(),children:a(x,{locale:o})},x.getMonth())})})}function y4(e){var t,n=e.displayMonth,r=oe(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!s)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});for(var p=s.getFullYear(),y=i.getFullYear(),w=p;w<=y;w++)f.push(jm(vx(new Date),w));var x=function(m){var v=jm(He(n),Number(m.target.value));e.onChange(v)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Hx;return c.jsx(g,{name:"years","aria-label":h(),className:l.dropdown_year,style:a.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(m){return c.jsx("option",{value:m.getFullYear(),children:d(m,{locale:o})},m.getFullYear())})})}function x4(e,t){var n=b.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function w4(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,o=e.fromDate,a=e.numberOfMonths,l=a===void 0?1:a;if(i&&Ci(i,s)<0){var u=-1*(l-1);s=We(i,u)}return o&&Ci(s,o)<0&&(s=o),He(s)}function b4(){var e=oe(),t=w4(e),n=x4(t,e.month),r=n[0],s=n[1],i=function(o){var a;if(!e.disableNavigation){var l=He(o);s(l),(a=e.onMonthChange)===null||a===void 0||a.call(e,l)}};return[r,i]}function _4(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=He(e),i=He(We(s,r)),o=Ci(i,s),a=[],l=0;l<o;l++){var u=We(s,l);a.push(u)}return n&&(a=a.reverse()),a}function k4(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=He(e);if(!n)return We(a,o);var l=Ci(n,e);if(!(l<i))return We(a,o)}}function S4(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=He(e);if(!n)return We(a,-o);var l=Ci(a,n);if(!(l<=0))return We(a,-o)}}var Yx=b.createContext(void 0);function j4(e){var t=oe(),n=b4(),r=n[0],s=n[1],i=_4(r,t),o=k4(r,t),a=S4(r,t),l=function(h){return i.some(function(f){return fh(h,f)})},u=function(h,f){l(h)||(f&&hh(h,f)?s(We(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:a,nextMonth:o,isDateDisplayed:l};return c.jsx(Yx.Provider,{value:d,children:e.children})}function Vi(){var e=b.useContext(Yx);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Rm(e){var t,n=oe(),r=n.classNames,s=n.styles,i=n.components,o=Vi().goToMonth,a=function(d){o(We(d,e.displayIndex?-e.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:zx,u=c.jsx(l,{id:e.id,displayMonth:e.displayMonth});return c.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[c.jsx("div",{className:r.vhidden,children:u}),c.jsx(v4,{onChange:a,displayMonth:e.displayMonth}),c.jsx(y4,{onChange:a,displayMonth:e.displayMonth})]})}function C4(e){return c.jsx("svg",B({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function P4(e){return c.jsx("svg",B({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var _a=b.forwardRef(function(e,t){var n=oe(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),a=B(B({},s.button_reset),s.button);return e.style&&Object.assign(a,e.style),c.jsx("button",B({},e,{ref:t,type:"button",className:o,style:a}))});function N4(e){var t,n,r=oe(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,u=l.labelPrevious,d=l.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return c.jsx(c.Fragment,{});var f=u(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),y=d(e.nextMonth,{locale:i}),w=[o.nav_button,o.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:P4,g=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:C4;return c.jsxs("div",{className:o.nav,style:a.nav,children:[!e.hidePrevious&&c.jsx(_a,{name:"previous-month","aria-label":f,className:p,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?c.jsx(x,{className:o.nav_icon,style:a.nav_icon}):c.jsx(g,{className:o.nav_icon,style:a.nav_icon})}),!e.hideNext&&c.jsx(_a,{name:"next-month","aria-label":y,className:w,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?c.jsx(g,{className:o.nav_icon,style:a.nav_icon}):c.jsx(x,{className:o.nav_icon,style:a.nav_icon})})]})}function Lm(e){var t=oe().numberOfMonths,n=Vi(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(y){return fh(e.displayMonth,y)}),l=a===0,u=a===o.length-1,d=t>1&&(l||!u),h=t>1&&(u||!l),f=function(){r&&i(r)},p=function(){s&&i(s)};return c.jsx(N4,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:f,onNextClick:p})}function E4(e){var t,n=oe(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:zx,u;return s?u=c.jsx(l,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=c.jsx(Rm,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(Rm,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),c.jsx(Lm,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c.jsx(Lm,{displayMonth:e.displayMonth,id:e.id})]}),c.jsx("div",{className:r.caption,style:i.caption,children:u})}function T4(e){var t=oe(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?c.jsx("tfoot",{className:s,style:r.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:n})})}):c.jsx(c.Fragment,{})}function M4(e,t,n){for(var r=n?fr(new Date):Be(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=ne(r,i);s.push(o)}return s}function D4(){var e=oe(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,a=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,u=M4(s,i,o);return c.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&c.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return c.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":l(d,{locale:s}),children:a(d,{locale:s})},h)})]})}function O4(){var e,t=oe(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:D4;return c.jsx("thead",{style:r.head,className:n.head,children:c.jsx(i,{})})}function A4(e){var t=oe(),n=t.locale,r=t.formatters.formatDay;return c.jsx(c.Fragment,{children:r(e.date,{locale:n})})}var gh=b.createContext(void 0);function R4(e){if(!$i(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return c.jsx(gh.Provider,{value:t,children:e.children})}return c.jsx(L4,{initialProps:e.initialProps,children:e.children})}function L4(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,o=function(u,d,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var w=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!w){var x=r?Ux([],r):[];if(d.selected){var g=x.findIndex(function(m){return Je(u,m)});x.splice(g,1)}else x.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,x,u,d,h)}}},a={disabled:[]};r&&a.disabled.push(function(u){var d=i&&r.length>i-1,h=r.some(function(f){return Je(f,u)});return!!(d&&!h)});var l={selected:r,onDayClick:o,modifiers:a};return c.jsx(gh.Provider,{value:l,children:n})}function vh(){var e=b.useContext(gh);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function F4(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Je(s,e)&&Je(r,e)?void 0:Je(s,e)?{from:s,to:void 0}:Je(r,e)?void 0:ba(r,e)?{from:e,to:s}:{from:r,to:e}:s?ba(e,s)?{from:s,to:e}:{from:e,to:s}:r?hh(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var yh=b.createContext(void 0);function I4(e){if(!Bi(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(yh.Provider,{value:t,children:e.children})}return c.jsx($4,{initialProps:e.initialProps,children:e.children})}function $4(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,o=s.to,a=t.min,l=t.max,u=function(p,y,w){var x,g;(x=t.onDayClick)===null||x===void 0||x.call(t,p,y,w);var m=F4(p,r);(g=t.onSelect)===null||g===void 0||g.call(t,m,p,y,w)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Je(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),a&&(i&&!o&&d.disabled.push({after:Ql(i,a-1),before:ne(i,a-1)}),i&&o&&d.disabled.push({after:i,before:ne(i,a-1)}),!i&&o&&d.disabled.push({after:Ql(o,a-1),before:ne(o,a-1)})),l){if(i&&!o&&(d.disabled.push({before:ne(i,-l+1)}),d.disabled.push({after:ne(i,l-1)})),i&&o){var h=Lt(o,i)+1,f=l-h;d.disabled.push({before:Ql(i,f)}),d.disabled.push({after:ne(o,f)})}!i&&o&&(d.disabled.push({before:ne(o,-l+1)}),d.disabled.push({after:ne(o,l-1)}))}return c.jsx(yh.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function xh(){var e=b.useContext(yh);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Fo(e){return Array.isArray(e)?Ux([],e):e!==void 0?[e]:[]}function B4(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=Fo(s)}),t}var Dt;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Dt||(Dt={}));var V4=Dt.Selected,Ut=Dt.Disabled,U4=Dt.Hidden,W4=Dt.Today,Zl=Dt.RangeEnd,ec=Dt.RangeMiddle,tc=Dt.RangeStart,z4=Dt.Outside;function H4(e,t,n){var r,s=(r={},r[V4]=Fo(e.selected),r[Ut]=Fo(e.disabled),r[U4]=Fo(e.hidden),r[W4]=[e.today],r[Zl]=[],r[ec]=[],r[tc]=[],r[z4]=[],r);return e.fromDate&&s[Ut].push({before:e.fromDate}),e.toDate&&s[Ut].push({after:e.toDate}),$i(e)?s[Ut]=s[Ut].concat(t.modifiers[Ut]):Bi(e)&&(s[Ut]=s[Ut].concat(n.modifiers[Ut]),s[tc]=n.modifiers[tc],s[ec]=n.modifiers[ec],s[Zl]=n.modifiers[Zl]),s}var Kx=b.createContext(void 0);function Y4(e){var t=oe(),n=vh(),r=xh(),s=H4(t,n,r),i=B4(t.modifiers),o=B(B({},s),i);return c.jsx(Kx.Provider,{value:o,children:e.children})}function Gx(){var e=b.useContext(Kx);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function K4(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function G4(e){return!!(e&&typeof e=="object"&&"from"in e)}function q4(e){return!!(e&&typeof e=="object"&&"after"in e)}function Q4(e){return!!(e&&typeof e=="object"&&"before"in e)}function X4(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function J4(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=Lt(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=Lt(e,r)>=0&&Lt(s,e)>=0;return o}return s?Je(s,e):r?Je(r,e):!1}function Z4(e){return uh(e)}function eM(e){return Array.isArray(e)&&e.every(uh)}function tM(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Z4(n))return Je(e,n);if(eM(n))return n.includes(e);if(G4(n))return J4(e,n);if(X4(n))return n.dayOfWeek.includes(e.getDay());if(K4(n)){var r=Lt(n.before,e),s=Lt(n.after,e),i=r>0,o=s<0,a=ba(n.before,n.after);return a?o&&i:i||o}return q4(n)?Lt(e,n.after)>0:Q4(n)?Lt(n.before,e)>0:typeof n=="function"?n(e):!1})}function wh(e,t,n){var r=Object.keys(t).reduce(function(i,o){var a=t[o];return tM(e,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!fh(e,n)&&(s.outside=!0),s}function nM(e,t){for(var n=He(e[0]),r=dh(e[e.length-1]),s,i,o=n;o<=r;){var a=wh(o,t),l=!a.disabled&&!a.hidden;if(!l){o=ne(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=ne(o,1)}return i||s}var rM=365;function qx(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,o=t.retry,a=o===void 0?{count:0,lastFocused:e}:o,l=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:ne,week:wa,month:We,year:IN,startOfWeek:function(x){return s.ISOWeek?fr(x):Be(x,{locale:h,weekStartsOn:l})},endOfWeek:function(x){return s.ISOWeek?yx(x):tl(x,{locale:h,weekStartsOn:l})}},p=f[n](e,r==="after"?1:-1);r==="before"&&u?p=$N([u,p]):r==="after"&&d&&(p=BN([d,p]));var y=!0;if(i){var w=wh(p,i);y=!w.disabled&&!w.hidden}return y?p:a.count>rM?a.lastFocused:qx(p,{moveBy:n,direction:r,context:s,modifiers:i,retry:B(B({},a),{count:a.count+1})})}var Qx=b.createContext(void 0);function sM(e){var t=Vi(),n=Gx(),r=b.useState(),s=r[0],i=r[1],o=b.useState(),a=o[0],l=o[1],u=nM(t.displayMonths,n),d=s??(a&&t.isDateDisplayed(a))?a:u,h=function(){l(s),i(void 0)},f=function(x){i(x)},p=oe(),y=function(x,g){if(s){var m=qx(s,{moveBy:x,direction:g,context:p,modifiers:n});Je(s,m)||(t.goToDate(m,s),f(m))}},w={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return c.jsx(Qx.Provider,{value:w,children:e.children})}function bh(){var e=b.useContext(Qx);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function iM(e,t){var n=Gx(),r=wh(e,n,t);return r}var _h=b.createContext(void 0);function oM(e){if(!nl(e.initialProps)){var t={selected:void 0};return c.jsx(_h.Provider,{value:t,children:e.children})}return c.jsx(aM,{initialProps:e.initialProps,children:e.children})}function aM(e){var t=e.initialProps,n=e.children,r=function(i,o,a){var l,u,d;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,o,a),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,a);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,a)},s={selected:t.selected,onDayClick:r};return c.jsx(_h.Provider,{value:s,children:n})}function Xx(){var e=b.useContext(_h);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function lM(e,t){var n=oe(),r=Xx(),s=vh(),i=xh(),o=bh(),a=o.focusDayAfter,l=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,p=o.focusMonthBefore,y=o.focusMonthAfter,w=o.focusYearBefore,x=o.focusYearAfter,g=o.focusStartOfWeek,m=o.focusEndOfWeek,v=function(M){var j,O,L,W;nl(n)?(j=r.onDayClick)===null||j===void 0||j.call(r,e,t,M):$i(n)?(O=s.onDayClick)===null||O===void 0||O.call(s,e,t,M):Bi(n)?(L=i.onDayClick)===null||L===void 0||L.call(i,e,t,M):(W=n.onDayClick)===null||W===void 0||W.call(n,e,t,M)},_=function(M){var j;f(e),(j=n.onDayFocus)===null||j===void 0||j.call(n,e,t,M)},S=function(M){var j;h(),(j=n.onDayBlur)===null||j===void 0||j.call(n,e,t,M)},k=function(M){var j;(j=n.onDayMouseEnter)===null||j===void 0||j.call(n,e,t,M)},C=function(M){var j;(j=n.onDayMouseLeave)===null||j===void 0||j.call(n,e,t,M)},P=function(M){var j;(j=n.onDayPointerEnter)===null||j===void 0||j.call(n,e,t,M)},D=function(M){var j;(j=n.onDayPointerLeave)===null||j===void 0||j.call(n,e,t,M)},E=function(M){var j;(j=n.onDayTouchCancel)===null||j===void 0||j.call(n,e,t,M)},T=function(M){var j;(j=n.onDayTouchEnd)===null||j===void 0||j.call(n,e,t,M)},F=function(M){var j;(j=n.onDayTouchMove)===null||j===void 0||j.call(n,e,t,M)},Y=function(M){var j;(j=n.onDayTouchStart)===null||j===void 0||j.call(n,e,t,M)},X=function(M){var j;(j=n.onDayKeyUp)===null||j===void 0||j.call(n,e,t,M)},U=function(M){var j;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),u();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?w():p();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?x():y();break;case"Home":M.preventDefault(),M.stopPropagation(),g();break;case"End":M.preventDefault(),M.stopPropagation(),m();break}(j=n.onDayKeyDown)===null||j===void 0||j.call(n,e,t,M)},Ee={onClick:v,onFocus:_,onBlur:S,onKeyDown:U,onKeyUp:X,onMouseEnter:k,onMouseLeave:C,onPointerEnter:P,onPointerLeave:D,onTouchCancel:E,onTouchEnd:T,onTouchMove:F,onTouchStart:Y};return Ee}function cM(){var e=oe(),t=Xx(),n=vh(),r=xh(),s=nl(e)?t.selected:$i(e)?n.selected:Bi(e)?r.selected:void 0;return s}function uM(e){return Object.values(Dt).includes(e)}function dM(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(uM(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function hM(e,t){var n=B({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=B(B({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function fM(e,t,n){var r,s,i,o=oe(),a=bh(),l=iM(e,t),u=lM(e,l),d=cM(),h=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var k;l.outside||a.focusedDay&&h&&Je(a.focusedDay,e)&&((k=n.current)===null||k===void 0||k.focus())},[a.focusedDay,e,n,h,l.outside]);var f=dM(o,l).join(" "),p=hM(o,l),y=!!(l.outside&&!o.showOutsideDays||l.hidden),w=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:A4,x=c.jsx(w,{date:e,displayMonth:t,activeModifiers:l}),g={style:p,className:f,children:x,role:"gridcell"},m=a.focusTarget&&Je(a.focusTarget,e)&&!l.outside,v=a.focusedDay&&Je(a.focusedDay,e),_=B(B(B({},g),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=v||m?0:-1,r)),u),S={isButton:h,isHidden:y,activeModifiers:l,selectedDays:d,buttonProps:_,divProps:g};return S}function pM(e){var t=b.useRef(null),n=fM(e.date,e.displayMonth,t);return n.isHidden?c.jsx("div",{role:"gridcell"}):n.isButton?c.jsx(_a,B({name:"day",ref:t},n.buttonProps)):c.jsx("div",B({},n.divProps))}function mM(e){var t=e.number,n=e.dates,r=oe(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:a});if(!s)return c.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=l(Number(t),{locale:a}),f=function(p){s(t,n,p)};return c.jsx(_a,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function gM(e){var t,n,r=oe(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:pM,u=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:mM,d;return o&&(d=c.jsx("td",{className:i.cell,style:s.cell,children:c.jsx(u,{number:e.weekNumber,dates:e.dates})})),c.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(h){return c.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:c.jsx(l,{displayMonth:e.displayMonth,date:h})},$E(h))})]})}function Fm(e,t,n){for(var r=n!=null&&n.ISOWeek?yx(t):tl(t,n),s=n!=null&&n.ISOWeek?fr(e):Be(e,n),i=Lt(r,s),o=[],a=0;a<=i;a++)o.push(ne(s,a));var l=o.reduce(function(u,d){var h=n!=null&&n.ISOWeek?wx(d):_x(d,n),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return l}function vM(e,t){var n=Fm(He(e),dh(e),t);if(t!=null&&t.useFixedWeeks){var r=VE(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=wa(i,6-r),a=Fm(wa(i,1),o,t);n.push.apply(n,a)}}return n}function yM(e){var t,n,r,s=oe(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,p=s.ISOWeek,y=vM(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),w=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:O4,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:gM,g=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:T4;return c.jsxs("table",{id:e.id,className:o.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&c.jsx(w,{}),c.jsx("tbody",{className:o.tbody,style:a.tbody,children:y.map(function(m){return c.jsx(x,{displayMonth:e.displayMonth,dates:m.dates,weekNumber:m.weekNumber},m.weekNumber)})}),c.jsx(g,{displayMonth:e.displayMonth})]})}function xM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var wM=xM()?b.useLayoutEffect:b.useEffect,nc=!1,bM=0;function Im(){return"react-day-picker-".concat(++bM)}function _M(e){var t,n=e??(nc?Im():null),r=b.useState(n),s=r[0],i=r[1];return wM(function(){s===null&&i(Im())},[]),b.useEffect(function(){nc===!1&&(nc=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function kM(e){var t,n,r=oe(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=Vi().displayMonths,u=_M(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,p=e.displayIndex===0,y=e.displayIndex===l.length-1,w=!p&&!y;s==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(h.push(i.caption_start),f=B(B({},f),o.caption_start)),y&&(h.push(i.caption_end),f=B(B({},f),o.caption_end)),w&&(h.push(i.caption_between),f=B(B({},f),o.caption_between));var x=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:E4;return c.jsxs("div",{className:h.join(" "),style:f,children:[c.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c.jsx(yM,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function SM(e){var t=oe(),n=t.classNames,r=t.styles;return c.jsx("div",{className:n.months,style:r.months,children:e.children})}function jM(e){var t,n,r=e.initialProps,s=oe(),i=bh(),o=Vi(),a=b.useState(!1),l=a[0],u=a[1];b.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=B(B({},s.styles.root),s.style),f=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,w){var x;return B(B({},y),(x={},x[w]=r[w],x))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:SM;return c.jsx("div",B({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:c.jsx(p,{children:o.displayMonths.map(function(y,w){return c.jsx(kM,{displayIndex:w,displayMonth:y},w)})})}))}function CM(e){var t=e.children,n=QT(e,["children"]);return c.jsx(m4,{initialProps:n,children:c.jsx(j4,{children:c.jsx(oM,{initialProps:n,children:c.jsx(R4,{initialProps:n,children:c.jsx(I4,{initialProps:n,children:c.jsx(Y4,{children:c.jsx(sM,{children:t})})})})})})})}function ku(e){return c.jsx(CM,B({},e,{children:c.jsx(jM,{initialProps:e})}))}function PM({onClose:e,onSave:t}){const[n,r]=b.useState(),[s,i]=b.useState(),[o,a]=b.useState("tuesday"),[l,u]=b.useState("monday"),[d,h]=b.useState(null),[f,p]=b.useState(!1),[y,w]=b.useState([]),[x,g]=b.useState(!0);b.useEffect(()=>{m()},[]);const m=async()=>{try{g(!0);const{data:k,error:C}=await R.from("scheduling_rules").select("*").order("start_date",{ascending:!0});if(C)throw C;w(k||[])}catch(k){console.error("Error loading rules:",k),h(k instanceof Error?k.message:"Failed to load rules")}finally{g(!1)}},v=async()=>{if(!n||!s){h("Please select both start and end dates");return}if(o===l){h("Arrival and departure days cannot be the same");return}p(!0),h(null);try{const{error:k}=await R.from("scheduling_rules").insert([{start_date:n.toISOString().split("T")[0],end_date:s.toISOString().split("T")[0],arrival_day:o,departure_day:l}]);if(k)throw k;await m(),t(),r(void 0),i(void 0),a("tuesday"),u("monday")}catch(k){console.error("Error saving rule:",k),h(k instanceof Error?k.message:"Failed to save rule")}finally{p(!1)}},_=async k=>{try{const{error:C}=await R.from("scheduling_rules").delete().eq("id",k);if(C)throw C;await m()}catch(C){console.error("Error deleting rule:",C),h(C instanceof Error?C.message:"Failed to delete rule")}},S=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60]",children:c.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-stone-200 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(hr,{className:"w-6 h-6 text-emerald-900"}),c.jsx("h2",{className:"text-2xl font-display font-light",children:"Configure Calendar Range"})]}),c.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600",children:c.jsx(at,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"flex-1 overflow-auto",children:c.jsxs("div",{className:"p-6 grid grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Start Date"}),c.jsx(ku,{mode:"single",selected:n,onSelect:r,className:"border rounded-lg bg-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"End Date"}),c.jsx(ku,{mode:"single",selected:s,onSelect:i,disabled:k=>k<(n||new Date),className:"border rounded-lg bg-white"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Arrival Day"}),c.jsx("select",{value:o,onChange:k=>a(k.target.value),className:"w-full p-2 border rounded-lg",children:S.map(k=>c.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Departure Day"}),c.jsx("select",{value:l,onChange:k=>u(k.target.value),className:"w-full p-2 border rounded-lg",children:S.map(k=>c.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))})]})]}),d&&c.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 rounded-lg text-sm",children:d}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-stone-600 hover:text-stone-900",children:"Cancel"}),c.jsx("button",{onClick:v,disabled:f||!n||!s||o===l,className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800 disabled:bg-stone-300",children:f?"Saving...":"Add Rule"})]})]}),c.jsxs("div",{className:"border-l pl-8",children:[c.jsx("h4",{className:"text-xl font-display font-light mb-6",children:"Current Rules"}),x?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900"})}):c.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-4",children:y.map(k=>c.jsx("div",{className:"bg-white p-6 rounded-lg border border-stone-200 hover:border-emerald-900/20 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"font-display text-lg",children:[z(Ur(k.start_date),"MMM d, yyyy")," - ",z(Ur(k.end_date),"MMM d, yyyy")]}),k.is_blocked?c.jsx("p",{className:"text-rose-600 font-medium",children:"Blocked Period"}):c.jsxs("div",{className:"text-stone-600",children:[k.arrival_day&&c.jsxs("p",{children:["Arrival: ",k.arrival_day.charAt(0).toUpperCase()+k.arrival_day.slice(1)]}),k.departure_day&&c.jsxs("p",{children:["Departure: ",k.departure_day.charAt(0).toUpperCase()+k.departure_day.slice(1)]})]})]}),c.jsx("button",{onClick:()=>_(k.id),className:"text-stone-400 hover:text-rose-600 transition-colors",children:c.jsx(fx,{className:"w-5 h-5"})})]})},k.id))})]})]})})]})})}const Jx=1;function Ht(e,t){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0));return mx(n,t+Jx)}function $m(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0));return mx(t,Jx)}function Zx(e,t){const n=[],r={dec16:Ht(new Date("2024-12-16"),0),dec23:Ht(new Date("2024-12-23"),0),dec30:Ht(new Date("2024-12-30"),0),jan07:Ht(new Date("2025-01-07"),0)};e<=r.dec16&&(n.push(r.dec16),n.push(r.dec23),n.push(r.dec30));let s=e>r.dec30?e:r.jan07;for(e>r.jan07&&(s=Ht(s,0),s=UE(s,2),s<e&&(s=ne(s,7)));n.length<t;)(s>=e||n.length===0)&&n.push(s),s=ne(s,7);return n.slice(0,t)}function NM(){let s="M 0 15";for(let i=0;i<8;i++){const o=i*12.5+4.166666666666667,a=(i+1)*12.5,l=i%2===0?30*.2:30*.8,u=30/2;s+=` C ${o} ${l}, ${o} ${l}, ${a} ${u}`}return s}function Bm(e,t,n){const r=Be(t),s=Be(n);return e.filter(i=>{const o=Be(i);return o>=r&&o<=s})}const Vm=16,EM=12,TM=3,MM="https://images.unsplash.com/photo-1510798831971-661eb04b3739?q=80&w=2940&auto=format&fit=crop";function DM(){var S;const{accommodations:e,loading:t}=ph(),[n,r]=b.useState([]),[s,i]=b.useState(null),[o,a]=b.useState(()=>He(Ht(new Date("2024-12-16"),0))),[l,u]=b.useState(!1),[d,h]=b.useState(!1),f=Ii(),p=((S=f==null?void 0:f.user)==null?void 0:S.email)==="andre@thegarden.pt",y=window.innerWidth<768;b.useState(()=>Array.from({length:Vm},()=>NM()));const w=b.useMemo(()=>Zx(o,y?EM:Vm),[o,y]),x=k=>!k||n.length===0?!1:n.some(C=>Sr(wa(C,1),k)),g=k=>n.length===0?!1:Sr(k,n[0])||Sr(k,n[n.length-1]),m=async k=>{r(C=>{const P=C.some(F=>Sr(F,k));if(P&&!g(k))return C;if(P)return C.filter(F=>!Sr(F,k));if(C.length===0)return[k];const D=C[0],E=C[C.length-1];let T;if(hh(k,D))T=[...Bm(w,k,E)];else if(ba(k,E))T=[...Bm(w,D,k)];else return C;return T.length>12?(u(!0),C):T})},v=()=>{const k=We(o,-1);return z(k,"MMM")},_=()=>{const k=We(o,1);return z(k,"MMM")};return c.jsxs("div",{className:"min-h-screen p-4 md:p-8 tree-pattern",style:{backgroundImage:`linear-gradient(rgba(244, 240, 232, 0.9), rgba(244, 240, 232, 0.9)), url(${MM})`,backgroundSize:"cover",backgroundPosition:"center"},children:[c.jsxs("div",{className:"grid lg:grid-cols-[2fr,1fr] gap-8 max-w-6xl mx-auto",children:[c.jsxs("section",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx(G.button,{onClick:()=>a(k=>We(k,-1)),className:"bg-white px-6 py-2 rounded-lg font-serif text-lg hover:bg-stone-50 transition-colors pixel-corners",whileHover:{scale:1.05},whileTap:{scale:.95},children:v()}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("h2",{className:"text-3xl font-serif font-light",children:[z(o,"MMMM '''"),z(o,"yy")]}),p&&c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800 transition-colors",children:[c.jsx(jN,{className:"w-4 h-4"}),c.jsx("span",{children:"Configure Rules"})]})]}),c.jsx(G.button,{onClick:()=>a(k=>We(k,1)),className:"bg-white px-6 py-2 rounded-lg font-serif text-lg hover:bg-stone-50 transition-colors pixel-corners",whileHover:{scale:1.05},whileTap:{scale:.95},children:_()})]}),c.jsx(lT,{weeks:w,selectedWeeks:n,onToggleWeek:m,isConsecutiveWeek:x,isFirstOrLastSelected:g,currentMonth:o,isMobile:y}),c.jsx("div",{className:"flex flex-col items-center mt-6",children:c.jsx(gN,{className:"w-8 h-8 text-stone-400 animate-bounce"})}),c.jsx(pT,{accommodations:e,selectedAccommodation:s,onSelectAccommodation:i,selectedWeeks:n,currentMonth:o})]}),c.jsx(GT,{selectedWeeks:n,selectedAccommodation:s?e.find(k=>k.id===s):null,baseRate:TM,onClearWeeks:()=>r([]),onClearAccommodation:()=>i(null)})]}),c.jsx(qT,{isOpen:l,onClose:()=>u(!1)}),d&&c.jsx(PM,{onClose:()=>h(!1),onSave:()=>{h(!1),r([])}})]})}function OM({application:e,onClose:t}){var s,i;const n=[{id:1,text:"Consent to data storage",section:"Consent"},{id:2,text:"First Name",section:"Personal"},{id:3,text:"Last Name",section:"Personal"},{id:4,text:"Where aren't you from?",section:"Personal"},{id:5,text:"Email address",section:"Personal"},{id:6,text:"Referral",section:"Personal"},{id:7,text:"Muse or artisan?",section:"Stay Details"},{id:8,text:"Applying with someone else?",section:"Stay Details"},{id:9,text:"WhatsApp number",section:"Contact"},{id:10,text:"Social media presence",section:"Personal"},{id:11,text:"Current life status",section:"Personal"},{id:12,text:"Why The Garden?",section:"Motivation"},{id:13,text:"Photos",section:"Personal"},{id:14,text:"Proud creation",section:"Personal"},{id:15,text:"Hurt feelings",section:"Philosophy"},{id:16,text:"Changed belief",section:"Philosophy"},{id:17,text:"If we really knew you",section:"Personal"},{id:18,text:"Working on",section:"Personal"},{id:19,text:"Getting to know people",section:"Social"},{id:20,text:"Questions for strangers",section:"Social"},{id:21,text:"Identity",section:"Philosophy"},{id:22,text:"Taboo topics",section:"Philosophy"},{id:23,text:"Conspiracy theory",section:"Philosophy"},{id:24,text:"Unique belief",section:"Philosophy"},{id:25,text:"Astrology",section:"Philosophy"},{id:26,text:"Logic puzzle",section:"Philosophy"},{id:27,text:"MBTI type",section:"Personal"}],r=Array.from(new Set(n.map(o=>o.section)));return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-stone-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-medium",children:[(s=e.data)==null?void 0:s[4]," ",(i=e.data)==null?void 0:i[5]]}),c.jsx("p",{className:"text-sm text-stone-600",children:e.user_email})]}),c.jsx("button",{onClick:t,className:"text-stone-400 hover:text-stone-600 transition-colors",children:c.jsx(at,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"overflow-y-auto p-6",children:r.map(o=>c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-medium text-stone-900 mb-4",children:o}),c.jsx("div",{className:"space-y-6",children:n.filter(a=>a.section===o).map(a=>{var l,u,d;return c.jsxs("div",{className:"bg-stone-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-stone-900 mb-2",children:a.text}),c.jsx("div",{className:"text-stone-600 whitespace-pre-wrap",children:((u=(l=e.data)==null?void 0:l[a.id])==null?void 0:u.selection)||((d=e.data)==null?void 0:d[a.id])||"No response"})]},a.id)})})]},o))})]})})}function AM(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null),[o,a]=b.useState(null),[l,u]=b.useState("all");b.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:p,error:y}=await R.from("application_details").select("*").order("created_at",{ascending:!1});if(y)throw y;t(p||[])}catch(p){console.error("Error loading applications:",p),i(p instanceof Error?p.message:"Failed to load applications")}finally{r(!1)}},h=async(p,y)=>{try{if(y==="approved"){const{error:w}=await R.rpc("approve_application",{p_application_id:p});if(w)throw w}else if(y==="rejected"){const{error:w}=await R.rpc("reject_application",{p_application_id:p});if(w)throw w}await d()}catch(w){console.error("Error updating application:",w),i(w instanceof Error?w.message:"Failed to update application")}},f=e.filter(p=>l==="all"?!0:p.status===l);return n?c.jsx("div",{className:"flex justify-center items-center p-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900"})}):c.jsxs("div",{className:"p-6",children:[s&&c.jsx("div",{className:"mb-6 p-4 bg-rose-50 text-rose-600 rounded-lg",children:s}),c.jsxs("div",{className:"flex gap-4 mb-6",children:[c.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg transition-colors ${l==="all"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:"All"}),c.jsxs("button",{onClick:()=>u("pending"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l==="pending"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(yN,{className:"w-4 h-4"}),"Pending"]}),c.jsxs("button",{onClick:()=>u("approved"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l==="approved"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(ya,{className:"w-4 h-4"}),"Approved"]}),c.jsxs("button",{onClick:()=>u("rejected"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${l==="rejected"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(bu,{className:"w-4 h-4"}),"Rejected"]})]}),c.jsx("div",{className:"space-y-4",children:c.jsx(Vt,{children:f.map(p=>c.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white p-6 rounded-lg border border-stone-200 hover:border-emerald-900/20 transition-colors",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-medium",children:[p.data[4]," ",p.data[5]]}),c.jsx("p",{className:"text-sm text-stone-600",children:p.user_email}),p.linked_name&&c.jsxs("div",{className:"mt-2 text-sm text-stone-500",children:["Linked with: ",p.linked_name," (",p.linked_email,")",p.linked_application_id&&c.jsx("span",{className:"ml-2 text-emerald-600",children:" Applied"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>a(p),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-stone-100 text-stone-600 hover:bg-stone-200 transition-colors",children:[c.jsx(xN,{className:"w-4 h-4"}),"View"]}),p.status==="pending"&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>h(p.id,"approved"),className:"p-2 rounded-lg bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-colors",children:c.jsx(ya,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(p.id,"rejected"),className:"p-2 rounded-lg bg-rose-100 text-rose-600 hover:bg-rose-200 transition-colors",children:c.jsx(bu,{className:"w-4 h-4"})})]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.status==="pending"?"bg-yellow-100 text-yellow-800":p.status==="approved"?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:p.status})]})]})},p.id))})}),o&&c.jsx(OM,{application:o,onClose:()=>a(null)})]})}function RM({application:e,onClose:t}){const n=r=>{if(!r)return"Not answered";if(typeof r=="object"){if(r.answer){let s=r.answer;return r.role&&(s+=`
Role: ${r.role}`),r.partnerName&&(s+=`
Partner Name: ${r.partnerName}`),r.partnerEmail&&(s+=`
Partner Email: ${r.partnerEmail}`),s}return JSON.stringify(r,null,2)}return String(r)};return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-stone-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-medium",children:[e.data[4]," ",e.data[5]]}),c.jsx("p",{className:"text-stone-600",children:e.user_email})]}),c.jsx("button",{onClick:t,className:"text-stone-400 hover:text-stone-600 transition-colors",children:c.jsx(at,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"overflow-y-auto p-6",children:Object.entries(e.data).map(([r,s])=>c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"font-medium text-stone-900 mb-2",children:["Question ",r]}),c.jsx("div",{className:"bg-stone-50 p-4 rounded-lg",children:c.jsx("p",{className:"text-stone-600 whitespace-pre-wrap",children:n(s)})})]},r))})]})})}function cn({children:e,content:t}){const[n,r]=b.useState(!1),s=i=>{if(!i)return"Not provided";if(typeof i=="object"){if(i.answer){let o=i.answer;return i.role&&(o+=`
Role: ${i.role}`),i.partnerName&&(o+=`
Partner Name: ${i.partnerName}`),i.partnerEmail&&(o+=`
Partner Email: ${i.partnerEmail}`),o}return JSON.stringify(i,null,2)}return String(i)};return c.jsxs("div",{className:"relative",children:[c.jsx("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>r(!n),className:"cursor-pointer",children:e}),n&&c.jsx("div",{className:"absolute z-50 bg-black text-white p-4 rounded-lg shadow-lg max-w-md whitespace-pre-wrap",children:s(t)})]})}function LM(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null),[o,a]=b.useState(null),[l,u]=b.useState("pending");I.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:x,error:g}=await R.from("application_details").select("*").order("created_at",{ascending:!1});if(g)throw g;t(x||[])}catch(x){console.error("Error loading applications:",x),i(x instanceof Error?x.message:"Failed to load applications")}finally{r(!1)}},h=async(x,g)=>{try{if(g==="approved"){const{error:m}=await R.rpc("approve_application",{p_application_id:x});if(m)throw m}else if(g==="rejected"){const{error:m}=await R.rpc("reject_application",{p_application_id:x});if(m)throw m}await d()}catch(m){console.error("Error updating application:",m),i(m instanceof Error?m.message:"Failed to update application")}},f=x=>{if(!x)return null;let g=[];try{if(typeof x=="string"){const _=JSON.parse(x);g=Array.isArray(_)?_:[]}else Array.isArray(x)&&(g=x)}catch{return null}const m=g.filter(_=>typeof _=="string"&&_.trim()!=="");if(m.length===0)return null;const v={1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-2",4:"grid-cols-2"};return c.jsx("div",{className:`grid ${v[Math.min(m.length,4)]} gap-2 aspect-square`,children:m.slice(0,4).map((_,S)=>c.jsx("img",{src:_,alt:`Applicant photo ${S+1}`,className:`w-full h-full object-cover rounded-lg ${m.length===3&&S===2?"col-span-2":""}`},S))})},p=x=>x?typeof x=="object"?x.answer?x.answer:JSON.stringify(x):String(x):"Not provided",y=x=>{const{data:{13:g,25:m,29:v,23:_,26:S,24:k,19:C,21:P,17:D}}=x;return c.jsxs(G.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white p-6 rounded-xl shadow-sm border border-stone-200 space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("button",{onClick:()=>a(x),className:"font-medium text-lg hover:text-emerald-600 transition-colors text-left group",children:c.jsxs("span",{className:"group-hover:underline",children:[x.data[4]," ",x.data[5]]})}),c.jsx("p",{className:"text-stone-600",children:x.user_email})]}),c.jsxs("div",{className:"flex gap-2",children:[x.status==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>h(x.id,"approved"),className:"p-2 rounded-lg bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition-colors",children:c.jsx(ya,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(x.id,"rejected"),className:"p-2 rounded-lg bg-rose-100 text-rose-600 hover:bg-rose-200 transition-colors",children:c.jsx(bu,{className:"w-4 h-4"})})]}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x.status==="pending"?"bg-yellow-100 text-yellow-800":x.status==="approved"?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:x.status})]})]}),f(g),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Astrology:"}),c.jsx(cn,{content:m,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(m)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"MBTI:"}),c.jsx(cn,{content:v,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(v)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Conspiracy Theory:"}),c.jsx(cn,{content:_,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(_)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Logic Puzzle:"}),c.jsx(cn,{content:S,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(S)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Unique Belief:"}),c.jsx(cn,{content:k,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(k)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Getting to Know People:"}),c.jsx(cn,{content:C,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(C)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"Identity:"}),c.jsx(cn,{content:P,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(P)})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-stone-500",children:"If we really knew you:"}),c.jsx(cn,{content:D,children:c.jsx("p",{className:"mt-1 line-clamp-2",children:p(D)})})]})]})]})};if(n)return c.jsx("div",{className:"flex justify-center items-center p-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900"})});if(s)return c.jsx("div",{className:"p-6 text-rose-600 bg-rose-50 rounded-lg",children:s});const w=e.filter(x=>x.status===l);return c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex gap-4 mb-6",children:["pending","approved","rejected"].map(x=>c.jsx("button",{onClick:()=>u(x),className:`px-4 py-2 rounded-lg transition-colors ${l===x?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),c.jsx("div",{className:"grid grid-cols-2 gap-6",children:c.jsx(Vt,{children:w.map(x=>c.jsx("div",{children:y(x)},x.id))})}),c.jsx(Vt,{children:o&&c.jsx(RM,{application:o,onClose:()=>a(null)})})]})}function FM(){const[e,t]=I.useState([]),[n,r]=I.useState(!0),[s,i]=I.useState(null);I.useEffect(()=>{o();const a=R.channel("bookings_channel").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},()=>{o()}).subscribe();return()=>{a.unsubscribe()}},[]);async function o(){try{const{data:{user:a}}=await R.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:l,error:u}=await R.from("bookings").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});if(u)throw u;const d=await Promise.all((l||[]).map(async h=>{const{data:f}=await R.from("accommodations").select("title, location").eq("id",h.accommodation_id).single(),{data:p}=await R.from("profiles").select("email").eq("id",h.user_id).single();return{...h,accommodation_title:(f==null?void 0:f.title)||"N/A",accommodation_location:(f==null?void 0:f.location)||"N/A",user_email:(p==null?void 0:p.email)||"N/A"}}));t(d)}catch(a){console.error("Error loading bookings:",a),i(a instanceof Error?a.message:"Failed to load bookings")}finally{r(!1)}}return n?c.jsx("div",{className:"flex justify-center items-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}):s?c.jsx("div",{className:"text-red-500 text-center",children:s}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accommodation"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-in"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-out"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(a=>c.jsxs("tr",{children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.accommodation_title}),c.jsx("div",{className:"text-sm text-gray-500",children:a.accommodation_location})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:a.user_email})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z(new Date(a.check_in),"PP")}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:z(new Date(a.check_out),"PP")}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["",a.total_price]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${a.status==="confirmed"?"bg-green-100 text-green-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status})})]},a.id))})]})})}function IM({onClose:e,onSave:t,currentStatus:n}){return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg w-full max-w-sm p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Set Availability Status"}),c.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:c.jsx(at,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>t("AVAILABLE"),className:`w-full p-3 rounded-lg flex items-center justify-between ${n==="AVAILABLE"?"bg-green-100 border-2 border-green-500":"bg-white border border-gray-200 hover:bg-green-50"}`,children:[c.jsx("span",{className:"font-medium",children:"Available"}),c.jsx("div",{className:"w-24 h-6 rounded bg-gradient-to-r from-green-500 to-blue-500"})]}),c.jsxs("button",{onClick:()=>t("HOLD"),className:`w-full p-3 rounded-lg flex items-center justify-between ${n==="HOLD"?"bg-yellow-100 border-2 border-yellow-500":"bg-white border border-gray-200 hover:bg-yellow-50"}`,children:[c.jsx("span",{className:"font-medium",children:"Hold"}),c.jsx("div",{className:"w-24 h-6 rounded bg-gradient-to-r from-yellow-500 to-blue-500"})]}),c.jsxs("button",{onClick:()=>t("BOOKED"),className:`w-full p-3 rounded-lg flex items-center justify-between ${n==="BOOKED"?"bg-red-100 border-2 border-red-500":"bg-white border border-gray-200 hover:bg-red-50"}`,children:[c.jsx("span",{className:"font-medium",children:"Booked"}),c.jsx("div",{className:"w-24 h-6 rounded bg-gradient-to-r from-red-500 to-blue-500"})]})]})]})})}function $M({onClose:e,onSuccess:t,accommodations:n}){const[r,s]=b.useState(""),[i,o]=b.useState(),[a,l]=b.useState(""),[u,d]=b.useState(!1),[h,f]=b.useState(null),[p,y]=b.useState(n),[w,x]=b.useState(!1),g=async(_,S)=>{try{x(!0),f(null);const k=$m(_),C=$m(S),[{data:P,error:D},{data:E,error:T}]=await Promise.all([R.from("availability").select("accommodation_id").eq("status","BOOKED").gte("date",k.toISOString().split("T")[0]).lte("date",C.toISOString().split("T")[0]),R.from("availability").select("accommodation_id").eq("status","HOLD").gte("date",k.toISOString().split("T")[0]).lte("date",C.toISOString().split("T")[0])]);if(D)throw D;if(T)throw T;const F=new Set([...(P==null?void 0:P.map(X=>X.accommodation_id))||[],...(E==null?void 0:E.map(X=>X.accommodation_id))||[]]);l("");const Y=n.filter(X=>!F.has(X.id));y(Y)}catch(k){console.error("Error checking availability:",k),f(k instanceof Error?k.message:"Failed to check availability")}finally{x(!1)}},m=_=>{o(_),_!=null&&_.from&&(_!=null&&_.to)?g(_.from,_.to):y(n)},v=async()=>{if(!r||!(i!=null&&i.from)||!(i!=null&&i.to)||!a){f("Please fill in all fields");return}d(!0),f(null);try{const _=n.find(k=>k.id===a);if(!_)throw new Error("Selected accommodation not found");const{error:S}=await R.rpc("create_manual_booking",{p_email:r,p_accommodation_id:a,p_check_in:Ht(i.from).toISOString(),p_check_out:Ht(i.to).toISOString(),p_total_price:_.price});if(S)throw S;t()}catch(_){console.error("Error creating manual booking:",_),f(_ instanceof Error?_.message:"Failed to create booking")}finally{d(!1)}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Add Manual Booking"}),c.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:c.jsx(at,{className:"w-6 h-6"})})]}),h&&c.jsx("div",{className:"mb-4 p-3 bg-rose-50 text-rose-600 rounded-lg",children:h}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Email"}),c.jsx("input",{type:"email",value:r,onChange:_=>s(_.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",placeholder:"guest@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Dates"}),c.jsx(ku,{mode:"range",selected:i,onSelect:m,disabled:{before:new Date}})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accommodation"}),c.jsxs("select",{value:a,onChange:_=>l(_.target.value),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-emerald-500",disabled:!i||w,children:[c.jsx("option",{value:"",children:"Select accommodation"}),p.map(_=>c.jsxs("option",{value:_.id,children:[_.title," - ",_.price]},_.id))]}),w&&c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Checking availability..."}),p.length===0&&!w&&i&&c.jsx("p",{className:"mt-1 text-sm text-rose-600",children:"No accommodations available for selected dates"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),c.jsx("button",{onClick:v,disabled:u||!r||!i||!a,className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800 disabled:bg-gray-300 disabled:cursor-not-allowed",children:u?"Creating...":"Create Booking"})]})]})]})})}function BM({onClose:e}){const[t,n]=b.useState([]),[r,s]=b.useState([]),[i,o]=b.useState("all"),[a,l]=b.useState(!1),[u,d]=b.useState(!1),[h,f]=b.useState(null),[p,y]=b.useState(!0),[w,x]=b.useState(null),[g,m]=b.useState(()=>new Date),[v,_]=b.useState({}),S=Array.from({length:new Date(g.getFullYear(),g.getMonth()+1,0).getDate()},(T,F)=>new Date(g.getFullYear(),g.getMonth(),F+1));b.useEffect(()=>{k()},[g,i]);async function k(){try{y(!0),x(null);const{data:T,error:F}=await R.from("accommodations").select("*").order("title").is("parent_accommodation_id",null);if(F)throw F;const Y=new Date(g.getFullYear(),g.getMonth(),1),X=new Date(g.getFullYear(),g.getMonth()+1,0),{data:U,error:Ee}=await R.from("bookings").select(`
          id,
          accommodation_id,
          check_in,
          check_out,
          accommodations!inner (
            id,
            title,
            parent_accommodation_id
          )
        `).eq("status","confirmed").or(`check_in.lte.${X.toISOString()},check_out.gt.${Y.toISOString()}`);if(Ee)throw Ee;const M={},j=(T==null?void 0:T.filter(O=>O.title.includes("Dorm")).map(O=>O.id))||[];j.forEach(O=>{M[O]={},S.forEach(L=>{M[O][z(L,"yyyy-MM-dd")]=0})}),U==null||U.forEach(O=>{const L=O.accommodations;if(L.parent_accommodation_id&&j.includes(L.parent_accommodation_id)){const W=new Date(O.check_in),V=new Date(O.check_out);let ae=new Date(W);for(;ae<V;){const je=z(ae,"yyyy-MM-dd");M[L.parent_accommodation_id][je]!==void 0&&M[L.parent_accommodation_id][je]++,ae=ne(ae,1)}}}),s(T||[]),n(U||[]),_(M)}catch(T){console.error("Error loading data:",T),x(T instanceof Error?T.message:"Failed to load data")}finally{y(!1)}}const C=(T,F)=>{const Y=T.toISOString().split("T")[0];for(const X of t)if(X.accommodation_id===F){const U=X.check_in.split("T")[0],Ee=X.check_out.split("T")[0];if(Y===U)return"CHECK_IN";if(Y===Ee)return"CHECK_OUT";if(Y>U&&Y<Ee)return"BOOKED"}return"AVAILABLE"},P=T=>{const F="h-8 px-2 text-center text-xs border-r cursor-pointer transition-colors";if(typeof T=="number")return`${F} bg-white`;switch(T){case"CHECK_IN":return`${F} bg-gradient-to-r from-emerald-500 to-black text-white`;case"CHECK_OUT":return`${F} bg-gradient-to-l from-emerald-500 to-black text-white`;case"BOOKED":return`${F} bg-black text-white cursor-not-allowed`;case"HOLD":return`${F} bg-yellow-400`;default:return`${F} bg-emerald-500 text-white`}},D=(T,F)=>{var U;const Y=z(F,"yyyy-MM-dd");if(T.title.includes("Dorm"))return(((U=v[T.id])==null?void 0:U[Y])||0).toString();switch(C(F,T.id)){case"CHECK_IN":return"";case"CHECK_OUT":return"";case"BOOKED":return"";case"HOLD":return"";default:return""}},E=T=>ne(T,-1);return c.jsxs(Vt,{children:[c.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 overflow-hidden",children:c.jsx(G.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"absolute inset-0 bg-white",children:c.jsxs("div",{className:"h-screen flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-stone-200 flex justify-between items-center bg-white",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>m(T=>new Date(T.getFullYear(),T.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(cx,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-semibold",children:z(E(g),"MMMM yyyy")}),c.jsx("button",{onClick:()=>m(T=>new Date(T.getFullYear(),T.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-full",children:c.jsx(ah,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>d(!0),className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800",children:"Add Manual Booking"}),c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),c.jsx("span",{children:"Available"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),c.jsx("span",{children:"Hold"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-black"}),c.jsx("span",{children:"Booked"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-20 h-3 rounded-full bg-gradient-to-r from-emerald-500 to-black"}),c.jsx("span",{children:"Check-in/out"})]})]}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-stone-100 rounded-full text-stone-600 hover:text-stone-900 transition-colors",children:c.jsx(at,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[w&&c.jsx("div",{className:"mb-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:c.jsx("p",{className:"text-red-700",children:w})}),p?c.jsx("div",{className:"flex justify-center items-center h-96",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full divide-y divide-gray-200",style:{tableLayout:"fixed"},children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"sticky left-0 bg-gray-50 px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[200px]",children:"Accommodation"}),S.map(T=>c.jsxs("th",{className:"px-2 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:[c.jsx("div",{children:z(E(T),"d")}),c.jsx("div",{children:z(E(T),"EEE")})]},T.toISOString()))]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(T=>c.jsxs("tr",{children:[c.jsx("td",{className:"sticky left-0 bg-white px-4 py-2 whitespace-nowrap border-r",children:c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[T.title," (",T.inventory_count,")"]})}),S.map(F=>{var X;const Y=T.title.includes("Dorm")?((X=v[T.id])==null?void 0:X[z(F,"yyyy-MM-dd")])||0:C(F,T.id);return c.jsx("td",{className:P(Y),children:D(T,F)},F.toISOString())})]},T.id))})]})})]}),c.jsx("div",{className:"p-4 border-t border-stone-200 text-sm text-stone-500 text-center",children:"Note: All dates shown are adjusted -1 day for display purposes only"})]})})}),a&&c.jsx(IM,{onClose:()=>{l(!1),f(null)},onSave:async T=>{if(h)try{const{error:F}=await R.from("availability").insert({accommodation_id:i,date:h.start.toISOString(),status:T});if(F)throw F;await k(),l(!1),f(null)}catch(F){console.error("Error saving availability:",F),x(F instanceof Error?F.message:"Failed to save availability")}}}),u&&c.jsx($M,{onClose:()=>d(!1),onSuccess:()=>{d(!1),k()},accommodations:r})]})}function VM({onClose:e}){const[t,n]=b.useState(0),[r,s]=b.useState([]),[i,o]=b.useState([]),[a,l]=b.useState(!0),[u,d]=b.useState(null),h=Zx(Ht(new Date("2024-12-16"),0),52),f=h[t],p=Be(f),y=tl(f);b.useEffect(()=>{w();const v=R.channel("bookings_changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},()=>{w()}).subscribe();return()=>{v.unsubscribe()}},[t]);async function w(){try{l(!0),d(null);const{data:v,error:_}=await R.from("accommodations").select("*").order("price",{ascending:!0});if(_)throw _;const{data:S,error:k}=await R.from("booking_details").select(`
          id,
          accommodation_id,
          check_in,
          check_out,
          total_price,
          user_email
        `).or(`check_in.lte.${y.toISOString()},check_out.gt.${p.toISOString()}`).eq("status","confirmed");if(k)throw k;s(v||[]),o(S||[])}catch(v){console.error("Error loading data:",v),d(v instanceof Error?v.message:"Failed to load data")}finally{l(!1)}}const x=v=>{const _=i.find(S=>S.accommodation_id===v.id&&Sr(new Date(S.check_in),f));return{isBooked:!!_,booking:_}},g=v=>v.isBooked?"bg-black text-white border-stone-300":"bg-emerald-500 text-white border-emerald-600",m=v=>ne(v,-1);return c.jsx(Vt,{children:c.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 overflow-hidden",children:c.jsx(G.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"absolute inset-0 bg-white",children:c.jsxs("div",{className:"h-screen flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-stone-200 flex justify-between items-center bg-white",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>n(v=>Math.max(0,v-1)),disabled:t===0,className:"p-2 hover:bg-stone-100 rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(cx,{className:"w-5 h-5"})}),c.jsxs("div",{className:"text-center",children:[c.jsxs("h2",{className:"text-xl font-display",children:[z(m(p),"MMM d"),"  ",z(m(y),"MMM d, yyyy")]}),c.jsxs("p",{className:"text-sm text-stone-500",children:["Week ",t+1," of ",h.length]})]}),c.jsx("button",{onClick:()=>n(v=>Math.min(h.length-1,v+1)),disabled:t===h.length-1,className:"p-2 hover:bg-stone-100 rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(ah,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-black"}),c.jsx("span",{children:"Occupied"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),c.jsx("span",{children:"Available"})]})]}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-stone-100 rounded-full text-stone-600 hover:text-stone-900 transition-colors",children:c.jsx(at,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[u&&c.jsx("div",{className:"mb-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:c.jsx("p",{className:"text-red-700",children:u})}),a?c.jsx("div",{className:"flex justify-center items-center h-96",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-500"})}):c.jsx("div",{className:"grid gap-2",children:r.map(v=>{const _=x(v);return c.jsxs("div",{className:`p-4 rounded-lg border ${g(_)} transition-colors`,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-display mb-1",children:v.title}),c.jsxs("div",{className:"flex items-center gap-4 text-sm opacity-90",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(lx,{className:"w-4 h-4"}),c.jsxs("span",{children:[v.inventory_count," unit",v.inventory_count!==1?"s":""]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(hr,{className:"w-4 h-4"}),c.jsxs("span",{children:[z(m(p),"MMM d")," - ",z(m(y),"MMM d")]})]})]})]}),_.isBooked&&_.booking&&c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(el,{className:"w-4 h-4"}),c.jsx("span",{children:_.booking.user_email})]}),c.jsxs("p",{className:"text-sm opacity-90",children:["",_.booking.total_price]})]})]}),_.isBooked&&_.booking&&c.jsxs("div",{className:"mt-3 pt-3 border-t border-white/20 grid grid-cols-2 gap-4 text-sm opacity-90",children:[c.jsxs("div",{children:[c.jsx("span",{className:"opacity-75",children:"Check-in:"}),c.jsx("p",{children:z(m(new Date(_.booking.check_in)),"MMM d, yyyy")})]}),c.jsxs("div",{children:[c.jsx("span",{className:"opacity-75",children:"Check-out:"}),c.jsx("p",{children:z(m(new Date(_.booking.check_out)),"MMM d, yyyy")})]})]})]},v.id)})})]}),c.jsx("div",{className:"p-4 border-t border-stone-200 text-sm text-stone-500 text-center",children:"Note: All dates shown are adjusted -1 day for display purposes only"})]})})})})}function UM(){const[e,t]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null),[o,a]=b.useState(""),[l,u]=b.useState(""),[d,h]=b.useState(!1);b.useEffect(()=>{f();const x=R.channel("whitelist_changes").on("postgres_changes",{event:"*",schema:"public",table:"whitelist"},()=>{f()}).subscribe();return()=>{x.unsubscribe()}},[]);const f=async()=>{try{r(!0);const{data:x,error:g}=await R.from("whitelist").select("*").order("created_at",{ascending:!1});if(g)throw g;t(x||[])}catch(x){console.error("Error loading whitelist:",x),i(x instanceof Error?x.message:"Failed to load whitelist")}finally{r(!1)}},p=async()=>{if(o)try{const{error:x}=await R.from("whitelist").insert({email:o,notes:l});if(x)throw x;a(""),u(""),await f()}catch(x){console.error("Error adding to whitelist:",x),i(x instanceof Error?x.message:"Failed to add to whitelist")}},y=async x=>{try{const{error:g}=await R.from("whitelist").delete().eq("id",x);if(g)throw g;await f()}catch(g){console.error("Error removing from whitelist:",g),i(g instanceof Error?g.message:"Failed to remove from whitelist")}},w=async x=>{var m;const g=(m=x.target.files)==null?void 0:m[0];if(g)try{const _=(await g.text()).split(`
`).map(k=>k.trim()).filter(k=>k&&k.includes("@")),{error:S}=await R.from("whitelist").insert(_.map(k=>({email:k,notes:"Added via CSV upload"})));if(S)throw S;h(!1),await f()}catch(v){console.error("Error uploading CSV:",v),i(v instanceof Error?v.message:"Failed to upload CSV")}};return n?c.jsx("div",{className:"flex justify-center items-center p-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-900"})}):c.jsxs("div",{className:"p-6",children:[s&&c.jsx("div",{className:"mb-6 p-4 bg-rose-50 text-rose-600 rounded-lg",children:s}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-stone-200 mb-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Add to Whitelist"}),c.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 text-emerald-600 hover:text-emerald-700",children:[c.jsx(PN,{className:"w-4 h-4"}),"Upload CSV"]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"email",value:o,onChange:x=>a(x.target.value),placeholder:"Email address",className:"flex-1 p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-emerald-900 focus:border-emerald-900"}),c.jsx("input",{type:"text",value:l,onChange:x=>u(x.target.value),placeholder:"Notes (optional)",className:"flex-1 p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-emerald-900 focus:border-emerald-900"}),c.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800 transition-colors",children:[c.jsx(kN,{className:"w-4 h-4"}),"Add"]})]})]}),c.jsx("div",{className:"space-y-4",children:e.map(x=>c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white p-4 rounded-lg border border-stone-200 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:x.email}),x.notes&&c.jsx("div",{className:"text-sm text-stone-600 mt-1",children:x.notes}),c.jsxs("div",{className:"flex gap-4 mt-2",children:[x.has_created_account?c.jsx("span",{className:"text-sm text-emerald-600",children:"Has Account"}):c.jsx("span",{className:"text-sm text-stone-500",children:"No Account Yet"}),x.has_seen_welcome&&c.jsx("span",{className:"text-sm text-emerald-600",children:"Has Seen Welcome"}),x.last_login&&c.jsxs("span",{className:"text-sm text-stone-500",children:["Last login: ",new Date(x.last_login).toLocaleString()]})]})]}),c.jsx("button",{onClick:()=>y(x.id),className:"p-2 text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",children:c.jsx(fx,{className:"w-4 h-4"})})]},x.id))}),c.jsx(Vt,{children:d&&c.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(G.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Upload CSV"}),c.jsx("button",{onClick:()=>h(!1),className:"text-stone-400 hover:text-stone-600",children:c.jsx(at,{className:"w-6 h-6"})})]}),c.jsx("p",{className:"text-stone-600 mb-4",children:"Upload a CSV file containing one email address per line."}),c.jsx("input",{type:"file",accept:".csv,text/csv",onChange:w,className:"w-full"})]})})})]})}function WM(){const[e,t]=b.useState("applications"),[n,r]=b.useState(!1),[s,i]=b.useState(!1);return c.jsxs("div",{className:"min-h-screen bg-stone-50",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-display font-light text-stone-900",children:"Admin Dashboard"}),c.jsx("p",{className:"text-stone-600",children:"Manage applications, bookings, and availability"})]}),c.jsxs("div",{className:"flex gap-4 mb-8 overflow-x-auto pb-2",children:[c.jsxs("button",{onClick:()=>t("applications"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${e==="applications"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(el,{className:"w-4 h-4"}),"Applications"]}),c.jsxs("button",{onClick:()=>t("appview"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${e==="appview"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(wN,{className:"w-4 h-4"}),"AppView"]}),c.jsxs("button",{onClick:()=>t("bookings"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${e==="bookings"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(vN,{className:"w-4 h-4"}),"Bookings"]}),c.jsxs("button",{onClick:()=>r(!0),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${n?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(hr,{className:"w-4 h-4"}),"Calendar"]}),c.jsxs("button",{onClick:()=>i(!0),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${s?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(bN,{className:"w-4 h-4"}),"Weekly",c.jsx("div",{className:"text-xs text-stone-500",children:"for weekly: need to pre-load whole year so it is visible (right now it only shows the first month bookings then resets) need to fix dates so they correspond to weekselector"})]}),c.jsxs("button",{onClick:()=>t("whitelist"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${e==="whitelist"?"bg-emerald-900 text-white":"bg-white text-stone-600 hover:bg-stone-50 border border-stone-200"}`,children:[c.jsx(NN,{className:"w-4 h-4"}),"Whitelist"]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 shadow-sm",children:[e==="applications"&&c.jsx(AM,{}),e==="appview"&&c.jsx(LM,{}),e==="bookings"&&c.jsx(FM,{}),e==="whitelist"&&c.jsx(UM,{})]})]}),n&&c.jsx(BM,{onClose:()=>r(!1)}),s&&c.jsx(VM,{onClose:()=>i(!1)})]})}function Su(){var r;const e=Vn(),t=on(),n=(r=e.state)==null?void 0:r.booking;return I.useEffect(()=>{n||t("/my-bookings")},[n,t]),I.useEffect(()=>{const s=i=>{t("/my-bookings")};return window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[t]),n?c.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:c.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl w-full bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden",children:[c.jsxs("div",{className:"p-8 text-center border-b border-stone-200",children:[c.jsx(G.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(ya,{className:"w-8 h-8 text-emerald-600"})}),c.jsx("h1",{className:"text-3xl font-display font-light text-stone-900 mb-2",children:"Booking Confirmed"}),c.jsx("p",{className:"text-stone-600 font-body",children:"Your journey at The Garden awaits"})]}),c.jsxs("div",{className:"p-8 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[c.jsx(hr,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Check-in"})]}),c.jsx("p",{className:"font-display text-xl",children:z(new Date(n.checkIn),"EEEE, MMMM d")}),c.jsx("p",{className:"text-sm text-emerald-600",children:"Available from 3-6PM"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[c.jsx(hr,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Check-out"})]}),c.jsx("p",{className:"font-display text-xl",children:z(new Date(n.checkOut),"EEEE, MMMM d")}),c.jsx("p",{className:"text-sm text-emerald-600",children:"By 12PM Noon"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[c.jsx(dx,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Accommodation"})]}),c.jsx("p",{className:"font-display text-xl",children:n.accommodation})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[c.jsx(el,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Guests"})]}),c.jsxs("p",{className:"font-display text-xl",children:[n.guests," ",n.guests===1?"Person":"People"]})]})]}),c.jsx("div",{className:"border-t border-stone-200 pt-6",children:c.jsxs("div",{className:"flex justify-between items-center text-lg font-display",children:[c.jsx("span",{children:"Total Amount Paid"}),c.jsxs("span",{children:["",n.totalPrice]})]})}),c.jsxs("div",{className:"bg-emerald-50 p-6 rounded-lg space-y-4",children:[c.jsx("h3",{className:"font-display text-lg text-emerald-900",children:"Tidbits"}),c.jsxs("ul",{className:"space-y-2 text-sm text-emerald-800",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-emerald-700 mt-1",children:""}),c.jsx("span",{children:"This is a co-created experience. "})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-emerald-700 mt-1",children:""}),c.jsx("span",{children:"The Garden is a strictly smoke & alcohol-free space"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-emerald-700 mt-1",children:""}),c.jsx("span",{children:"Lunch & dinner included Monday-Friday"})]})]})]}),c.jsxs("a",{href:"https://gardening.notion.site/Welcome-to-The-Garden-2684f446b48e4b43b3f003d7fca33664?pvs=4",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-emerald-900 text-white py-3 px-6 rounded-lg hover:bg-emerald-800 transition-colors text-center font-display text-lg flex items-center justify-center gap-2",children:["Welcome Guide",c.jsx(ux,{className:"w-4 h-4"})]}),c.jsxs(dv,{to:"/my-bookings",className:"inline-flex items-center gap-2 text-stone-600 hover:text-stone-900 transition-colors",children:[c.jsx(ax,{className:"w-4 h-4"}),c.jsx("span",{children:"View All Bookings"})]})]})]})}):null}function zM(){var d;const e=Vn(),t=on(),n=(d=e.state)==null?void 0:d.booking,[r,s]=b.useState("");R.auth.getSession().then(h=>{var p,y;const f=(y=(p=h==null?void 0:h.data)==null?void 0:p.session)==null?void 0:y.access_token;f&&f!=""&&s(f)}),I.useEffect(()=>{n||t("/my-bookings")},[n,t]),I.useEffect(()=>{const h=f=>{t("/my-bookings")};return window.addEventListener("popstate",h),()=>window.removeEventListener("popstate",h)},[t]);const i=z(new Date(n.checkIn),"EEEE, MMMM d"),o=z(new Date(n.checkOut),"EEEE, MMMM d"),a=n.accommodation,l=n.totalPrice,u=`${a} from ${i} to ${o}`;return n?c.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:c.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl w-full bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden",children:c.jsxs("div",{className:"p-8 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[c.jsx(hr,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Check-in"})]}),c.jsx("p",{className:"font-display text-xl",children:i}),c.jsx("p",{className:"text-sm text-emerald-600",children:"Available from 3-6PM"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[c.jsx(hr,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Check-out"})]}),c.jsx("p",{className:"font-display text-xl",children:o}),c.jsx("p",{className:"text-sm text-emerald-600",children:"By 12PM Noon"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[c.jsx(dx,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Accommodation"})]}),c.jsx("p",{className:"font-display text-xl",children:a})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[c.jsx(el,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:"Guests"})]}),c.jsxs("p",{className:"font-display text-xl",children:[n.guests," ",n.guests===1?"Person":"People"]})]})]}),c.jsx("div",{className:"border-t border-stone-200 pt-6",children:c.jsxs("div",{className:"flex justify-between items-center text-lg font-display",children:[c.jsx("span",{children:"Total Amount Due"}),c.jsxs("span",{children:["",l]})]})}),r&&c.jsx(Vx,{authToken:r,total:parseFloat(l),description:u}),c.jsxs(dv,{to:"/",className:"inline-flex items-center gap-2 text-stone-600 hover:text-stone-900 transition-colors",children:[c.jsx(ax,{className:"w-4 h-4"}),c.jsx("span",{children:"View Calendar"})]})]})})}):null}function ew({isOpen:e,onClose:t}){return c.jsx(Vt,{children:e&&c.jsx(G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(G.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:n=>n.stopPropagation(),className:"bg-black border-2 border-[#FFBF00]/30 max-w-md w-full p-8 text-center",style:{clipPath:`polygon(
                0 4px, 4px 4px, 4px 0,
                calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                0 calc(100% - 4px)
              )`},children:[c.jsx("img",{src:"https://raw.githubusercontent.com/milesan/synesthesia/refs/heads/main/Enso%20Zen%20Soto%20Symbol.png",alt:"Logo",className:"w-12 h-12 mx-auto mb-4 invert"}),c.jsx("h2",{className:"text-[#FFBF00] text-2xl font-display mb-4",children:"Welcome to The Garden"}),c.jsx("p",{className:"text-[#FFBF00]/60 mb-6",children:"You have been approved for 2025 and have bypassed the application."}),c.jsx("button",{onClick:t,className:"bg-[#FFBF00] text-black px-8 py-3 font-display text-xl",style:{clipPath:`polygon(
                  0 4px, 4px 4px, 4px 0,
                  calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                  100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                  calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                  0 calc(100% - 4px)
                )`},children:"Enter"})]})})})}function HM(){var h;const[e,t]=b.useState("calendar"),[n,r]=b.useState(!1),s=Ii(),i=on(),o=((h=s==null?void 0:s.user)==null?void 0:h.email)==="andre@thegarden.pt";Px(),b.useEffect(()=>{a()},[]);const a=async()=>{var f,p,y,w;try{const{data:{user:x}}=await R.auth.getUser();if(!(x!=null&&x.email))return;const{data:g}=await R.auth.getUser(),m=(p=(f=g.user)==null?void 0:f.user_metadata)==null?void 0:p.is_whitelisted,v=(w=(y=g.user)==null?void 0:y.user_metadata)==null?void 0:w.has_seen_welcome;m&&!v&&r(!0)}catch(x){console.error("Error checking whitelist status:",x)}},l=async()=>{try{await R.auth.signOut(),window.location.href="/"}catch(f){console.error("Error signing out:",f)}},u=async()=>{var f;try{await R.auth.updateUser({data:{has_seen_welcome:!0}}),await R.rpc("mark_whitelist_welcome_seen",{p_email:(f=s==null?void 0:s.user)==null?void 0:f.email}),r(!1)}catch(p){console.error("Error updating welcome status:",p),r(!1)}};if(!s)return c.jsx(y_,{to:"/",replace:!0});const d=f=>{t(f),i(f==="calendar"?"/":`/${f}`)};return c.jsxs("div",{className:"min-h-screen bg-stone-50",children:[c.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-stone-200",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-black flex items-center gap-3",children:[c.jsx("img",{src:"https://raw.githubusercontent.com/milesan/synesthesia/refs/heads/main/Enso%20Zen%20Soto%20Symbol.png",alt:"Logo",className:"w-[42px] h-[42px]"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-display font-light tracking-wide",children:"The Garden"}),c.jsx("p",{className:"text-sm text-stone-600 hidden md:block font-['EB_Garamond'] italic tracking-wide",children:"a new kind of place"})]})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("nav",{className:"flex gap-6",children:[c.jsx("button",{onClick:()=>d("calendar"),className:`text-sm font-body transition-colors ${e==="calendar"?"text-emerald-900 font-medium":"text-stone-600 hover:text-emerald-900"}`,children:"Calendar"}),c.jsx("button",{onClick:()=>d("my-bookings"),className:`text-sm font-body transition-colors ${e==="my-bookings"?"text-emerald-900 font-medium":"text-stone-600 hover:text-emerald-900"}`,children:"My Account"}),o&&c.jsx("button",{onClick:()=>d("admin"),className:"bg-emerald-900 text-white px-4 py-2 rounded-lg hover:bg-emerald-800 transition-colors text-sm font-body",children:"Admin Panel"})]}),c.jsx("button",{onClick:l,className:"bg-stone-100 text-stone-600 px-6 py-2 hover:bg-stone-200 transition-colors text-sm font-body rounded-lg",children:"Sign Out"})]})]})})}),c.jsx("main",{className:"relative",children:c.jsxs(Do,{children:[c.jsx(Nt,{path:"/",element:c.jsx(DM,{})}),c.jsx(Nt,{path:"/my-bookings",element:c.jsx(oT,{})}),o&&c.jsx(Nt,{path:"/admin",element:c.jsx(WM,{})}),c.jsx(Nt,{path:"/confirmation",element:c.jsx(Su,{})}),c.jsx(Nt,{path:"/payment",element:c.jsx(zM,{})})]})}),c.jsx(ew,{isOpen:n,onClose:u})]})}function YM({question:e,value:t,onChange:n,onAutoAdvance:r,themeColor:s="garden-gold"}){const i=e.order_number===3,o=e.text.toLowerCase().includes("mbti"),a=()=>{window.location.href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"};if(o)return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-2xl font-display text-[#FFBF00]",children:[e.text,e.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsx("input",{type:"text",value:t||"",onChange:l=>n(l.target.value),className:"w-full bg-black/30 p-3 text-[#FFBF00] focus:outline-none focus:ring-2 focus:ring-[#FFBF00] placeholder-[#FFBF00]/30 border-4 border-[#FFBF00]/30",required:e.required,style:{clipPath:`polygon(
              0 4px, 4px 4px, 4px 0,
              calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
              100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
              calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
              0 calc(100% - 4px)
            )`}})]});if(e.type==="radio"&&e.options){const l=Array.isArray(e.options)?e.options:JSON.parse(e.options),u=d=>{if(i&&d==="No"){a();return}n(d),i&&d==="Yes"&&r&&setTimeout(()=>{r()},500)};return c.jsx("div",{className:"space-y-4",children:i?c.jsxs(G.div,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.65},children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute -left-8 top-0 bottom-0 w-2 bg-gradient-to-b from-[#FFBF00]/60 via-[#FFBF00]/40 to-[#FFBF00]/20"}),c.jsx(G.div,{className:"space-y-6 pl-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.65},children:c.jsxs("div",{className:"space-y-4 font-display text-lg leading-relaxed max-w-lg",children:[c.jsx("p",{className:"text-[#FFBF00]/60",children:"This is a curated place, unlike any other."}),c.jsx("p",{className:"text-[#FFBF00]/70",children:"We seek those with the attention span & curiosity to complete this application."}),c.jsx("p",{className:"text-[#FFBF00]/80",children:"We're not impressed by your followers, fortune, or fame [though none of those exclude you]."}),c.jsx("p",{className:"text-[#FFBF00] text-2xl",children:"We seek the realest."})]})})]}),c.jsxs(G.div,{className:"pt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.85},children:[c.jsx("h3",{className:"text-xl font-display mb-2 text-[#FFBF00]/90",children:"Do you consent to your data being stored and reviewed?"}),c.jsx("p",{className:"text-sm text-[#FFBF00]/60 -mt-1 mb-6",children:"We value data privacy."}),c.jsx("div",{className:"flex justify-center gap-8",children:l.map(d=>c.jsx("button",{onClick:()=>u(d),className:"bg-[#FFBF00] text-black px-6 py-3 text-lg transition-colors hover:bg-[#FFBF00]/90",style:{clipPath:`polygon(
                        0 4px, 4px 4px, 4px 0,
                        calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                        100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                        calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                        0 calc(100% - 4px)
                      )`},children:d},d))})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("h3",{className:"text-2xl font-display text-[#FFBF00]",children:[e.text,e.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsx("div",{className:"space-y-2",children:l.map(d=>{const h=t===d;return c.jsxs("label",{className:`flex items-center p-3 cursor-pointer transition-all ${h?"bg-[#FFBF00]/20":"hover:bg-[#FFBF00]/10"}`,style:{clipPath:`polygon(
                        0 4px, 4px 4px, 4px 0,
                        calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                        100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                        calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                        0 calc(100% - 4px)
                      )`},children:[c.jsx("div",{className:`flex-shrink-0 w-6 h-6 mr-4 flex items-center justify-center transition-colors ${h?"border-4 border-[#FFBF00] bg-[#FFBF00]":"border-4 border-[#FFBF00]"}`,style:{clipPath:`polygon(
                        0 4px, 4px 4px, 4px 0,
                        calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                        100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                        calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                        0 calc(100% - 4px)
                      )`},children:h&&c.jsx(mN,{className:"w-4 h-4 text-black"})}),c.jsx("input",{type:"radio",name:`question-${e.order_number}`,value:d,checked:h,onChange:()=>u(d),className:"sr-only",required:e.required}),c.jsx("span",{className:"text-base text-[#FFBF00]",children:d})]},d)})})]})})}return e.type==="textarea"?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-2xl font-display text-[#FFBF00]",children:[e.text,e.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsx("div",{className:"relative",children:c.jsx("textarea",{value:t||"",onChange:l=>n(l.target.value),className:"w-full bg-black/30 p-3 text-[#FFBF00] focus:outline-none focus:ring-2 focus:ring-[#FFBF00] placeholder-[#FFBF00]/30 border-4 border-[#FFBF00]/30",rows:4,required:e.required,style:{clipPath:`polygon(
                0 4px, 4px 4px, 4px 0,
                calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                0 calc(100% - 4px)
              )`}})})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"text-2xl font-display text-[#FFBF00]",children:[e.text,e.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:e.type,value:t||"",onChange:l=>n(l.target.value),className:"w-full bg-black/30 p-3 text-[#FFBF00] focus:outline-none focus:ring-2 focus:ring-[#FFBF00] placeholder-[#FFBF00]/30 border-4 border-[#FFBF00]/30",required:e.required,style:{clipPath:`polygon(
              0 4px, 4px 4px, 4px 0,
              calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
              100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
              calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
              0 calc(100% - 4px)
            )`}})})]})}function KM({questions:e,onSubmit:t}){const[n,r]=b.useState({}),[s,i]=b.useState(!1),[o,a]=b.useState(0);b.useState(()=>Math.random()<.33);const l=on(),u=b.useRef(null),d=async k=>{k.preventDefault(),i(!0);try{await t(n)}finally{i(!1)}},h=(k,C)=>{r(P=>({...P,[k]:C})),setTimeout(()=>{const P=document.querySelector(`[data-question="${k}"]`);if(P&&u.current){const D=P.nextElementSibling;if(D){const E=D.getBoundingClientRect().top-u.current.getBoundingClientRect().top+u.current.scrollTop-100;u.current.scrollTo({top:E,behavior:"smooth"})}}},100)},f=async()=>{await R.auth.signOut(),l("/")},p=()=>{a(k=>Math.min(w.length-1,k+1))},y=e.reduce((k,C)=>{const P=C.section||"Other";return k[P]||(k[P]=[]),k[P].push(C),k},{}),w=Object.keys(y),x=w[o],g=y[x]||[],m=e.filter(k=>k.required).length,_=e.filter(k=>k.required).filter(k=>n[k.order_number]!==void 0&&n[k.order_number]!=="").length/m*100,S=()=>g.every(k=>k.required?n[k.order_number]!==void 0&&n[k.order_number]!=="":!0);return b.useEffect(()=>{u.current&&(u.current.scrollTop=0)},[o]),c.jsxs("div",{className:"min-h-screen bg-black text-[#FFBF00] font-mono",children:[c.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-black border-b border-[#FFBF00]/20",children:c.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[c.jsxs("div",{className:"flex items-center justify-between py-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(hx,{className:"w-6 h-6"}),c.jsx("h1",{className:"text-xl font-display",children:"The Garden"})]}),c.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 text-sm bg-[#FFBF00]/10 hover:bg-[#FFBF00]/20 transition-colors rounded",children:[c.jsx(_N,{className:"w-4 h-4"}),c.jsx("span",{children:"Sign Out"})]})]}),c.jsx("div",{className:"flex gap-6 py-2 overflow-x-auto scrollbar-none",children:w.map((k,C)=>c.jsx("button",{disabled:C>o&&!S(),onClick:()=>C<=o&&a(C),className:`text-sm whitespace-nowrap transition-all ${C===o?"text-[#FFBF00]":C<o?"text-[#FFBF00]/60 hover:text-[#FFBF00]/80":"text-[#FFBF00]/30"}`,children:k},k))}),c.jsx("div",{className:"h-0.5 bg-[#FFBF00]/10",children:c.jsx(G.div,{className:"h-full bg-[#FFBF00]",initial:{width:0},animate:{width:`${_}%`},transition:{duration:.3}})})]})}),c.jsx("div",{ref:u,className:"fixed top-[140px] bottom-[80px] left-0 right-0 overflow-y-auto",children:c.jsx("div",{className:"max-w-2xl mx-auto px-4",children:c.jsx(G.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-12 pb-12",children:g.map(k=>c.jsxs("div",{"data-question":k.order_number,className:"space-y-4 relative",children:[c.jsx(YM,{question:k,value:n[k.order_number],onChange:C=>h(k.order_number,C),onAutoAdvance:p}),c.jsx("div",{className:"section-divider relative"})]},k.order_number))},x)})}),c.jsxs("div",{className:"fixed bottom-4 right-4 left-4 flex justify-between items-center max-w-2xl mx-auto",children:[o>0&&c.jsx("button",{type:"button",onClick:()=>a(k=>Math.max(0,k-1)),className:"group px-4 py-2 text-base transition-all bg-[#FFBF00]/10 hover:bg-[#FFBF00]/20 text-[#FFBF00]",style:{clipPath:`polygon(
                0 4px, 4px 4px, 4px 0,
                calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                0 calc(100% - 4px)
              )`},children:"Previous"}),o===w.length-1?c.jsx("button",{type:"submit",disabled:s||!S(),onClick:d,className:"group flex items-center gap-2 bg-[#FFBF00] text-black px-6 py-3 text-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed mx-auto",style:{clipPath:`polygon(
                0 4px, 4px 4px, 4px 0,
                calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                0 calc(100% - 4px)
              )`},children:s?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-black border-t-transparent"}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(SN,{className:"w-5 h-5"}),"Submit"]})}):c.jsxs("button",{type:"button",onClick:()=>S()&&a(k=>k+1),disabled:!S(),className:`group flex items-center gap-2 px-4 py-2 text-base transition-all ${S()?"bg-[#FFBF00] text-black":"bg-[#FFBF00]/10 text-[#FFBF00]"} disabled:opacity-50 disabled:cursor-not-allowed`,style:{clipPath:`polygon(
                0 4px, 4px 4px, 4px 0,
                calc(100% - 4px) 0, calc(100% - 4px) 4px, 100% 4px,
                100% calc(100% - 4px), calc(100% - 4px) calc(100% - 4px),
                calc(100% - 4px) 100%, 4px 100%, 4px calc(100% - 4px),
                0 calc(100% - 4px)
              )`},children:[c.jsx("span",{children:"Next"}),c.jsx(ah,{className:"w-4 h-4"})]})]}),c.jsx("div",{className:"fixed bottom-4 left-4 text-[#FFBF00]/20",children:c.jsx(CN,{className:"w-5 h-5"})})]})}function GM({isOpen:e,onClose:t,onSuccess:n}){b.useState(""),b.useState(""),b.useState(!1),b.useEffect(()=>{e&&r()},[e]);const r=async()=>{try{const{data:{user:s}}=await R.auth.getUser();if(!(s!=null&&s.email))return;const{data:i,error:o}=await R.rpc("check_whitelist_status",{p_email:s.email});if(o)throw o;i!=null&&i.is_whitelisted?(await R.auth.refreshSession(),n()):setTimeout(()=>{t()},20)}catch(s){console.error("Error checking whitelist:",s),setTimeout(()=>{t()},20)}};return c.jsx("div",{style:{opacity:0}})}const qM=`               
         
                   
                   
                 
                     `,QM=" ";function XM({onComplete:e}){const[t,n]=b.useState([]),[r,s]=b.useState(0),[i,o]=b.useState(0),[a,l]=b.useState(!1),[u,d]=b.useState(!1),h=window.innerWidth<768,f=on(),y=Vn().pathname==="/retro2";b.useEffect(()=>{if(h&&y){e();return}n((h?QM:qM).split(`
`))},[h,e,y]),b.useEffect(()=>{if(t.length===0||r>=t.length)return;const m=t[r];if(i>=m.length){setTimeout(()=>{s(_=>_+1),o(0)},100);return}const v=setTimeout(()=>{o(_=>_+1)},7);return()=>clearTimeout(v)},[t,r,i]),b.useEffect(()=>{r>=t.length&&t.length>0&&l(!0)},[r,t.length]);const w=()=>{l(!1),d(!0)},x=()=>{l(!1),e()},g=()=>{d(!1),f("/")};return c.jsxs("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 overflow-hidden",children:[c.jsx("pre",{className:"text-[#FFBF00] whitespace-pre font-mono text-sm md:text-base lg:text-lg overflow-x-auto max-w-full text-center",style:{maxHeight:"90vh",overflowY:"auto",scrollbarWidth:"none",msOverflowStyle:"none",transform:h?"scale(0.8)":"none"},children:t.slice(0,r).map((m,v)=>c.jsx("div",{className:"min-w-max",children:v===r-1?m.slice(0,i):m},v))}),c.jsx(GM,{isOpen:a,onClose:x,onSuccess:w}),c.jsx(ew,{isOpen:u,onClose:g}),c.jsx("div",{onClick:()=>f("/retro2"),className:"fixed top-0 right-0 w-[30px] h-[30px] cursor-default z-50",style:{opacity:0}})]})}function JM(){const[e,t]=b.useState(!1),[n,r]=b.useState([]),[s,i]=b.useState(!0),[o,a]=b.useState(null);I.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const{data:d,error:h}=await R.from("application_questions").select("*").order("order_number");if(h)throw h;r(d||[])}catch(d){console.error("Error loading questions:",d),a(d instanceof Error?d.message:"Failed to load questions")}finally{i(!1)}},u=async d=>{var h;try{const{data:{user:f}}=await R.auth.getUser();if(!f)throw new Error("Not authenticated");const p=((h=d[9])==null?void 0:h.answer)==="Yes",y=p?d[9].partnerName:null,w=p?d[9].partnerEmail:null,{data:x,error:g}=await R.from("applications").insert({user_id:f.id,data:d,status:"pending"}).select().single();if(g)throw g;if(p&&y&&w&&x){const{error:v}=await R.from("linked_applications").insert({primary_application_id:x.id,linked_name:y,linked_email:w});if(v)throw v}const{error:m}=await R.auth.updateUser({data:{has_applied:!0,application_status:"pending"}});if(m)throw m;await R.auth.refreshSession()}catch(f){throw console.error("Error submitting application:",f),f}};return s?c.jsx("div",{className:"flex justify-center items-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#FFBF00]"})}):c.jsxs("div",{className:"fixed inset-0 bg-black overflow-hidden",children:[c.jsx(G.div,{className:"absolute inset-0",animate:{y:e?"-100%":"0%"},transition:{duration:.4,ease:[.8,.2,.2,.8]},children:c.jsx(XM,{onComplete:()=>t(!0)})}),c.jsx(G.div,{className:"absolute inset-0",initial:{y:"100%"},animate:{y:e?"0%":"100%"},transition:{duration:.4,ease:[.8,.2,.2,.8]},children:c.jsx(KM,{questions:n,onSubmit:u})})]})}class yo extends b.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[c.jsx("h2",{className:"text-xl font-semibold text-stone-900 mb-4",children:"Something went wrong"}),c.jsx("p",{className:"text-stone-600 mb-4",children:"We're having trouble connecting to our servers. Please try:"}),c.jsxs("ul",{className:"list-disc list-inside text-stone-600 mb-6 space-y-2",children:[c.jsx("li",{children:"Refreshing the page"}),c.jsx("li",{children:"Checking your internet connection"}),c.jsx("li",{children:"Trying again in a few minutes"})]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-emerald-900 text-white py-2 px-4 rounded-lg hover:bg-emerald-800 transition-colors",children:"Refresh Page"})]})}):this.props.children}}const ZM=b.createContext({isReady:!1}),eD=Mx("pk_live_51KRJB4Gi5eXNGIkHhMGff7jQ8QGHbyk93UyQkK1IsjtYWFCYuLIKpJqiThkmhbHq5G0IhjoUvtfuFpD3Vo0xXMMK00ZoyckXfF");function tD({children:e}){return eD?c.jsx(ZM.Provider,{value:{isReady:!0},children:e}):c.jsx("div",{children:"Loading Stripe..."})}const nD=b.createContext({theme:"gold",toggleTheme:()=>{}});function xo({children:e}){const[t,n]=b.useState("gold"),r=()=>{n(s=>s==="gold"?"matrix":"gold")};return c.jsx(nD.Provider,{value:{theme:t,toggleTheme:r},children:e})}function rD(){const e=Ii(),[t,n]=b.useState(!0),[r,s]=b.useState(null);if(b.useEffect(()=>{let l=!0;return(async()=>{try{if(!(e!=null&&e.user)){l&&n(!1);return}const{data:{user:d},error:h}=await R.auth.getUser();if(h)throw h;if(!l)return;const f=(d==null?void 0:d.user_metadata)||{};s(f)}catch(d){console.error("Error checking user status:",d)}finally{l&&n(!1)}})(),()=>{l=!1}},[e]),t||!e)return c.jsx(yo,{children:c.jsx(xo,{children:c.jsx(Tl,{children:c.jsxs(Do,{children:[c.jsx(Nt,{path:"/",element:c.jsx(dN,{})}),c.jsx(Nt,{path:"/confirmation",element:c.jsx(Su,{})})]})})})});const i=(r==null?void 0:r.is_admin)===!0,o=(r==null?void 0:r.has_applied)===!0,a=r==null?void 0:r.application_status;return i||a==="approved"?c.jsx(yo,{children:c.jsx(xo,{children:c.jsx(Tl,{children:c.jsx(tD,{children:c.jsxs(Do,{children:[c.jsx(Nt,{path:"/*",element:c.jsx(HM,{})}),c.jsx(Nt,{path:"/confirmation",element:c.jsx(Su,{})})]})})})})}):o?c.jsx(yo,{children:c.jsx(xo,{children:c.jsx(ON,{status:a})})}):c.jsx(yo,{children:c.jsx(xo,{children:c.jsx(Tl,{children:c.jsx(Do,{children:c.jsx(Nt,{path:"*",element:c.jsx(JM,{})})})})})})}tv(document.getElementById("root")).render(c.jsx(b.StrictMode,{children:c.jsx(rD,{})}));export{Um as g};
